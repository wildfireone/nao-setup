<?xml version="1.0" encoding="UTF-8" ?>
<ChoregrapheProject xmlns="http://www.aldebaran-robotics.com/schema/choregraphe/project.xsd" xar_version="3">
    <Box name="root" id="-1" tooltip="Root box of Choregraphe&apos;s project. Highest level possible." x="0" y="0">
        <bitmap>media/images/box/root.png</bitmap>
        <script language="4">
            <content>
                <![CDATA[]]>
</content>
        </script>
        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
        <Timeline enable="0">
            <BehaviorLayer name="behavior_layer1">
                <BehaviorKeyframe name="keyframe1" index="1">
                    <Diagram>
                        <Box name="FTCdemo" id="1" tooltip="FTC demo" x="549" y="172">
                            <bitmap>media/images/box/box-diagram.png</bitmap>
                            <script language="4">
                                <content>
                                    <![CDATA[]]>
</content>
                            </script>
                            <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                            <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                            <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                            <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                            <Timeline enable="0">
                                <BehaviorLayer name="behavior_layer1">
                                    <BehaviorKeyframe name="keyframe1" index="1">
                                        <Diagram scale="79.37">
                                            <Box name="TouchHead" id="14" tooltip="Wait for headtouch." x="386" y="657">
                                                <bitmap>media/images/box/box-diagram.png</bitmap>
                                                <script language="4">
                                                    <content>
                                                        <![CDATA[]]>
</content>
                                                </script>
                                                <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                                <Output name="frontTouched" type="1" type_size="1" nature="2" inner="0" tooltip="" id="5" />
                                                <Output name="middleTouched" type="1" type_size="1" nature="2" inner="0" tooltip="" id="6" />
                                                <Output name="rearTouched" type="1" type_size="1" nature="2" inner="0" tooltip="" id="7" />
                                                <Timeline enable="0">
                                                    <BehaviorLayer name="behavior_layer1">
                                                        <BehaviorKeyframe name="keyframe1" index="1">
                                                            <Diagram>
                                                                <Box name="Tactile Head" id="2" tooltip="Detect touch on head tactile sensor." x="566" y="95">
                                                                    <bitmap>media/images/box/sensors/tactileHead.png</bitmap>
                                                                    <script language="4">
                                                                        <content>
                                                                            <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        try: # disable autoBind
          GeneratedClass.__init__(self, False)
        except TypeError: # if NAOqi < 1.14
          GeneratedClass.__init__( self )

    def onLoad(self):
        self.bIsRunning = False

    def onUnload(self):
        self.bIsRunning = False

    def onInput_onStart(self):
        self.bIsRunning = True

    def onInput_onStop(self):
        if( self.bIsRunning ):
            self.onUnload() #~ it is usually a good idea to call onUnload of this box in a onStop method, as the code written in onUnload is used to finish the working of the box as well
            self.onStopped() #~ activate output of the box
        pass]]>
</content>
                                                                    </script>
                                                                    <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                    <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                    <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                                    <Input name="FrontTactilTouched" type="0" type_size="1" nature="4" stm_value_name="FrontTactilTouched" inner="1" tooltip="Connected to ALMemory. Will be stimulated every time the value subscribed to changes, respecting the refresh period." id="4" />
                                                                    <Input name="MiddleTactilTouched" type="0" type_size="1" nature="4" stm_value_name="MiddleTactilTouched" inner="1" tooltip="Connected to ALMemory. Will be stimulated every time the value subscribed to changes, respecting the refresh period." id="5" />
                                                                    <Input name="RearTactilTouched" type="0" type_size="1" nature="4" stm_value_name="RearTactilTouched" inner="1" tooltip="Connected to ALMemory. Will be stimulated every time the value subscribed to changes, respecting the refresh period." id="6" />
                                                                    <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is stopped." id="7" />
                                                                    <Output name="frontTouched" type="1" type_size="1" nature="2" inner="0" tooltip="The front tactile head sensor was touched." id="8" />
                                                                    <Output name="middleTouched" type="1" type_size="1" nature="2" inner="0" tooltip="The middle tactile head sensor was touched." id="9" />
                                                                    <Output name="rearTouched" type="1" type_size="1" nature="2" inner="0" tooltip="The rear tactile head sensor was touched." id="10" />
                                                                    <Timeline enable="0">
                                                                        <BehaviorLayer name="behavior_layer1">
                                                                            <BehaviorKeyframe name="keyframe1" index="1">
                                                                                <Diagram>
                                                                                    <Box name="If &gt; 0" id="1" tooltip="Transmit only if value is &gt; 0." x="260" y="17">
                                                                                        <bitmap>media/images/box/box-diagram.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        try: # disable autoBind
          GeneratedClass.__init__(self, False)
        except TypeError: # if NAOqi < 1.14
          GeneratedClass.__init__( self )

    def onLoad(self):
        #~ puts code for box initialization here
        pass

    def onUnload(self):
        #~ puts code for box cleanup here
        pass

    def onInput_onStart(self, p):
        if(p > 0):
            self.onStopped() #~ activate output of the box
        pass

    def onInput_onStop(self):
        self.onUnload() #~ it is usually a good idea to call onUnload of this box in a onStop method, as the code written in onUnload is used to finish the working of the box as well
        pass]]>
</content>
                                                                                        </script>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="0" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                                                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                                                                    </Box>
                                                                                    <Box name="If &gt; 0" id="2" tooltip="Transmit only if value is &gt; 0." x="256" y="119">
                                                                                        <bitmap>media/images/box/box-diagram.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        try: # disable autoBind
          GeneratedClass.__init__(self, False)
        except TypeError: # if NAOqi < 1.14
          GeneratedClass.__init__( self )

    def onLoad(self):
        #~ puts code for box initialization here
        pass

    def onUnload(self):
        #~ puts code for box cleanup here
        pass

    def onInput_onStart(self, p):
        if(p > 0):
            self.onStopped() #~ activate output of the box
        pass

    def onInput_onStop(self):
        self.onUnload() #~ it is usually a good idea to call onUnload of this box in a onStop method, as the code written in onUnload is used to finish the working of the box as well
        pass]]>
</content>
                                                                                        </script>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="0" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                                                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                                                                    </Box>
                                                                                    <Box name="If &gt; 0" id="3" tooltip="Transmit only if value is &gt; 0." x="261" y="223">
                                                                                        <bitmap>media/images/box/box-diagram.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        try: # disable autoBind
          GeneratedClass.__init__(self, False)
        except TypeError: # if NAOqi < 1.14
          GeneratedClass.__init__( self )

    def onLoad(self):
        #~ puts code for box initialization here
        pass

    def onUnload(self):
        #~ puts code for box cleanup here
        pass

    def onInput_onStart(self, p):
        if(p > 0):
            self.onStopped() #~ activate output of the box
        pass

    def onInput_onStop(self):
        self.onUnload() #~ it is usually a good idea to call onUnload of this box in a onStop method, as the code written in onUnload is used to finish the working of the box as well
        pass]]>
</content>
                                                                                        </script>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="0" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                                                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                                                                    </Box>
                                                                                    <Link inputowner="1" indexofinput="2" outputowner="0" indexofoutput="4" />
                                                                                    <Link inputowner="0" indexofinput="8" outputowner="1" indexofoutput="4" />
                                                                                    <Link inputowner="2" indexofinput="2" outputowner="0" indexofoutput="5" />
                                                                                    <Link inputowner="0" indexofinput="9" outputowner="2" indexofoutput="4" />
                                                                                    <Link inputowner="3" indexofinput="2" outputowner="0" indexofoutput="6" />
                                                                                    <Link inputowner="0" indexofinput="10" outputowner="3" indexofoutput="4" />
                                                                                </Diagram>
                                                                            </BehaviorKeyframe>
                                                                        </BehaviorLayer>
                                                                    </Timeline>
                                                                </Box>
                                                                <Box name="SayTouchHead" id="3" tooltip="Say some text. Note that you must open the box to enter the text." x="406" y="12">
                                                                    <bitmap>media/images/box/interaction/say.png</bitmap>
                                                                    <script language="4">
                                                                        <content>
                                                                            <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        try: # disable autoBind
          GeneratedClass.__init__(self, False)
        except TypeError: # if NAOqi < 1.14
          GeneratedClass.__init__( self )

    def onLoad(self):
        self.bIsRunning = False

    def onUnload(self):
        self.bIsRunning = False

    def onInput_onStart(self):
        self.bIsRunning = True

    def onInput_onStop(self):
        if( self.bIsRunning ):
            self.onUnload()
            self.onStopped()]]>
</content>
                                                                    </script>
                                                                    <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                                                                    <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this Input." id="2" />
                                                                    <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this Input." id="3" />
                                                                    <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished or stopped." id="4" />
                                                                    <Parameter name="Voice shaping (%)" inherits_from_parent="0" content_type="1" value="100" default_value="100" min="50" max="150" tooltip='Used to modify at runtime the voice feature (tone, speed). In a slighty&#x0A;different way than pitch and speed, it gives a kind of &quot;gender or age&#x0A;modification&quot; effect.&#x0A;&#x0A;For instance, a quite good male derivation of female voice can be&#x0A;obtained setting this parameter to 78%.&#x0A;&#x0A;Note: For a better effect, you can compensate this parameter with the&#x0A;speed parameter. For example, if you want to decrease by 20% the voice&#x0A;shaping, you will have to increase by 20% the speed to keep a constant&#x0A;average speed.&#x0A;&#x0A;!Warning! This feature is not available yet in Japanese, Chinese and Korean.' id="5" />
                                                                    <Parameter name="Speed (%)" inherits_from_parent="0" content_type="1" value="100" default_value="100" min="50" max="200" tooltip="Changes the speed of the voice.&#x0A;&#x0A;Note: For a better effect, you can compensate this parameter with the voice&#x0A;shaping parameter. For example, if you want to increase by 20% the speed, you&#x0A;will have to decrease by 20% the voice shaping to keep a constant average&#x0A;speed.&#x0A;&#x0A;!Warning! This feature is not available yet in Japanese, Chinese and Korean." id="6" />
                                                                    <Timeline enable="0">
                                                                        <BehaviorLayer name="behavior_layer1">
                                                                            <BehaviorKeyframe name="keyframe1" index="1">
                                                                                <Diagram>
                                                                                    <Box name="Say Text" id="2" tooltip="Say the text received on its input." x="422" y="65">
                                                                                        <bitmap>media/images/box/interaction/say.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[import time

class MyClass(GeneratedClass):
    def __init__(self):
        try: # disable autoBind
          GeneratedClass.__init__(self, False)
        except TypeError: # if NAOqi < 1.14
          GeneratedClass.__init__( self )
        self.tts = ALProxy('ALTextToSpeech')
        self.ttsStop = ALProxy('ALTextToSpeech', True) #Create another proxy as wait is blocking if audioout is remote

    def onLoad(self):
        self.bIsRunning = False
        self.ids = []
        
    def onUnload(self):
        for id in self.ids:
            try:
                self.ttsStop.stop(id)
            except:
                pass
        while( self.bIsRunning ):
            time.sleep( 0.2 )

    def onInput_onStart(self, p):
        self.bIsRunning = True
        try:
            sentence = "\RSPD="+ str( self.getParameter("Speed (%)") ) + "\ "
            sentence += "\VCT="+ str( self.getParameter("Voice shaping (%)") ) + "\ "
            sentence += str(p)
            sentence +=  "\RST\ "
            id = self.tts.post.say(str(sentence))
            self.ids.append(id)
            self.tts.wait(id, 0)
        finally:
            try:
                self.ids.remove(id)
            except:
                pass
            if( self.ids == [] ):
                self.onStopped() # activate output of the box
                self.bIsRunning = False

    def onInput_onStop(self):
        self.onUnload()]]>
</content>
                                                                                        </script>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="3" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this Input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this Input." id="3" />
                                                                                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when Box behavior is finished." id="4" />
                                                                                        <Parameter name="Voice shaping (%)" inherits_from_parent="1" content_type="1" value="100" default_value="100" min="50" max="150" tooltip='Used to modify at runtime the voice feature (tone, speed). In a slighty&#x0A;different way than pitch and speed, it gives a kind of &quot;gender or age&#x0A;modification&quot; effect.&#x0A;&#x0A;For instance, a quite good male derivation of female voice can be&#x0A;obtained setting this parameter to 78%.&#x0A;&#x0A;Note: For a better effect, you can compensate this parameter with the&#x0A;speed parameter. For example, if you want to decrease by 20% the voice&#x0A;shaping, you will have to increase by 20% the speed to keep a constant&#x0A;average speed.' id="5" />
                                                                                        <Parameter name="Speed (%)" inherits_from_parent="1" content_type="1" value="100" default_value="100" min="50" max="200" tooltip="Changes the speed of the voice.&#x0A;&#x0A;Note: For a better effect, you can compensate this parameter with the voice&#x0A;shaping parameter. For example, if you want to increase by 20% the speed, you&#x0A;will have to decrease by 20% the voice shaping to keep a constant average&#x0A;speed." id="6" />
                                                                                    </Box>
                                                                                    <Box name="Localized Text" id="5" tooltip="Send on the output the text associated with the robot&apos;s current voice language.&#x0A;You can display and edit the text associated with any language by&#x0A;selecting the language in the combobox.&#x0A;&#x0A;!!Warning!! The text sent on the output is NOT the displayed one but the one&#x0A;associated with the robot&apos;s current voice language." plugin="localizationbox_plugin" x="114" y="68">
                                                                                        <bitmap>media/images/box/interaction/vocabulary.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
	def __init__(self):
		try: # disable autoBind
			GeneratedClass.__init__(self, False)
		except TypeError: # if NAOqi < 1.14
			GeneratedClass.__init__( self )

		self.tts = ALProxy("ALTextToSpeech")
		self.sentences = {
			"Chinese" : " 你好 ",
			"English" : " Please touch my head to activate me. ",
			"French" : " Bonjour ",
			"German" : " Hallo ",
			"Italian" : " Ciao ",
			"Japanese" : " こんにちは ",
			"Korean" : " 안녕하세요 ",
			"Portuguese" : " Olá ",
			"Brazilian" : " Olá ",
			"Spanish" : " Hola ",
			"Arabic" : " مرحبا ",
			"Polish" : " Cześć ",
			"Czech" : " Ahoj ",
			"Dutch" : " Hallo ",
			"Danish" : " Hej ",
			"Finnish" : " Hei ",
			"Swedish" : " Hallå ",
			"Russian" : " Привет ",
			"Turkish" : " Merhaba "
		}

	def onInput_onStart(self):
		sDefaultLang = self.tts.getLanguage()
		self.onStopped(self.sentences[sDefaultLang])]]>
</content>
                                                                                        </script>
                                                                                        <pluginContent>
                                                                                            <chinese>你好</chinese>
                                                                                            <english>Please touch my head to activate me.</english>
                                                                                            <french>Bonjour</french>
                                                                                            <german>Hallo</german>
                                                                                            <italian>Ciao</italian>
                                                                                            <japanese>こんにちは</japanese>
                                                                                            <korean>안녕하세요</korean>
                                                                                            <portuguese>Olá</portuguese>
                                                                                            <brazilian>Olá</brazilian>
                                                                                            <spanish>Hola</spanish>
                                                                                            <arabic>مرحبا</arabic>
                                                                                            <polish>Cześć</polish>
                                                                                            <czech>Ahoj</czech>
                                                                                            <dutch>Hallo</dutch>
                                                                                            <danish>Hej</danish>
                                                                                            <finnish>Hei</finnish>
                                                                                            <swedish>Hallå</swedish>
                                                                                            <russian>Привет</russian>
                                                                                            <turkish>Merhaba</turkish>
                                                                                            <language>1</language>
                                                                                        </pluginContent>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Data is sent on the output when this input is stimulated." id="2" />
                                                                                        <Output name="onStopped" type="3" type_size="1" nature="1" inner="0" tooltip="Data sent when asked." id="3" />
                                                                                    </Box>
                                                                                    <Link inputowner="0" indexofinput="4" outputowner="2" indexofoutput="4" />
                                                                                    <Link inputowner="5" indexofinput="2" outputowner="0" indexofoutput="2" />
                                                                                    <Link inputowner="2" indexofinput="2" outputowner="5" indexofoutput="3" />
                                                                                </Diagram>
                                                                            </BehaviorKeyframe>
                                                                        </BehaviorLayer>
                                                                    </Timeline>
                                                                </Box>
                                                                <Box name="Timer" id="1" tooltip="Send a signal with a predefined period." x="229" y="101">
                                                                    <bitmap>media/images/box/wait.png</bitmap>
                                                                    <script language="4">
                                                                        <content>
                                                                            <![CDATA[import threading

class MyClass(GeneratedClass):
    def __init__(self):
        try: # disable autoBind
          GeneratedClass.__init__(self, False)
        except TypeError: # if NAOqi < 1.14
          GeneratedClass.__init__( self )

    def onLoad(self):
        self.tb = False

    def onUnload(self):
        if( self.tb ):
            self.tb.cancel()
            self.tb = False

    def startTimer(self, period = 1):
        if( self.tb ):
            self.tb.cancel()
        self.tb = threading.Timer(period, self.startTimer, [period])
        self.tb.start()
        self.timerOutput()

    def onInput_onStart(self):
        self.startTimer( self.getParameter("Period (s)") )

    def onInput_onStop(self):
        bRunning = self.tb
        self.onUnload()
        if( bRunning ):
            self.onStopped()]]>
</content>
                                                                    </script>
                                                                    <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                    <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Start the timer using the configured period value." id="2" />
                                                                    <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Stop the timer." id="3" />
                                                                    <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is stopped." id="4" />
                                                                    <Output name="timerOutput" type="1" type_size="1" nature="2" inner="0" tooltip="Send a bang periodically." id="5" />
                                                                    <Parameter name="Period (s)" inherits_from_parent="0" content_type="2" value="300" default_value="1" min="0" max="5000" tooltip="Defines the period of the timer box (in seconds).&#x0A;&#x0A;For example, if this parameter is equal to 1s, the timerOutput will be stimulated&#x0A;every second until the onStop input is stimulated." id="6" />
                                                                </Box>
                                                                <Box name="Blink" id="4" tooltip="This box makes NAO blink once." x="727" y="203">
                                                                    <bitmap>media/images/box/interaction/LED.png</bitmap>
                                                                    <script language="4">
                                                                        <content>
                                                                            <![CDATA[import time

class MyClass(GeneratedClass):
    def __init__(self):
        try: # disable autoBind
          GeneratedClass.__init__(self, False)
        except TypeError: # if NAOqi < 1.14
          GeneratedClass.__init__( self )

    def onLoad(self):
        self.leds = ALProxy("ALLeds")

    def onUnload(self):
        #~ puts code for box cleanup here
        pass

    def onInput_onStart(self):
        rDuration = 0.05
        self.leds.post.fadeRGB( "FaceLed0", 0x000000, rDuration )
        self.leds.post.fadeRGB( "FaceLed1", 0x000000, rDuration )
        self.leds.post.fadeRGB( "FaceLed2", 0xffffff, rDuration )
        self.leds.post.fadeRGB( "FaceLed3", 0x000000, rDuration )
        self.leds.post.fadeRGB( "FaceLed4", 0x000000, rDuration )
        self.leds.post.fadeRGB( "FaceLed5", 0x000000, rDuration )
        self.leds.post.fadeRGB( "FaceLed6", 0xffffff, rDuration )
        self.leds.fadeRGB( "FaceLed7", 0x000000, rDuration )
        time.sleep( 0.1 )
        self.leds.fadeRGB( "FaceLeds", 0xffffff, rDuration )
        self.onDone()]]>
</content>
                                                                    </script>
                                                                    <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                    <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                    <Output name="onDone" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="3" />
                                                                </Box>
                                                                <Link inputowner="2" indexofinput="2" outputowner="3" indexofoutput="4" />
                                                                <Link inputowner="3" indexofinput="2" outputowner="1" indexofoutput="5" />
                                                                <Link inputowner="2" indexofinput="3" outputowner="1" indexofoutput="5" />
                                                                <Link inputowner="1" indexofinput="2" outputowner="0" indexofoutput="2" />
                                                                <Link inputowner="0" indexofinput="5" outputowner="2" indexofoutput="8" />
                                                                <Link inputowner="0" indexofinput="6" outputowner="2" indexofoutput="9" />
                                                                <Link inputowner="0" indexofinput="7" outputowner="2" indexofoutput="10" />
                                                                <Link inputowner="2" indexofinput="3" outputowner="1" indexofoutput="4" />
                                                                <Link inputowner="4" indexofinput="2" outputowner="2" indexofoutput="10" />
                                                                <Link inputowner="4" indexofinput="2" outputowner="2" indexofoutput="9" />
                                                                <Link inputowner="4" indexofinput="2" outputowner="2" indexofoutput="8" />
                                                            </Diagram>
                                                        </BehaviorKeyframe>
                                                    </BehaviorLayer>
                                                </Timeline>
                                            </Box>
                                            <Box name="Wait" id="5" tooltip="Wait a moment before sending a signal on the output. The wait can be stopped any&#x0A;time. You may restart it any time, and it will start again." x="1141" y="750">
                                                <bitmap>media/images/box/wait.png</bitmap>
                                                <script language="4">
                                                    <content>
                                                        <![CDATA[import threading

class MyClass(GeneratedClass):
    def __init__(self):
        try: # disable autoBind
          GeneratedClass.__init__(self, False)
        except TypeError: # if NAOqi < 1.14
          GeneratedClass.__init__( self )

    def onLoad(self):
        self.tb = False

    def onUnload(self):
        if( self.tb ):
            self.tb.cancel()
            self.tb = False

    def triggerOutput( self, rPeriod = 1 ):
        self.onUnload() # to clean everything
        self.timerOutput()

    def startTimer( self, rPeriod = 1 ):
        if( self.tb ):
            self.tb.cancel()
        self.tb = threading.Timer( rPeriod, self.triggerOutput, [rPeriod] )
        self.tb.start()

    def onInput_onStart(self):
        self.startTimer( self.getParameter("Timeout (s)") )

    def onInput_onStop(self):
        bRunning = self.tb
        self.onUnload()
        if( bRunning and self.getParameter("Trigger timerOutput if cancelled")):
            self.timerOutput()]]>
</content>
                                                </script>
                                                <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Start the Wait box with the configured timeout value." id="2" />
                                                <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Stop the wait and stimulate the output." id="3" />
                                                <Output name="timerOutput" type="1" type_size="1" nature="1" inner="0" tooltip="Send a bang once time set in parameters is ellapsed, or if the box is stopped." id="4" />
                                                <Parameter name="Timeout (s)" inherits_from_parent="0" content_type="2" value="5" default_value="1" min="0" max="5000" tooltip="Duration the box waits before stimulating the output." id="5" />
                                                <Parameter name="Trigger timerOutput if cancelled" inherits_from_parent="0" content_type="0" value="0" default_value="1" tooltip="" id="6" />
                                            </Box>
                                            <Box name="Movement Tracker" id="6" tooltip="Turn the head in the direction of detected movement" x="724" y="274">
                                                <bitmap>media/images/box/tracker/tracker.png</bitmap>
                                                <script language="4">
                                                    <content>
                                                        <![CDATA[def clip(val, min, max):
        res = val
        if(val < min):
                res = min
        elif(val > max):
                res = max
        return res

class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)
        pass

    def onLoad(self):
        self.BIND_PYTHON(self.getName(), "setParameter")
        self.movementdetection = ALProxy( "ALMovementDetection" )
        sensitivity = self.getParameter("Sensitivity")
        self.movementdetection.setSensitivity(sensitivity)
        self.isRunning = False
        self.previousJointAngles = ALMotion.getAngles("Head", True)
        self.currentJointAngles = ALMotion.getAngles("Head", True)

    def onUnload(self):
        if (self.isRunning):
            ALMemory.unsubscribeToMicroEvent("MovementDetection/MovementDetected", self.getName())
            self.movementdetection.unsubscribe(self.getName())
            self.isRunning = False
        pass

    def onInput_onStart(self):
        if (not self.isRunning):
            self.movementdetection.subscribe(self.getName())
            ALMemory.subscribeToMicroEvent("MovementDetection/MovementDetected", self.getName(), "tracking", "processEvent")
            self.isRunning = True
        pass

    def onInput_onStop(self):
        if (self.isRunning):
            self.onStopped()
        self.onUnload()
        pass

    def setParameter(self, parameterName, newValue):
        GeneratedClass.setParameter(self, parameterName, newValue)
        if (parameterName == 'Sensitivity'):
            self.movementdetection.setSensitivity(newValue)
        pass

    def processEvent(self, *_args):
        self.previousJointAngles = self.currentJointAngles
        self.currentJointAngles = ALMotion.getAngles("Head", True)
        if(self.currentJointAngles != self.previousJointAngles):
            return
        data = ALMemory.getData("MovementDetection/MovementInfo")
        result = data[0][0]
        yaw = self.currentJointAngles[0] + result[0]
        pitch = self.currentJointAngles[1] + result[1]
        yaw = clip( yaw, -1.0, 1.0)
        pitch = clip( pitch, -0.45, -0.10)
        ALMotion.setAngles("Head", [yaw, pitch], 0.1)]]>
</content>
                                                </script>
                                                <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                                <Parameter name="Sensitivity" inherits_from_parent="0" content_type="2" value="0.8" default_value="0.8" min="0" max="1" tooltip="Enables to change the sensitivity of the movement detection. If it is close to 0, small movement wil be detected. If it is close to 1, only big movement will be detected." id="5" />
                                            </Box>
                                            <Box name="Wait" id="7" tooltip="Wait a moment before sending a signal on the output. The wait can be stopped any&#x0A;time. You may restart it any time, and it will start again." x="782" y="768">
                                                <bitmap>media/images/box/wait.png</bitmap>
                                                <script language="4">
                                                    <content>
                                                        <![CDATA[import threading

class MyClass(GeneratedClass):
    def __init__(self):
        try: # disable autoBind
          GeneratedClass.__init__(self, False)
        except TypeError: # if NAOqi < 1.14
          GeneratedClass.__init__( self )

    def onLoad(self):
        self.tb = False

    def onUnload(self):
        if( self.tb ):
            self.tb.cancel()
            self.tb = False

    def triggerOutput( self, rPeriod = 1 ):
        self.onUnload() # to clean everything
        self.timerOutput()

    def startTimer( self, rPeriod = 1 ):
        if( self.tb ):
            self.tb.cancel()
        self.tb = threading.Timer( rPeriod, self.triggerOutput, [rPeriod] )
        self.tb.start()

    def onInput_onStart(self):
        self.startTimer( self.getParameter("Timeout (s)") )

    def onInput_onStop(self):
        bRunning = self.tb
        self.onUnload()
        if( bRunning and self.getParameter("Trigger timerOutput if cancelled")):
            self.timerOutput()]]>
</content>
                                                </script>
                                                <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Start the Wait box with the configured timeout value." id="2" />
                                                <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Stop the wait and stimulate the output." id="3" />
                                                <Output name="timerOutput" type="1" type_size="1" nature="1" inner="0" tooltip="Send a bang once time set in parameters is ellapsed, or if the box is stopped." id="4" />
                                                <Parameter name="Timeout (s)" inherits_from_parent="0" content_type="2" value="1" default_value="1" min="0" max="5000" tooltip="Duration the box waits before stimulating the output." id="5" />
                                                <Parameter name="Trigger timerOutput if cancelled" inherits_from_parent="0" content_type="0" value="0" default_value="1" tooltip="" id="6" />
                                            </Box>
                                            <Box name="Attention" id="8" tooltip="Wave and say something to get attention.&#x0A;" x="558" y="778">
                                                <bitmap>media/images/box/box-diagram.png</bitmap>
                                                <script language="4">
                                                    <content>
                                                        <![CDATA[]]>
</content>
                                                </script>
                                                <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                                <Timeline enable="0">
                                                    <BehaviorLayer name="behavior_layer1">
                                                        <BehaviorKeyframe name="keyframe1" index="1">
                                                            <Diagram>
                                                                <Box name="Hello" id="1" tooltip="Simple hello animation.&#x0A;&#x0A;!!Warning!! There is no speech in this box. It is a just an animation box with some&#x0A;leds animation." x="441" y="27">
                                                                    <bitmap>media/images/box/movement/move.png</bitmap>
                                                                    <script language="4">
                                                                        <content>
                                                                            <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        try: # disable autoBind
          GeneratedClass.__init__(self, False)
        except TypeError: # if NAOqi < 1.14
          GeneratedClass.__init__( self )

    def onLoad(self):
        #~ puts code for box initialization here
        pass

    def onUnload(self):
        #~ puts code for box cleanup here
        pass

    def onInput_onStart(self):
        #~ self.onStopped() #~ activate output of the box
        pass

    def onInput_onStop(self):
        self.onUnload() #~ it is recommanded to call onUnload of this box in a onStop method, as the code written in onUnload is used to stop the box as well
        pass]]>
</content>
                                                                    </script>
                                                                    <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                                                                    <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                    <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                                    <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                                                    <Timeline enable="1" fps="25" start_frame="0" end_frame="-1" size="300">
                                                                        <BehaviorLayer name="behavior_layer1">
                                                                            <BehaviorKeyframe name="FaceLeds" index="1">
                                                                                <Diagram>
                                                                                    <Box name="Light_AskForAttentionEyes" id="1" tooltip="Set an animated gaze which calls for attention (purple eyes).&#x0A;&#x0A;Note: It is a never ending box. You must call onStop to stop it.&#x0A;&#x0A;*** state: 5a_release ***&#x0A;*** ref box in: 5a_release\Leds\Light_AskForAttentionEyes\Light_AskForAttentionEyes.xar ***&#x0A;*** last modification date(svn): Version it! ***" x="299" y="99">
                                                                                        <bitmap>media/images/box/interaction/LED.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
  def __init__(self):
    try: # disable autoBind;
      GeneratedClass.__init__(self, False);
    except TypeError: # if NAOqi < 1.14;
      GeneratedClass.__init__( self );
    
  def onLoad(self):
    self.bIsRunning = False;
    self.leds = ALProxy("ALLeds")

  def onUnload(self):
    self.onInput_onStop(); # will stop current loop execution

  def onInput_onStart(self):
    #self.logger.info( self.getName() + ": start - begin" );

    if( self.bIsRunning ):
      #print( self.getName() + ": already started => nothing" );
      return;

    self.bIsRunning = True;
    self.bMustStop = False;

    rDuration = 0.2;
    self.leds.post.fadeRGB( "FaceLedsTop", 0xff00ff, rDuration );
    self.leds.post.fadeRGB( "FaceLedsInternal", 0xff00ff, rDuration );
    self.leds.post.fadeRGB( "FaceLedsBottom", 0xff00ff, rDuration );
    self.leds.fadeRGB( "FaceLedsExternal", 0xff00ff, rDuration );

    while( not self.bMustStop ):
      rTime = 0.1;
      self.leds.post.fadeRGB( "FaceLedsTop", 0xffffff, rTime );
      self.leds.fadeRGB( "FaceLedsBottom", 0xffffff, rTime );
      if( self.bMustStop ):
        break;
      rTime = 0.3
      self.leds.post.fadeRGB( "FaceLedsTop", 0xff00ff, rTime );
      self.leds.fadeRGB( "FaceLedsBottom", 0xff00ff, rTime );


    # end while
    self.bIsRunning = False;
    self.onStopped();

  def onInput_onStop(self):
    self.bMustStop = True; # will stop current loop execution]]>
</content>
                                                                                        </script>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                                                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                                                                    </Box>
                                                                                    <Link inputowner="1" indexofinput="2" outputowner="0" indexofoutput="1" />
                                                                                </Diagram>
                                                                            </BehaviorKeyframe>
                                                                        </BehaviorLayer>
                                                                        <ActuatorList model="Nao">
                                                                            <ActuatorCurve name="value" actuator="HeadYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="20" value="-7.73688" />
                                                                                <Key frame="39" value="-20.1296" />
                                                                                <Key frame="56" value="-23.8211" />
                                                                                <Key frame="70" value="-23.9968" />
                                                                                <Key frame="87" value="-29.7977" />
                                                                                <Key frame="115" value="-21.5359" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="HeadPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="20" value="16.9607" />
                                                                                <Key frame="39" value="-9.75839" />
                                                                                <Key frame="56" value="-19.5144" />
                                                                                <Key frame="70" value="-3.43018" />
                                                                                <Key frame="87" value="-11.0768" />
                                                                                <Key frame="115" value="-0.617646" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LShoulderPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="18" value="64.0707" />
                                                                                <Key frame="37" value="53.1721" />
                                                                                <Key frame="54" value="53.8752" />
                                                                                <Key frame="68" value="49.3927" />
                                                                                <Key frame="85" value="51.4143" />
                                                                                <Key frame="113" value="48.2502" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LShoulderRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="18" value="20.8279" />
                                                                                <Key frame="37" value="13.0056" />
                                                                                <Key frame="54" value="11.6872" />
                                                                                <Key frame="68" value="12.4782" />
                                                                                <Key frame="85" value="14.2361" />
                                                                                <Key frame="113" value="13.0056" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LElbowYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="18" value="-46.0577" />
                                                                                <Key frame="37" value="-39.6416" />
                                                                                <Key frame="54" value="-38.9384" />
                                                                                <Key frame="68" value="-34.9833" />
                                                                                <Key frame="85" value="-43.1572" />
                                                                                <Key frame="113" value="-38.4111" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LElbowRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="18" value="-79.0123" />
                                                                                <Key frame="37" value="-73.9145" />
                                                                                <Key frame="54" value="-67.7621" />
                                                                                <Key frame="68" value="-71.5415" />
                                                                                <Key frame="85" value="-75.5845" />
                                                                                <Key frame="113" value="-67.85" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LWristYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="37" value="8.4352" />
                                                                                <Key frame="113" value="6.85315" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LHand" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="37" value="0.238207" />
                                                                                <Key frame="113" value="0.240025" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RShoulderPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="16" value="14.153" />
                                                                                <Key frame="35" value="-67.1469" />
                                                                                <Key frame="52" value="-62.4007" />
                                                                                <Key frame="66" value="-72.2446" />
                                                                                <Key frame="83" value="-65.8285" />
                                                                                <Key frame="111" value="58.4504" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RShoulderRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="16" value="-13.8893" />
                                                                                <Key frame="35" value="-54.6711" />
                                                                                <Key frame="52" value="-26.3699" />
                                                                                <Key frame="66" value="-55.0226" />
                                                                                <Key frame="83" value="-18.8112" />
                                                                                <Key frame="111" value="-14.3288" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RElbowYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="16" value="-17.9323" />
                                                                                <Key frame="35" value="32.3418" />
                                                                                <Key frame="52" value="22.41" />
                                                                                <Key frame="66" value="19.949" />
                                                                                <Key frame="83" value="21.8826" />
                                                                                <Key frame="93" value="56" />
                                                                                <Key frame="111" value="47.3712" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RElbowRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="16" value="79.3686" />
                                                                                <Key frame="35" value="13.8893" />
                                                                                <Key frame="42" value="20" />
                                                                                <Key frame="52" value="53.5285" />
                                                                                <Key frame="60" value="39" />
                                                                                <Key frame="66" value="11" />
                                                                                <Key frame="76" value="15" />
                                                                                <Key frame="83" value="40.5205" />
                                                                                <Key frame="93" value="58.4" />
                                                                                <Key frame="111" value="72.5131" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RWristYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="35" value="-17.9323" />
                                                                                <Key frame="83" value="-17.405" />
                                                                                <Key frame="111" value="10.4567" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RHand" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="35" value="0.853478" />
                                                                                <Key frame="83" value="0.854933" />
                                                                                <Key frame="111" value="0.425116" />
                                                                            </ActuatorCurve>
                                                                        </ActuatorList>
                                                                    </Timeline>
                                                                    <Resource name="Head" type="Lock" timeout="0" />
                                                                    <Resource name="Arms" type="Lock" timeout="0" />
                                                                </Box>
                                                                <Box name="Say" id="2" tooltip="Say some text. Note that you must open the box to enter the text." x="440" y="204">
                                                                    <bitmap>media/images/box/interaction/say.png</bitmap>
                                                                    <script language="4">
                                                                        <content>
                                                                            <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        try: # disable autoBind
          GeneratedClass.__init__(self, False)
        except TypeError: # if NAOqi < 1.14
          GeneratedClass.__init__( self )

    def onLoad(self):
        self.bIsRunning = False

    def onUnload(self):
        self.bIsRunning = False

    def onInput_onStart(self):
        self.bIsRunning = True

    def onInput_onStop(self):
        if( self.bIsRunning ):
            self.onUnload()
            self.onStopped()]]>
</content>
                                                                    </script>
                                                                    <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                                                                    <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this Input." id="2" />
                                                                    <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this Input." id="3" />
                                                                    <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished or stopped." id="4" />
                                                                    <Parameter name="Voice shaping (%)" inherits_from_parent="0" content_type="1" value="100" default_value="100" min="50" max="150" tooltip='Used to modify at runtime the voice feature (tone, speed). In a slighty&#x0A;different way than pitch and speed, it gives a kind of &quot;gender or age&#x0A;modification&quot; effect.&#x0A;&#x0A;For instance, a quite good male derivation of female voice can be&#x0A;obtained setting this parameter to 78%.&#x0A;&#x0A;Note: For a better effect, you can compensate this parameter with the&#x0A;speed parameter. For example, if you want to decrease by 20% the voice&#x0A;shaping, you will have to increase by 20% the speed to keep a constant&#x0A;average speed.&#x0A;&#x0A;!Warning! This feature is not available yet in Japanese, Chinese and Korean.' id="5" />
                                                                    <Parameter name="Speed (%)" inherits_from_parent="0" content_type="1" value="100" default_value="100" min="50" max="200" tooltip="Changes the speed of the voice.&#x0A;&#x0A;Note: For a better effect, you can compensate this parameter with the voice&#x0A;shaping parameter. For example, if you want to increase by 20% the speed, you&#x0A;will have to decrease by 20% the voice shaping to keep a constant average&#x0A;speed.&#x0A;&#x0A;!Warning! This feature is not available yet in Japanese, Chinese and Korean." id="6" />
                                                                    <Timeline enable="0">
                                                                        <BehaviorLayer name="behavior_layer1">
                                                                            <BehaviorKeyframe name="keyframe1" index="1">
                                                                                <Diagram>
                                                                                    <Box name="Say Text" id="2" tooltip="Say the text received on its input." x="422" y="65">
                                                                                        <bitmap>media/images/box/interaction/say.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[import time

class MyClass(GeneratedClass):
    def __init__(self):
        try: # disable autoBind
          GeneratedClass.__init__(self, False)
        except TypeError: # if NAOqi < 1.14
          GeneratedClass.__init__( self )
        self.tts = ALProxy('ALTextToSpeech')
        self.ttsStop = ALProxy('ALTextToSpeech', True) #Create another proxy as wait is blocking if audioout is remote

    def onLoad(self):
        self.bIsRunning = False
        self.ids = []
        
    def onUnload(self):
        for id in self.ids:
            try:
                self.ttsStop.stop(id)
            except:
                pass
        while( self.bIsRunning ):
            time.sleep( 0.2 )

    def onInput_onStart(self, p):
        self.bIsRunning = True
        try:
            sentence = "\RSPD="+ str( self.getParameter("Speed (%)") ) + "\ "
            sentence += "\VCT="+ str( self.getParameter("Voice shaping (%)") ) + "\ "
            sentence += str(p)
            sentence +=  "\RST\ "
            id = self.tts.post.say(str(sentence))
            self.ids.append(id)
            self.tts.wait(id, 0)
        finally:
            try:
                self.ids.remove(id)
            except:
                pass
            if( self.ids == [] ):
                self.onStopped() # activate output of the box
                self.bIsRunning = False

    def onInput_onStop(self):
        self.onUnload()]]>
</content>
                                                                                        </script>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="3" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this Input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this Input." id="3" />
                                                                                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when Box behavior is finished." id="4" />
                                                                                        <Parameter name="Voice shaping (%)" inherits_from_parent="1" content_type="1" value="100" default_value="100" min="50" max="150" tooltip='Used to modify at runtime the voice feature (tone, speed). In a slighty&#x0A;different way than pitch and speed, it gives a kind of &quot;gender or age&#x0A;modification&quot; effect.&#x0A;&#x0A;For instance, a quite good male derivation of female voice can be&#x0A;obtained setting this parameter to 78%.&#x0A;&#x0A;Note: For a better effect, you can compensate this parameter with the&#x0A;speed parameter. For example, if you want to decrease by 20% the voice&#x0A;shaping, you will have to increase by 20% the speed to keep a constant&#x0A;average speed.' id="5" />
                                                                                        <Parameter name="Speed (%)" inherits_from_parent="1" content_type="1" value="100" default_value="100" min="50" max="200" tooltip="Changes the speed of the voice.&#x0A;&#x0A;Note: For a better effect, you can compensate this parameter with the voice&#x0A;shaping parameter. For example, if you want to increase by 20% the speed, you&#x0A;will have to decrease by 20% the voice shaping to keep a constant average&#x0A;speed." id="6" />
                                                                                    </Box>
                                                                                    <Box name="Localized Text" id="5" tooltip="Send on the output the text associated with the robot&apos;s current voice language.&#x0A;You can display and edit the text associated with any language by&#x0A;selecting the language in the combobox.&#x0A;&#x0A;!!Warning!! The text sent on the output is NOT the displayed one but the one&#x0A;associated with the robot&apos;s current voice language." plugin="localizationbox_plugin" x="114" y="68">
                                                                                        <bitmap>media/images/box/interaction/vocabulary.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
	def __init__(self):
		try: # disable autoBind
			GeneratedClass.__init__(self, False)
		except TypeError: # if NAOqi < 1.14
			GeneratedClass.__init__( self )

		self.tts = ALProxy("ALTextToSpeech")
		self.sentences = {
			"Chinese" : " 你好 ",
			"English" : " Hello. May I Have Your Attention, Please? ",
			"French" : " Bonjour ",
			"German" : " Hallo ",
			"Italian" : " Ciao ",
			"Japanese" : " こんにちは ",
			"Korean" : " 안녕하세요 ",
			"Portuguese" : " Olá ",
			"Brazilian" : " Olá ",
			"Spanish" : " Hola ",
			"Arabic" : " مرحبا ",
			"Polish" : " Cześć ",
			"Czech" : " Ahoj ",
			"Dutch" : " Hallo ",
			"Danish" : " Hej ",
			"Finnish" : " Hei ",
			"Swedish" : " Hallå ",
			"Russian" : " Привет ",
			"Turkish" : " Merhaba "
		}

	def onInput_onStart(self):
		sDefaultLang = self.tts.getLanguage()
		self.onStopped(self.sentences[sDefaultLang])]]>
</content>
                                                                                        </script>
                                                                                        <pluginContent>
                                                                                            <chinese>你好</chinese>
                                                                                            <english>Hello. May I Have Your Attention, Please?</english>
                                                                                            <french>Bonjour</french>
                                                                                            <german>Hallo</german>
                                                                                            <italian>Ciao</italian>
                                                                                            <japanese>こんにちは</japanese>
                                                                                            <korean>안녕하세요</korean>
                                                                                            <portuguese>Olá</portuguese>
                                                                                            <brazilian>Olá</brazilian>
                                                                                            <spanish>Hola</spanish>
                                                                                            <arabic>مرحبا</arabic>
                                                                                            <polish>Cześć</polish>
                                                                                            <czech>Ahoj</czech>
                                                                                            <dutch>Hallo</dutch>
                                                                                            <danish>Hej</danish>
                                                                                            <finnish>Hei</finnish>
                                                                                            <swedish>Hallå</swedish>
                                                                                            <russian>Привет</russian>
                                                                                            <turkish>Merhaba</turkish>
                                                                                            <language>1</language>
                                                                                        </pluginContent>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Data is sent on the output when this input is stimulated." id="2" />
                                                                                        <Output name="onStopped" type="3" type_size="1" nature="1" inner="0" tooltip="Data sent when asked." id="3" />
                                                                                    </Box>
                                                                                    <Link inputowner="0" indexofinput="4" outputowner="2" indexofoutput="4" />
                                                                                    <Link inputowner="5" indexofinput="2" outputowner="0" indexofoutput="2" />
                                                                                    <Link inputowner="2" indexofinput="2" outputowner="5" indexofoutput="3" />
                                                                                </Diagram>
                                                                            </BehaviorKeyframe>
                                                                        </BehaviorLayer>
                                                                    </Timeline>
                                                                </Box>
                                                                <Box name="Wait For Signals" id="3" tooltip="Wait for both inputs to be stimulated before stimulating its output." x="600" y="130">
                                                                    <bitmap>media/images/box/wait.png</bitmap>
                                                                    <script language="4">
                                                                        <content>
                                                                            <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        try: # disable autoBind
          GeneratedClass.__init__(self, False)
        except TypeError: # if NAOqi < 1.14
          GeneratedClass.__init__( self )

    def onLoad(self):
        self.ok = [False]*2

    def onUnload(self):
        #puts code for box cleanup here
        ""
        
    def onStart(self, nInput):
        self.ok[nInput-1] = True
        bOutput = True
        for bOk in self.ok:
            bOutput = bOutput and bOk
        if( bOutput ):
            self.ok = [False]*2
            self.signalsReceived()

    def onInput_signal1(self):
        self.onStart(1)

    def onInput_signal2(self):
        self.onStart(2)]]>
</content>
                                                                    </script>
                                                                    <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                                                                    <Input name="signal1" type="1" type_size="1" nature="1" inner="0" tooltip="First signal to wait." id="2" />
                                                                    <Input name="signal2" type="1" type_size="1" nature="1" inner="0" tooltip="Second signal to wait." id="3" />
                                                                    <Output name="signalsReceived" type="1" type_size="1" nature="2" inner="0" tooltip="Signal sent when both inputs have been stimulated." id="4" />
                                                                </Box>
                                                                <Box name="Say" id="4" tooltip="Say some text. Note that you must open the box to enter the text." x="745" y="119">
                                                                    <bitmap>media/images/box/interaction/say.png</bitmap>
                                                                    <script language="4">
                                                                        <content>
                                                                            <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        try: # disable autoBind
          GeneratedClass.__init__(self, False)
        except TypeError: # if NAOqi < 1.14
          GeneratedClass.__init__( self )

    def onLoad(self):
        self.bIsRunning = False

    def onUnload(self):
        self.bIsRunning = False

    def onInput_onStart(self):
        self.bIsRunning = True

    def onInput_onStop(self):
        if( self.bIsRunning ):
            self.onUnload()
            self.onStopped()]]>
</content>
                                                                    </script>
                                                                    <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                                                                    <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this Input." id="2" />
                                                                    <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this Input." id="3" />
                                                                    <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished or stopped." id="4" />
                                                                    <Parameter name="Voice shaping (%)" inherits_from_parent="0" content_type="1" value="100" default_value="100" min="50" max="150" tooltip='Used to modify at runtime the voice feature (tone, speed). In a slighty&#x0A;different way than pitch and speed, it gives a kind of &quot;gender or age&#x0A;modification&quot; effect.&#x0A;&#x0A;For instance, a quite good male derivation of female voice can be&#x0A;obtained setting this parameter to 78%.&#x0A;&#x0A;Note: For a better effect, you can compensate this parameter with the&#x0A;speed parameter. For example, if you want to decrease by 20% the voice&#x0A;shaping, you will have to increase by 20% the speed to keep a constant&#x0A;average speed.&#x0A;&#x0A;!Warning! This feature is not available yet in Japanese, Chinese and Korean.' id="5" />
                                                                    <Parameter name="Speed (%)" inherits_from_parent="0" content_type="1" value="100" default_value="100" min="50" max="200" tooltip="Changes the speed of the voice.&#x0A;&#x0A;Note: For a better effect, you can compensate this parameter with the voice&#x0A;shaping parameter. For example, if you want to increase by 20% the speed, you&#x0A;will have to decrease by 20% the voice shaping to keep a constant average&#x0A;speed.&#x0A;&#x0A;!Warning! This feature is not available yet in Japanese, Chinese and Korean." id="6" />
                                                                    <Timeline enable="0">
                                                                        <BehaviorLayer name="behavior_layer1">
                                                                            <BehaviorKeyframe name="keyframe1" index="1">
                                                                                <Diagram>
                                                                                    <Box name="Say Text" id="2" tooltip="Say the text received on its input." x="422" y="65">
                                                                                        <bitmap>media/images/box/interaction/say.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[import time

class MyClass(GeneratedClass):
    def __init__(self):
        try: # disable autoBind
          GeneratedClass.__init__(self, False)
        except TypeError: # if NAOqi < 1.14
          GeneratedClass.__init__( self )
        self.tts = ALProxy('ALTextToSpeech')
        self.ttsStop = ALProxy('ALTextToSpeech', True) #Create another proxy as wait is blocking if audioout is remote

    def onLoad(self):
        self.bIsRunning = False
        self.ids = []
        
    def onUnload(self):
        for id in self.ids:
            try:
                self.ttsStop.stop(id)
            except:
                pass
        while( self.bIsRunning ):
            time.sleep( 0.2 )

    def onInput_onStart(self, p):
        self.bIsRunning = True
        try:
            sentence = "\RSPD="+ str( self.getParameter("Speed (%)") ) + "\ "
            sentence += "\VCT="+ str( self.getParameter("Voice shaping (%)") ) + "\ "
            sentence += str(p)
            sentence +=  "\RST\ "
            id = self.tts.post.say(str(sentence))
            self.ids.append(id)
            self.tts.wait(id, 0)
        finally:
            try:
                self.ids.remove(id)
            except:
                pass
            if( self.ids == [] ):
                self.onStopped() # activate output of the box
                self.bIsRunning = False

    def onInput_onStop(self):
        self.onUnload()]]>
</content>
                                                                                        </script>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="3" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this Input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this Input." id="3" />
                                                                                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when Box behavior is finished." id="4" />
                                                                                        <Parameter name="Voice shaping (%)" inherits_from_parent="1" content_type="1" value="100" default_value="100" min="50" max="150" tooltip='Used to modify at runtime the voice feature (tone, speed). In a slighty&#x0A;different way than pitch and speed, it gives a kind of &quot;gender or age&#x0A;modification&quot; effect.&#x0A;&#x0A;For instance, a quite good male derivation of female voice can be&#x0A;obtained setting this parameter to 78%.&#x0A;&#x0A;Note: For a better effect, you can compensate this parameter with the&#x0A;speed parameter. For example, if you want to decrease by 20% the voice&#x0A;shaping, you will have to increase by 20% the speed to keep a constant&#x0A;average speed.' id="5" />
                                                                                        <Parameter name="Speed (%)" inherits_from_parent="1" content_type="1" value="100" default_value="100" min="50" max="200" tooltip="Changes the speed of the voice.&#x0A;&#x0A;Note: For a better effect, you can compensate this parameter with the voice&#x0A;shaping parameter. For example, if you want to increase by 20% the speed, you&#x0A;will have to decrease by 20% the voice shaping to keep a constant average&#x0A;speed." id="6" />
                                                                                    </Box>
                                                                                    <Box name="Localized Text" id="5" tooltip="Send on the output the text associated with the robot&apos;s current voice language.&#x0A;You can display and edit the text associated with any language by&#x0A;selecting the language in the combobox.&#x0A;&#x0A;!!Warning!! The text sent on the output is NOT the displayed one but the one&#x0A;associated with the robot&apos;s current voice language." plugin="localizationbox_plugin" x="114" y="68">
                                                                                        <bitmap>media/images/box/interaction/vocabulary.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
	def __init__(self):
		try: # disable autoBind
			GeneratedClass.__init__(self, False)
		except TypeError: # if NAOqi < 1.14
			GeneratedClass.__init__( self )

		self.tts = ALProxy("ALTextToSpeech")
		self.sentences = {
			"Chinese" : " 你好 ",
			"English" : " Thank you! ",
			"French" : " Bonjour ",
			"German" : " Hallo ",
			"Italian" : " Ciao ",
			"Japanese" : " こんにちは ",
			"Korean" : " 안녕하세요 ",
			"Portuguese" : " Olá ",
			"Brazilian" : " Olá ",
			"Spanish" : " Hola ",
			"Arabic" : " مرحبا ",
			"Polish" : " Cześć ",
			"Czech" : " Ahoj ",
			"Dutch" : " Hallo ",
			"Danish" : " Hej ",
			"Finnish" : " Hei ",
			"Swedish" : " Hallå ",
			"Russian" : " Привет ",
			"Turkish" : " Merhaba "
		}

	def onInput_onStart(self):
		sDefaultLang = self.tts.getLanguage()
		self.onStopped(self.sentences[sDefaultLang])]]>
</content>
                                                                                        </script>
                                                                                        <pluginContent>
                                                                                            <chinese>你好</chinese>
                                                                                            <english>Thank you!</english>
                                                                                            <french>Bonjour</french>
                                                                                            <german>Hallo</german>
                                                                                            <italian>Ciao</italian>
                                                                                            <japanese>こんにちは</japanese>
                                                                                            <korean>안녕하세요</korean>
                                                                                            <portuguese>Olá</portuguese>
                                                                                            <brazilian>Olá</brazilian>
                                                                                            <spanish>Hola</spanish>
                                                                                            <arabic>مرحبا</arabic>
                                                                                            <polish>Cześć</polish>
                                                                                            <czech>Ahoj</czech>
                                                                                            <dutch>Hallo</dutch>
                                                                                            <danish>Hej</danish>
                                                                                            <finnish>Hei</finnish>
                                                                                            <swedish>Hallå</swedish>
                                                                                            <russian>Привет</russian>
                                                                                            <turkish>Merhaba</turkish>
                                                                                            <language>1</language>
                                                                                        </pluginContent>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Data is sent on the output when this input is stimulated." id="2" />
                                                                                        <Output name="onStopped" type="3" type_size="1" nature="1" inner="0" tooltip="Data sent when asked." id="3" />
                                                                                    </Box>
                                                                                    <Link inputowner="0" indexofinput="4" outputowner="2" indexofoutput="4" />
                                                                                    <Link inputowner="5" indexofinput="2" outputowner="0" indexofoutput="2" />
                                                                                    <Link inputowner="2" indexofinput="2" outputowner="5" indexofoutput="3" />
                                                                                </Diagram>
                                                                            </BehaviorKeyframe>
                                                                        </BehaviorLayer>
                                                                    </Timeline>
                                                                </Box>
                                                                <Box name="Go to position Stand" id="6" tooltip="Robot will go to the position Stand&#x0A;Position description : Standing position with low power consumption. " x="875" y="111">
                                                                    <bitmap>media/images/positions/Stand.png</bitmap>
                                                                    <script language="4">
                                                                        <content>
                                                                            <![CDATA[#~ This script was generated automatically by drang&drop from Position Library
class MyClass(GeneratedClass):
    def __init__(self):
        try: # disable autoBind
          GeneratedClass.__init__(self, False)
        except TypeError: # if NAOqi < 1.14
          GeneratedClass.__init__( self )

    def onLoad(self):
        self.postureProxy = None
        try:
            self.postureProxy = ALProxy("ALRobotPosture")
        except:
            self.logger.error("Module 'ALRobotPosture' not found.")

    def onUnload(self):
        if(self.postureProxy != None):
            self.postureProxy.stopMove()

    def onInput_onStart(self):
        if(self.postureProxy != None):
            result = self.postureProxy.goToPosture("Stand", 0.8)
            if(result):
                self.success()
            else:
                self.logger.error("Posture Stand is not a part of the standard posture library or robot cannot reach the posture")
                self.failure()
        else:
            self.failure()

    def onInput_onStop(self):
        self.onUnload() #~ it is recommanded to call onUnload of this box in a onStop method,               as the code written in onUnload is used to stop the box as well
        pass]]>
</content>
                                                                    </script>
                                                                    <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                    <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                    <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                                    <Output name="success" type="1" type_size="1" nature="1" inner="0" tooltip="Stimulated if the posture has been reached." id="4" />
                                                                    <Output name="failure" type="1" type_size="1" nature="1" inner="0" tooltip="Stimulated if the posture could not be reached." id="5" />
                                                                    <Resource name="All motors" type="Lock" timeout="0" />
                                                                    <Resource name="Stiffness" type="Lock" timeout="0" />
                                                                </Box>
                                                                <Box name="Stand Up" id="7" tooltip="NAO tries to stand up from any position for a number of tries.&#x0A;&#x0A;Note: The number of tries can be set in parameters." x="237" y="120">
                                                                    <bitmap>media/images/box/movement/stand.png</bitmap>
                                                                    <script language="4">
                                                                        <content>
                                                                            <![CDATA[]]>
</content>
                                                                    </script>
                                                                    <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                    <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                    <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                                    <Output name="success" type="1" type_size="1" nature="1" inner="0" tooltip="Stimulated when NAO succeed in standing up." id="4" />
                                                                    <Output name="failure" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when the robot failed to stand up after n tries.&#x0A;&#x0A;Note: The number of tries can be set in parameters." id="5" />
                                                                    <Parameter name="Maximum of tries" inherits_from_parent="0" content_type="1" value="3" default_value="3" min="0" max="10" tooltip="The maximum number of fails of stand up before stimulating the failure output." id="6" />
                                                                    <Timeline enable="0">
                                                                        <BehaviorLayer name="StandUpBehavior">
                                                                            <BehaviorKeyframe name="DetectRobotPose" index="1">
                                                                                <Diagram>
                                                                                    <Box name="Goto Posture" id="2" tooltip="The robot goes from its current postition to the asked posture." x="331" y="92">
                                                                                        <bitmap>media/images/box/box-diagram.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        try: # disable autoBind
          GeneratedClass.__init__(self, False)
        except TypeError: # if NAOqi < 1.14
          GeneratedClass.__init__( self )

    def onLoad(self):
        self.nTries = 0
        self.postureProxy = ALProxy("ALRobotPosture")
        pass

    def onUnload(self):
        self.postureProxy.stopMove()

    def onInput_onStart(self):
        if(self.nTries != self.getParameter("Maximum of tries")):
            self.nTries = self.getParameter("Maximum of tries")
            self.postureProxy.setMaxTryNumber(self.nTries)

        result = self.postureProxy.goToPosture(self.getParameter("Name"), self.getParameter("Speed (%)")/100.)
        if(result):
            self.success()
        else:
            self.failure()
        pass

    def onInput_onStop(self):
        self.onUnload() #~ it is recommanded to call onUnload of this box in a onStop method, as the code written in onUnload is used to stop the box as well
        pass]]>
</content>
                                                                                        </script>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                                                        <Output name="success" type="1" type_size="1" nature="1" inner="0" tooltip="Stimulated if the posture has been reached." id="4" />
                                                                                        <Output name="failure" type="1" type_size="1" nature="1" inner="0" tooltip="Stimulated if the posture could not be reached." id="5" />
                                                                                        <Parameter name="Name" inherits_from_parent="0" content_type="3" value="Stand" default_value="Stand" custom_choice="1" tooltip="Name of the posture to go to." id="6">
                                                                                            <Choice value="Crouch" />
                                                                                            <Choice value="LyingBack" />
                                                                                            <Choice value="LyingBelly" />
                                                                                            <Choice value="Sit" />
                                                                                            <Choice value="SitRelax" />
                                                                                            <Choice value="StandInit" />
                                                                                            <Choice value="Stand" />
                                                                                            <Choice value="StandZero" />
                                                                                        </Parameter>
                                                                                        <Parameter name="Speed (%)" inherits_from_parent="0" content_type="1" value="80" default_value="80" min="0" max="100" tooltip="Speed to go to the posture." id="7" />
                                                                                        <Parameter name="Maximum of tries" inherits_from_parent="1" content_type="1" value="3" default_value="3" min="0" max="10" tooltip="The maximum number of fails of go to posture before stimulating the failure output." id="8" />
                                                                                        <Resource name="All motors" type="Lock" timeout="0" />
                                                                                        <Resource name="Stiffness" type="Lock" timeout="0" />
                                                                                    </Box>
                                                                                    <Link inputowner="2" indexofinput="2" outputowner="0" indexofoutput="2" />
                                                                                    <Link inputowner="0" indexofinput="4" outputowner="2" indexofoutput="4" />
                                                                                    <Link inputowner="0" indexofinput="5" outputowner="2" indexofoutput="5" />
                                                                                </Diagram>
                                                                            </BehaviorKeyframe>
                                                                        </BehaviorLayer>
                                                                    </Timeline>
                                                                    <Resource name="All motors" type="Lock" timeout="0" />
                                                                </Box>
                                                                <Link inputowner="3" indexofinput="2" outputowner="1" indexofoutput="4" />
                                                                <Link inputowner="3" indexofinput="3" outputowner="2" indexofoutput="4" />
                                                                <Link inputowner="4" indexofinput="2" outputowner="3" indexofoutput="4" />
                                                                <Link inputowner="6" indexofinput="2" outputowner="4" indexofoutput="4" />
                                                                <Link inputowner="0" indexofinput="4" outputowner="6" indexofoutput="4" />
                                                                <Link inputowner="1" indexofinput="2" outputowner="7" indexofoutput="4" />
                                                                <Link inputowner="2" indexofinput="2" outputowner="7" indexofoutput="4" />
                                                                <Link inputowner="7" indexofinput="2" outputowner="0" indexofoutput="2" />
                                                            </Diagram>
                                                        </BehaviorKeyframe>
                                                    </BehaviorLayer>
                                                </Timeline>
                                                <Resource name="Head" type="Lock" timeout="0" />
                                                <Resource name="Arms" type="Lock" timeout="0" />
                                            </Box>
                                            <Box name="Set Speaker Vol." id="13" tooltip="Set the sound volume between 0 (mute) and 100 (max)." x="198" y="63">
                                                <bitmap>media/images/box/interaction/processing_sound.png</bitmap>
                                                <script language="4">
                                                    <content>
                                                        <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        try: # disable autoBind
          GeneratedClass.__init__(self, False)
        except TypeError: # if NAOqi < 1.14
          GeneratedClass.__init__( self )
        self.audiodevice = ALProxy("ALAudioDevice")

    def onInput_onSet(self):
        self.audiodevice.setOutputVolume(self.getParameter("Volume (%)"))
        self.onReady() # activate output of the box]]>
</content>
                                                </script>
                                                <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                                                <Input name="onSet" type="1" type_size="1" nature="1" inner="0" tooltip="The data is set when a signal is received on this input." id="2" />
                                                <Output name="onReady" type="1" type_size="1" nature="2" inner="0" tooltip="Signal sent when the data has been set." id="3" />
                                                <Parameter name="Volume (%)" inherits_from_parent="0" content_type="1" value="100" default_value="50" min="0" max="100" tooltip="Percentage of maximum output volume." id="4" />
                                            </Box>
                                            <Box name="Blink" id="1" tooltip="This box makes NAO blink once." x="510" y="4">
                                                <bitmap>media/images/box/interaction/LED.png</bitmap>
                                                <script language="4">
                                                    <content>
                                                        <![CDATA[import time

class MyClass(GeneratedClass):
    def __init__(self):
        try: # disable autoBind
          GeneratedClass.__init__(self, False)
        except TypeError: # if NAOqi < 1.14
          GeneratedClass.__init__( self )

    def onLoad(self):
        self.leds = ALProxy("ALLeds")

    def onUnload(self):
        #~ puts code for box cleanup here
        pass

    def onInput_onStart(self):
        rDuration = 0.05
        self.leds.post.fadeRGB( "FaceLed0", 0x000000, rDuration )
        self.leds.post.fadeRGB( "FaceLed1", 0x000000, rDuration )
        self.leds.post.fadeRGB( "FaceLed2", 0xffffff, rDuration )
        self.leds.post.fadeRGB( "FaceLed3", 0x000000, rDuration )
        self.leds.post.fadeRGB( "FaceLed4", 0x000000, rDuration )
        self.leds.post.fadeRGB( "FaceLed5", 0x000000, rDuration )
        self.leds.post.fadeRGB( "FaceLed6", 0xffffff, rDuration )
        self.leds.fadeRGB( "FaceLed7", 0x000000, rDuration )
        time.sleep( 0.1 )
        self.leds.fadeRGB( "FaceLeds", 0xffffff, rDuration )
        self.onDone()]]>
</content>
                                                </script>
                                                <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                <Output name="onDone" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="3" />
                                            </Box>
                                            <Box name="Timer" id="16" tooltip="Send a signal with a predefined period." x="361" y="0">
                                                <bitmap>media/images/box/wait.png</bitmap>
                                                <script language="4">
                                                    <content>
                                                        <![CDATA[import threading

class MyClass(GeneratedClass):
    def __init__(self):
        try: # disable autoBind
          GeneratedClass.__init__(self, False)
        except TypeError: # if NAOqi < 1.14
          GeneratedClass.__init__( self )

    def onLoad(self):
        self.tb = False

    def onUnload(self):
        if( self.tb ):
            self.tb.cancel()
            self.tb = False

    def startTimer(self, period = 1):
        if( self.tb ):
            self.tb.cancel()
        self.tb = threading.Timer(period, self.startTimer, [period])
        self.tb.start()
        self.timerOutput()

    def onInput_onStart(self):
        self.startTimer( self.getParameter("Period (s)") )

    def onInput_onStop(self):
        bRunning = self.tb
        self.onUnload()
        if( bRunning ):
            self.onStopped()]]>
</content>
                                                </script>
                                                <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Start the timer using the configured period value." id="2" />
                                                <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Stop the timer." id="3" />
                                                <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is stopped." id="4" />
                                                <Output name="timerOutput" type="1" type_size="1" nature="2" inner="0" tooltip="Send a bang periodically." id="5" />
                                                <Parameter name="Period (s)" inherits_from_parent="0" content_type="2" value="5" default_value="1" min="0" max="5000" tooltip="Defines the period of the timer box (in seconds).&#x0A;&#x0A;For example, if this parameter is equal to 1s, the timerOutput will be stimulated&#x0A;every second until the onStop input is stimulated." id="6" />
                                            </Box>
                                            <Box name="Tai Chi Chuan" id="9" tooltip="Tai Chi Chuan dance." x="786" y="650">
                                                <bitmap>media/images/box/movement/dance.png</bitmap>
                                                <script language="4">
                                                    <content>
                                                        <![CDATA[]]>
</content>
                                                </script>
                                                <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                                <Timeline enable="0">
                                                    <BehaviorLayer name="behavior_layer1">
                                                        <BehaviorKeyframe name="keyframe1" index="1">
                                                            <Diagram>
                                                                <Box name="Tai Chi Chuan" id="1" tooltip="Tai Chi Chuan dance." x="304" y="110">
                                                                    <bitmap>media/images/box/movement/dance.png</bitmap>
                                                                    <script language="4">
                                                                        <content>
                                                                            <![CDATA[]]>
</content>
                                                                    </script>
                                                                    <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                    <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                    <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                                    <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                                                    <Timeline enable="1" fps="5" start_frame="0" end_frame="-1" size="300">
                                                                        <BehaviorLayer name="LED">
                                                                            <BehaviorKeyframe name="keyframe15" index="15">
                                                                                <Diagram>
                                                                                    <Box name="Light_ConcentratedEyes" id="1" tooltip="Set an animated gaze which expresses concentration." x="231" y="105">
                                                                                        <bitmap>media/images/box/interaction/LED.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
  def __init__(self):
    try: # disable autoBind;
      GeneratedClass.__init__(self, False);
    except TypeError: # if NAOqi < 1.14;
      GeneratedClass.__init__( self );
    
  def onLoad(self):
    self.bIsRunning = False;
    self.leds = ALProxy("ALLeds")

  def onUnload(self):
    self.onInput_onStop(); # will stop current loop execution

  def onInput_onStart(self):
    #self.log( self.getName() + ": start - begin" );

    if( self.bIsRunning ):
      #print( self.getName() + ": already started => nothing" );
      return;

    self.bIsRunning = True;
    self.bMustStop = False;

    rDuration = 1.0;
    self.leds.post.fadeRGB( "FaceLedsTop", 0x0000ff, rDuration );
    self.leds.post.fadeRGB( "FaceLedsInternal", 0x00ff00, rDuration );
    self.leds.post.fadeRGB( "FaceLedsBottom", 0x0000ff, rDuration );
    self.leds.fadeRGB( "FaceLedsExternal", 0x0000ff, rDuration );

    while( not self.bMustStop ):
      rTime=1.0
      self.leds.fadeRGB( "FaceLedsInternal", 0x000000, rTime );
      if( self.bMustStop ):
        break;
      self.leds.fadeRGB( "FaceLedsInternal", 0x00ff00, rDuration );


    # end while
    self.bIsRunning = False;
    self.onStopped();

  def onInput_onStop(self):
    self.bMustStop = True; # will stop current loop execution]]>
</content>
                                                                                        </script>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                                                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                                                                    </Box>
                                                                                    <Link inputowner="1" indexofinput="2" outputowner="0" indexofoutput="1" />
                                                                                </Diagram>
                                                                            </BehaviorKeyframe>
                                                                        </BehaviorLayer>
                                                                        <BehaviorLayer name="music">
                                                                            <BehaviorKeyframe name="keyframe12" index="12">
                                                                                <Diagram>
                                                                                    <Box name="Play Sound" id="2" tooltip="Play a sound file. Select the file in parameters. The format of the file can be&#x0A;wav, mp3, or ogg.&#x0A;&#x0A;Note: There can be some delay to play mp3 files. We advise you to use wav if&#x0A;you want a fast play of the file." x="115" y="51">
                                                                                        <bitmap>media/images/box/interaction/play_music.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        try: # disable autoBind
          GeneratedClass.__init__(self, False)
        except TypeError: # if NAOqi < 1.14
          GeneratedClass.__init__( self )

    def onLoad(self):
        self.bIsRunning = False

    def onUnload(self):
        self.bIsRunning = False

    def onInput_onStart(self):
        self.bIsRunning = True

    def onInput_onStop(self):
        if( self.bIsRunning ):
            self.onUnload()
            self.onStopped()]]>
</content>
                                                                                        </script>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Starts the music." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Stops the music." id="3" />
                                                                                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished or stopped." id="4" />
                                                                                        <Parameter name="File name" inherits_from_parent="0" content_type="4" value="/swiftswords_ext.mp3" default_value="" tooltip="Name of the file you want to play.&#x0A;&#x0A;Note: You can click on the folder icon to browse the project content or import&#x0A;new files to the project." id="5" />
                                                                                        <Parameter name="Begin position (s)" inherits_from_parent="0" content_type="2" value="0" default_value="0" min="0" max="600" tooltip="Position in seconds where the playing must start." id="6" />
                                                                                        <Parameter name="Volume (%)" inherits_from_parent="0" content_type="1" value="100" default_value="100" min="0" max="100" tooltip="Volume the file is played with." id="7" />
                                                                                        <Parameter name="Balance L/R" inherits_from_parent="0" content_type="2" value="0" default_value="0" min="-1" max="1" tooltip="Value which determines if the sound is played more on NAO&apos;s left or right.&#x0A;You can particularly set it to:&#x0A;- -1 to play only on the left loudspeaker.&#x0A;- 0 to play on both loudspeakers.&#x0A;- 1 to play only on the right loudspeaker." id="8" />
                                                                                        <Parameter name="Play in loop" inherits_from_parent="0" content_type="0" value="0" default_value="0" tooltip="This parameter allows to play the file in loop. The playing will start each time at&#x0A;the beginning of the file." id="9" />
                                                                                        <Timeline enable="0">
                                                                                            <BehaviorLayer name="behavior_layer1">
                                                                                                <BehaviorKeyframe name="keyframe1" index="1">
                                                                                                    <Diagram>
                                                                                                        <Box name="Play Sound File" id="2" tooltip="Play the sound." x="442" y="70">
                                                                                                            <bitmap>media/images/box/interaction/play_music.png</bitmap>
                                                                                                            <script language="4">
                                                                                                                <content>
                                                                                                                    <![CDATA[import time

class MyClass(GeneratedClass):
    def __init__(self):
        try: # disable autoBind
          GeneratedClass.__init__(self, False)
        except TypeError: # if NAOqi < 1.14
          GeneratedClass.__init__( self )
        self.player = ALProxy('ALAudioPlayer')
        self.playerStop = ALProxy('ALAudioPlayer', True) #Create another proxy as wait is blocking if audioout is remote

    def onLoad(self):
        self.bIsRunning = False
        self.ids = []

    def onUnload(self):
        for id in self.ids:
            try:
                self.playerStop.stop(id)
            except:
                pass
        while( self.bIsRunning ):
            time.sleep( 0.2 )

    def onInput_onStart(self, p):
        self.bIsRunning = True
        try:
            if (self.getParameter("Play in loop")) :
               id = self.player.post.playFileInLoop(p,self.getParameter("Volume (%)")/100.,self.getParameter("Balance L/R"))
            else :
               id = self.player.post.playFileFromPosition(p,self.getParameter("Begin position (s)"),self.getParameter("Volume (%)")/100.,self.getParameter("Balance L/R"))
            self.ids.append(id)
            self.player.wait(id, 0)
        finally:
            try:
                self.ids.remove(id)
            except:
                pass
            if( self.ids == [] ):
                self.onStopped() # activate output of the box
                self.bIsRunning = False

    def onInput_onStop(self):
        self.onUnload()]]>
</content>
                                                                                                            </script>
                                                                                                            <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                                                                                                            <Input name="onStart" type="3" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this Input." id="2" />
                                                                                                            <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this Input." id="3" />
                                                                                                            <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when Box behavior is finished." id="4" />
                                                                                                            <Parameter name="Begin position (s)" inherits_from_parent="1" content_type="2" value="0" default_value="0" min="0" max="600" tooltip="Position in seconds where the playing must start." id="5" />
                                                                                                            <Parameter name="Volume (%)" inherits_from_parent="1" content_type="1" value="100" default_value="100" min="0" max="100" tooltip="Volume the file is played with." id="6" />
                                                                                                            <Parameter name="Balance L/R" inherits_from_parent="1" content_type="2" value="0" default_value="0" min="-1" max="1" tooltip="Value which determines if the sound is played more on NAO&apos;s left or right.&#x0A;You can particularly set it to:&#x0A;- -1 to play only on the left loudspeaker.&#x0A;- 0 to play on both loudspeakers.&#x0A;- 1 to play only on the right loudspeaker." id="7" />
                                                                                                            <Parameter name="Play in loop" inherits_from_parent="1" content_type="0" value="0" default_value="0" tooltip="This parameter allows to play the file in loop. The playing will start each time at&#x0A;the beginning of the file." id="8" />
                                                                                                        </Box>
                                                                                                        <Box name="Get Attached File" id="1" tooltip="Use this box to choose an attached file in its parameters. The filename will be sent on&#x0A;the output when the input is stimulated." x="216" y="71">
                                                                                                            <bitmap>media/images/box/folder.png</bitmap>
                                                                                                            <script language="4">
                                                                                                                <content>
                                                                                                                    <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        try: # disable autoBind
          GeneratedClass.__init__(self, False)
        except TypeError: # if NAOqi < 1.14
          GeneratedClass.__init__( self )
        
    def onLoad(self):
        self.framemanager = ALProxy("ALFrameManager")
        
    def onInput_onStart(self):
        self.onStopped(self.framemanager.getBehaviorPath(self.behaviorId) + self.getParameter("File name"))]]>
</content>
                                                                                                            </script>
                                                                                                            <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                                                            <Input name="onStart" type="1" type_size="1" nature="1" inner="0" tooltip="To send the filepath on the output." id="2" />
                                                                                                            <Output name="onStopped" type="3" type_size="1" nature="2" inner="0" tooltip="The filepath of the selected resource file." id="3" />
                                                                                                            <Parameter name="File name" inherits_from_parent="1" content_type="4" value="" default_value="" tooltip="Name of the file which is going to be sent on the box output.&#x0A;&#x0A;Note: You can click on the folder icon to browse the project content or import&#x0A;new files to the project." id="4" />
                                                                                                        </Box>
                                                                                                        <Link inputowner="0" indexofinput="4" outputowner="2" indexofoutput="4" />
                                                                                                        <Link inputowner="1" indexofinput="2" outputowner="0" indexofoutput="2" />
                                                                                                        <Link inputowner="2" indexofinput="2" outputowner="1" indexofoutput="3" />
                                                                                                    </Diagram>
                                                                                                </BehaviorKeyframe>
                                                                                            </BehaviorLayer>
                                                                                        </Timeline>
                                                                                    </Box>
                                                                                    <Link inputowner="2" indexofinput="2" outputowner="0" indexofoutput="1" />
                                                                                </Diagram>
                                                                            </BehaviorKeyframe>
                                                                        </BehaviorLayer>
                                                                        <ActuatorList model="">
                                                                            <ActuatorCurve name="value" actuator="HeadYaw" recordable="1" mute="0" unit="0">
                                                                                <Key frame="15" value="0" />
                                                                                <Key frame="25" value="4.82967e-06" />
                                                                                <Key frame="35" value="4.82968e-06" />
                                                                                <Key frame="45" value="4.82968e-06" />
                                                                                <Key frame="55" value="-2.73208e-05" />
                                                                                <Key frame="65" value="18" />
                                                                                <Key frame="75" value="-17" />
                                                                                <Key frame="85" value="-68" />
                                                                                <Key frame="95" value="-16" />
                                                                                <Key frame="105" value="12" />
                                                                                <Key frame="118" value="90" />
                                                                                <Key frame="131" value="12" />
                                                                                <Key frame="142" value="8" />
                                                                                <Key frame="152" value="0" />
                                                                                <Key frame="162" value="-8" />
                                                                                <Key frame="172" value="16" />
                                                                                <Key frame="185" value="-12" />
                                                                                <Key frame="198" value="-90" />
                                                                                <Key frame="211" value="-12" />
                                                                                <Key frame="222" value="-8" />
                                                                                <Key frame="231" value="0" />
                                                                                <Key frame="250" value="-0.178186" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="HeadPitch" recordable="1" mute="0" unit="0">
                                                                                <Key frame="15" value="0" />
                                                                                <Key frame="25" value="5.12931e-06" />
                                                                                <Key frame="35" value="-2.73208e-05" />
                                                                                <Key frame="45" value="5.0962e-06" />
                                                                                <Key frame="55" value="6.01466e-06" />
                                                                                <Key frame="65" value="19" />
                                                                                <Key frame="75" value="18" />
                                                                                <Key frame="85" value="5.26559e-06" />
                                                                                <Key frame="95" value="-19" />
                                                                                <Key frame="105" value="8" />
                                                                                <Key frame="118" value="-5" />
                                                                                <Key frame="131" value="8" />
                                                                                <Key frame="142" value="22" />
                                                                                <Key frame="152" value="32" />
                                                                                <Key frame="162" value="22" />
                                                                                <Key frame="172" value="-19" />
                                                                                <Key frame="185" value="8" />
                                                                                <Key frame="198" value="-5" />
                                                                                <Key frame="211" value="8" />
                                                                                <Key frame="222" value="22" />
                                                                                <Key frame="231" value="0" />
                                                                                <Key frame="250" value="-10.901" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LShoulderPitch" recordable="1" mute="0" unit="0">
                                                                                <Key frame="15" value="90" />
                                                                                <Key frame="25" value="110" />
                                                                                <Key frame="35" value="120" />
                                                                                <Key frame="45" value="90" />
                                                                                <Key frame="55" value="0" />
                                                                                <Key frame="65" value="21" />
                                                                                <Key frame="75" value="20" />
                                                                                <Key frame="85" value="11" />
                                                                                <Key frame="95" value="-46" />
                                                                                <Key frame="105" value="-10" />
                                                                                <Key frame="118" value="-17" />
                                                                                <Key frame="131" value="-10" />
                                                                                <Key frame="142" value="30" />
                                                                                <Key frame="152" value="27" />
                                                                                <Key frame="162" value="19" />
                                                                                <Key frame="172" value="-27" />
                                                                                <Key frame="185" value="4" />
                                                                                <Key frame="198" value="-4" />
                                                                                <Key frame="211" value="4" />
                                                                                <Key frame="222" value="19" />
                                                                                <Key frame="231" value="97" />
                                                                                <Key frame="250" value="87.6256" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LShoulderRoll" recordable="1" mute="0" unit="0">
                                                                                <Key frame="15" value="10" />
                                                                                <Key frame="25" value="20" />
                                                                                <Key frame="35" value="10" />
                                                                                <Key frame="45" value="10" />
                                                                                <Key frame="55" value="10" />
                                                                                <Key frame="65" value="40" />
                                                                                <Key frame="75" value="0" />
                                                                                <Key frame="85" value="5" />
                                                                                <Key frame="95" value="10" />
                                                                                <Key frame="105" value="23" />
                                                                                <Key frame="118" value="66" />
                                                                                <Key frame="131" value="23" />
                                                                                <Key frame="142" value="23" />
                                                                                <Key frame="152" value="10" />
                                                                                <Key frame="162" value="0" />
                                                                                <Key frame="172" value="23" />
                                                                                <Key frame="185" value="0" />
                                                                                <Key frame="198" value="0" />
                                                                                <Key frame="211" value="0" />
                                                                                <Key frame="222" value="12" />
                                                                                <Key frame="231" value="54" />
                                                                                <Key frame="250" value="6.15001" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LElbowYaw" recordable="1" mute="0" unit="0">
                                                                                <Key frame="15" value="-90" />
                                                                                <Key frame="25" value="-90" />
                                                                                <Key frame="35" value="-90" />
                                                                                <Key frame="45" value="-90" />
                                                                                <Key frame="55" value="-90" />
                                                                                <Key frame="65" value="-22" />
                                                                                <Key frame="75" value="0" />
                                                                                <Key frame="85" value="0" />
                                                                                <Key frame="95" value="0" />
                                                                                <Key frame="105" value="0" />
                                                                                <Key frame="118" value="0" />
                                                                                <Key frame="131" value="0" />
                                                                                <Key frame="142" value="0" />
                                                                                <Key frame="152" value="12" />
                                                                                <Key frame="162" value="11" />
                                                                                <Key frame="172" value="-24" />
                                                                                <Key frame="185" value="-24" />
                                                                                <Key frame="198" value="-5" />
                                                                                <Key frame="211" value="-24" />
                                                                                <Key frame="222" value="11" />
                                                                                <Key frame="227" value="-21.7" />
                                                                                <Key frame="231" value="-14" />
                                                                                <Key frame="250" value="-67.7669" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LElbowRoll" recordable="1" mute="0" unit="0">
                                                                                <Key frame="15" value="0" />
                                                                                <Key frame="25" value="-40" />
                                                                                <Key frame="35" value="-60" />
                                                                                <Key frame="45" value="0" />
                                                                                <Key frame="55" value="0" />
                                                                                <Key frame="65" value="-95" />
                                                                                <Key frame="75" value="-55" />
                                                                                <Key frame="85" value="-85" />
                                                                                <Key frame="95" value="-58" />
                                                                                <Key frame="105" value="-58" />
                                                                                <Key frame="118" value="0" />
                                                                                <Key frame="131" value="-58" />
                                                                                <Key frame="142" value="-58" />
                                                                                <Key frame="152" value="-51" />
                                                                                <Key frame="162" value="-49" />
                                                                                <Key frame="172" value="-64" />
                                                                                <Key frame="185" value="-49" />
                                                                                <Key frame="198" value="-72" />
                                                                                <Key frame="211" value="-49" />
                                                                                <Key frame="222" value="-49" />
                                                                                <Key frame="227" value="-57" />
                                                                                <Key frame="231" value="-81.4" />
                                                                                <Key frame="250" value="-22.2342" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LWristYaw" recordable="1" mute="0" unit="0">
                                                                                <Key frame="15" value="-88" />
                                                                                <Key frame="250" value="7.99575" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LHand" recordable="1" mute="0" unit="1">
                                                                                <Key frame="15" value="0" />
                                                                                <Key frame="250" value="0.2984" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RShoulderPitch" recordable="1" mute="0" unit="0">
                                                                                <Key frame="15" value="90" />
                                                                                <Key frame="25" value="110" />
                                                                                <Key frame="35" value="120" />
                                                                                <Key frame="45" value="90" />
                                                                                <Key frame="55" value="0" />
                                                                                <Key frame="65" value="10" />
                                                                                <Key frame="75" value="35" />
                                                                                <Key frame="85" value="60" />
                                                                                <Key frame="95" value="-27" />
                                                                                <Key frame="105" value="4" />
                                                                                <Key frame="118" value="-4" />
                                                                                <Key frame="131" value="4" />
                                                                                <Key frame="142" value="19" />
                                                                                <Key frame="152" value="27" />
                                                                                <Key frame="162" value="30" />
                                                                                <Key frame="172" value="-46" />
                                                                                <Key frame="185" value="-10" />
                                                                                <Key frame="198" value="-17" />
                                                                                <Key frame="211" value="-10" />
                                                                                <Key frame="222" value="30" />
                                                                                <Key frame="231" value="97" />
                                                                                <Key frame="250" value="86.8394" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RShoulderRoll" recordable="1" mute="0" unit="0">
                                                                                <Key frame="15" value="-10" />
                                                                                <Key frame="25" value="-10" />
                                                                                <Key frame="35" value="-20" />
                                                                                <Key frame="45" value="-10" />
                                                                                <Key frame="55" value="-9.99896" />
                                                                                <Key frame="65" value="-4" />
                                                                                <Key frame="75" value="-48" />
                                                                                <Key frame="85" value="-87" />
                                                                                <Key frame="95" value="-23" />
                                                                                <Key frame="105" value="0" />
                                                                                <Key frame="118" value="0" />
                                                                                <Key frame="131" value="0" />
                                                                                <Key frame="142" value="0" />
                                                                                <Key frame="152" value="-10" />
                                                                                <Key frame="162" value="-23" />
                                                                                <Key frame="172" value="-10" />
                                                                                <Key frame="185" value="-23" />
                                                                                <Key frame="198" value="-66" />
                                                                                <Key frame="211" value="-23" />
                                                                                <Key frame="222" value="-32" />
                                                                                <Key frame="231" value="-54" />
                                                                                <Key frame="250" value="-5.71537" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RElbowYaw" recordable="1" mute="0" unit="0">
                                                                                <Key frame="15" value="90" />
                                                                                <Key frame="25" value="90" />
                                                                                <Key frame="35" value="90" />
                                                                                <Key frame="45" value="90" />
                                                                                <Key frame="55" value="90" />
                                                                                <Key frame="65" value="11" />
                                                                                <Key frame="75" value="20" />
                                                                                <Key frame="85" value="90" />
                                                                                <Key frame="95" value="24" />
                                                                                <Key frame="105" value="24" />
                                                                                <Key frame="118" value="5" />
                                                                                <Key frame="131" value="24" />
                                                                                <Key frame="142" value="-11" />
                                                                                <Key frame="152" value="-12" />
                                                                                <Key frame="162" value="0" />
                                                                                <Key frame="172" value="0" />
                                                                                <Key frame="185" value="0" />
                                                                                <Key frame="198" value="0" />
                                                                                <Key frame="211" value="0" />
                                                                                <Key frame="222" value="0" />
                                                                                <Key frame="227" value="19.6" />
                                                                                <Key frame="231" value="14" />
                                                                                <Key frame="250" value="66.4437" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RElbowRoll" recordable="1" mute="0" unit="0">
                                                                                <Key frame="15" value="0" />
                                                                                <Key frame="25" value="40" />
                                                                                <Key frame="35" value="60" />
                                                                                <Key frame="45" value="1.47493e-05" />
                                                                                <Key frame="55" value="0" />
                                                                                <Key frame="65" value="71" />
                                                                                <Key frame="75" value="94" />
                                                                                <Key frame="85" value="4" />
                                                                                <Key frame="95" value="64" />
                                                                                <Key frame="105" value="49" />
                                                                                <Key frame="118" value="72" />
                                                                                <Key frame="131" value="49" />
                                                                                <Key frame="142" value="49" />
                                                                                <Key frame="152" value="51" />
                                                                                <Key frame="162" value="58" />
                                                                                <Key frame="172" value="58" />
                                                                                <Key frame="185" value="58" />
                                                                                <Key frame="198" value="2" />
                                                                                <Key frame="211" value="58" />
                                                                                <Key frame="222" value="58" />
                                                                                <Key frame="227" value="64.9" />
                                                                                <Key frame="231" value="78.3" />
                                                                                <Key frame="250" value="22.6785" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RWristYaw" recordable="1" mute="0" unit="0">
                                                                                <Key frame="15" value="88" />
                                                                                <Key frame="250" value="9.40201" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RHand" recordable="1" mute="0" unit="1">
                                                                                <Key frame="15" value="0" />
                                                                                <Key frame="250" value="0.302" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LAnklePitch" recordable="1" mute="0" unit="0">
                                                                                <Key frame="15" value="5.75265e-06" />
                                                                                <Key frame="25" value="0" />
                                                                                <Key frame="35" value="-17.4" />
                                                                                <Key frame="45" value="0" />
                                                                                <Key frame="55" value="0" />
                                                                                <Key frame="65" value="-37.1" />
                                                                                <Key frame="75" value="-35" />
                                                                                <Key frame="85" value="-60" />
                                                                                <Key frame="95" value="-60" />
                                                                                <Key frame="105" value="-60" />
                                                                                <Key frame="118" value="-60" />
                                                                                <Key frame="131" value="-60" />
                                                                                <Key frame="142" value="-60" />
                                                                                <Key frame="152" value="-50" />
                                                                                <Key frame="162" value="-42.5" />
                                                                                <Key frame="172" value="0" />
                                                                                <Key frame="185" value="5.75265e-06" />
                                                                                <Key frame="198" value="30" />
                                                                                <Key frame="211" value="5.75265e-06" />
                                                                                <Key frame="217" value="-31.8" />
                                                                                <Key frame="222" value="-37.5" />
                                                                                <Key frame="231" value="-60" />
                                                                                <Key frame="250" value="1.93121" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LAnkleRoll" recordable="1" mute="0" unit="0">
                                                                                <Key frame="15" value="3" />
                                                                                <Key frame="25" value="7" />
                                                                                <Key frame="35" value="10" />
                                                                                <Key frame="45" value="-6" />
                                                                                <Key frame="55" value="-6" />
                                                                                <Key frame="65" value="10" />
                                                                                <Key frame="75" value="-15" />
                                                                                <Key frame="85" value="3.6" />
                                                                                <Key frame="95" value="10" />
                                                                                <Key frame="105" value="5" />
                                                                                <Key frame="118" value="5" />
                                                                                <Key frame="131" value="5" />
                                                                                <Key frame="142" value="10" />
                                                                                <Key frame="152" value="0" />
                                                                                <Key frame="162" value="-13.8" />
                                                                                <Key frame="167" value="-31.9" />
                                                                                <Key frame="172" value="-24.3" />
                                                                                <Key frame="185" value="-20" />
                                                                                <Key frame="198" value="0" />
                                                                                <Key frame="211" value="-20" />
                                                                                <Key frame="222" value="-17.9" />
                                                                                <Key frame="231" value="0" />
                                                                                <Key frame="250" value="-2.89802" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LHipPitch" recordable="1" mute="0" unit="0">
                                                                                <Key frame="15" value="0" />
                                                                                <Key frame="25" value="0" />
                                                                                <Key frame="35" value="-20" />
                                                                                <Key frame="45" value="0" />
                                                                                <Key frame="55" value="0" />
                                                                                <Key frame="65" value="-40" />
                                                                                <Key frame="75" value="-35" />
                                                                                <Key frame="85" value="-60" />
                                                                                <Key frame="95" value="-60" />
                                                                                <Key frame="105" value="-60" />
                                                                                <Key frame="118" value="-60" />
                                                                                <Key frame="131" value="-60" />
                                                                                <Key frame="142" value="-60" />
                                                                                <Key frame="152" value="-50" />
                                                                                <Key frame="162" value="-42.5" />
                                                                                <Key frame="172" value="-7" />
                                                                                <Key frame="185" value="-50" />
                                                                                <Key frame="198" value="0" />
                                                                                <Key frame="211" value="-50" />
                                                                                <Key frame="222" value="-37.5" />
                                                                                <Key frame="231" value="-60" />
                                                                                <Key frame="250" value="12.3951" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LHipRoll" recordable="1" mute="0" unit="0">
                                                                                <Key frame="15" value="-3" />
                                                                                <Key frame="25" value="-7" />
                                                                                <Key frame="35" value="-10" />
                                                                                <Key frame="45" value="6" />
                                                                                <Key frame="55" value="6" />
                                                                                <Key frame="65" value="-10" />
                                                                                <Key frame="75" value="10" />
                                                                                <Key frame="85" value="24.1" />
                                                                                <Key frame="95" value="30.3" />
                                                                                <Key frame="105" value="35" />
                                                                                <Key frame="118" value="35" />
                                                                                <Key frame="131" value="35" />
                                                                                <Key frame="142" value="20" />
                                                                                <Key frame="152" value="0" />
                                                                                <Key frame="162" value="-15" />
                                                                                <Key frame="167" value="14.4" />
                                                                                <Key frame="172" value="15" />
                                                                                <Key frame="185" value="8" />
                                                                                <Key frame="198" value="40" />
                                                                                <Key frame="211" value="8" />
                                                                                <Key frame="222" value="-15" />
                                                                                <Key frame="231" value="0" />
                                                                                <Key frame="250" value="2.37549" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LHipYawPitch" recordable="1" mute="0" unit="0">
                                                                                <Key frame="15" value="-6.2" />
                                                                                <Key frame="25" value="-6.9" />
                                                                                <Key frame="35" value="-7.5" />
                                                                                <Key frame="45" value="-6.9" />
                                                                                <Key frame="55" value="-8.2" />
                                                                                <Key frame="65" value="-9.6" />
                                                                                <Key frame="75" value="-5.7" />
                                                                                <Key frame="85" value="0" />
                                                                                <Key frame="95" value="0" />
                                                                                <Key frame="105" value="0" />
                                                                                <Key frame="118" value="0" />
                                                                                <Key frame="131" value="0" />
                                                                                <Key frame="142" value="0" />
                                                                                <Key frame="152" value="0" />
                                                                                <Key frame="162" value="0" />
                                                                                <Key frame="172" value="0" />
                                                                                <Key frame="185" value="0" />
                                                                                <Key frame="198" value="0" />
                                                                                <Key frame="211" value="0" />
                                                                                <Key frame="222" value="-3.9" />
                                                                                <Key frame="231" value="0" />
                                                                                <Key frame="250" value="-11.1598" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LKneePitch" recordable="1" mute="0" unit="0">
                                                                                <Key frame="15" value="0" />
                                                                                <Key frame="25" value="0" />
                                                                                <Key frame="35" value="40" />
                                                                                <Key frame="45" value="-5.69182e-06" />
                                                                                <Key frame="55" value="-5.69182e-06" />
                                                                                <Key frame="65" value="80" />
                                                                                <Key frame="75" value="70" />
                                                                                <Key frame="85" value="120" />
                                                                                <Key frame="95" value="120" />
                                                                                <Key frame="105" value="120" />
                                                                                <Key frame="118" value="120" />
                                                                                <Key frame="131" value="120" />
                                                                                <Key frame="142" value="120.9" />
                                                                                <Key frame="152" value="100" />
                                                                                <Key frame="162" value="85" />
                                                                                <Key frame="172" value="7" />
                                                                                <Key frame="185" value="100" />
                                                                                <Key frame="198" value="0" />
                                                                                <Key frame="211" value="100" />
                                                                                <Key frame="222" value="75" />
                                                                                <Key frame="231" value="120" />
                                                                                <Key frame="250" value="-5.10013" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RAnklePitch" recordable="1" mute="0" unit="0">
                                                                                <Key frame="15" value="5.75266e-06" />
                                                                                <Key frame="25" value="0" />
                                                                                <Key frame="35" value="0" />
                                                                                <Key frame="45" value="0" />
                                                                                <Key frame="55" value="0" />
                                                                                <Key frame="65" value="-40" />
                                                                                <Key frame="75" value="-10" />
                                                                                <Key frame="85" value="0" />
                                                                                <Key frame="95" value="0" />
                                                                                <Key frame="105" value="5.75266e-06" />
                                                                                <Key frame="118" value="30" />
                                                                                <Key frame="131" value="5.75266e-06" />
                                                                                <Key frame="142" value="-42.5" />
                                                                                <Key frame="152" value="-50" />
                                                                                <Key frame="162" value="-60" />
                                                                                <Key frame="172" value="-60" />
                                                                                <Key frame="185" value="-60" />
                                                                                <Key frame="198" value="-60" />
                                                                                <Key frame="211" value="-60" />
                                                                                <Key frame="222" value="-60" />
                                                                                <Key frame="231" value="-60" />
                                                                                <Key frame="250" value="2.11181" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RAnkleRoll" recordable="1" mute="0" unit="0">
                                                                                <Key frame="15" value="-3" />
                                                                                <Key frame="25" value="7.5" />
                                                                                <Key frame="35" value="25.1" />
                                                                                <Key frame="45" value="6" />
                                                                                <Key frame="55" value="6" />
                                                                                <Key frame="65" value="16.9" />
                                                                                <Key frame="75" value="35.6" />
                                                                                <Key frame="85" value="45" />
                                                                                <Key frame="95" value="42.6" />
                                                                                <Key frame="105" value="25" />
                                                                                <Key frame="118" value="0" />
                                                                                <Key frame="131" value="20" />
                                                                                <Key frame="142" value="15" />
                                                                                <Key frame="152" value="0" />
                                                                                <Key frame="162" value="-10" />
                                                                                <Key frame="172" value="-10" />
                                                                                <Key frame="185" value="-5" />
                                                                                <Key frame="198" value="-5" />
                                                                                <Key frame="211" value="-3.6" />
                                                                                <Key frame="222" value="-2.4" />
                                                                                <Key frame="231" value="0" />
                                                                                <Key frame="250" value="1.67234" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RHipPitch" recordable="1" mute="0" unit="0">
                                                                                <Key frame="15" value="0" />
                                                                                <Key frame="25" value="0" />
                                                                                <Key frame="35" value="0" />
                                                                                <Key frame="45" value="0" />
                                                                                <Key frame="55" value="0" />
                                                                                <Key frame="65" value="-40" />
                                                                                <Key frame="75" value="-10" />
                                                                                <Key frame="85" value="-6" />
                                                                                <Key frame="95" value="-7" />
                                                                                <Key frame="105" value="-50" />
                                                                                <Key frame="118" value="0" />
                                                                                <Key frame="131" value="-50" />
                                                                                <Key frame="142" value="-42.5" />
                                                                                <Key frame="152" value="-50" />
                                                                                <Key frame="162" value="-60" />
                                                                                <Key frame="172" value="-60" />
                                                                                <Key frame="185" value="-60" />
                                                                                <Key frame="198" value="-60" />
                                                                                <Key frame="211" value="-60" />
                                                                                <Key frame="222" value="-60" />
                                                                                <Key frame="231" value="-60" />
                                                                                <Key frame="250" value="12.3024" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RHipRoll" recordable="1" mute="0" unit="0">
                                                                                <Key frame="15" value="3" />
                                                                                <Key frame="25" value="-7" />
                                                                                <Key frame="35" value="-25.1" />
                                                                                <Key frame="45" value="-6" />
                                                                                <Key frame="55" value="-6" />
                                                                                <Key frame="65" value="-20" />
                                                                                <Key frame="75" value="-45" />
                                                                                <Key frame="85" value="-31" />
                                                                                <Key frame="95" value="-8" />
                                                                                <Key frame="105" value="-8" />
                                                                                <Key frame="118" value="-40" />
                                                                                <Key frame="131" value="-8" />
                                                                                <Key frame="142" value="15" />
                                                                                <Key frame="152" value="0" />
                                                                                <Key frame="162" value="-20" />
                                                                                <Key frame="172" value="-30.9" />
                                                                                <Key frame="185" value="-35" />
                                                                                <Key frame="198" value="-35" />
                                                                                <Key frame="211" value="-35" />
                                                                                <Key frame="222" value="-30.5" />
                                                                                <Key frame="231" value="0" />
                                                                                <Key frame="250" value="-1.22808" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RHipYawPitch" recordable="1" mute="0" unit="0">
                                                                                <Key frame="15" value="-6.2" />
                                                                                <Key frame="25" value="-6.9" />
                                                                                <Key frame="35" value="-7.5" />
                                                                                <Key frame="45" value="-6.9" />
                                                                                <Key frame="55" value="-8.2" />
                                                                                <Key frame="65" value="-9.6" />
                                                                                <Key frame="250" value="-11.1598" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RKneePitch" recordable="1" mute="0" unit="0">
                                                                                <Key frame="15" value="0" />
                                                                                <Key frame="25" value="0" />
                                                                                <Key frame="35" value="0" />
                                                                                <Key frame="45" value="0" />
                                                                                <Key frame="55" value="0" />
                                                                                <Key frame="65" value="80" />
                                                                                <Key frame="75" value="20" />
                                                                                <Key frame="85" value="7" />
                                                                                <Key frame="95" value="7" />
                                                                                <Key frame="105" value="100" />
                                                                                <Key frame="118" value="0" />
                                                                                <Key frame="131" value="100" />
                                                                                <Key frame="142" value="85" />
                                                                                <Key frame="152" value="100" />
                                                                                <Key frame="162" value="120" />
                                                                                <Key frame="172" value="120" />
                                                                                <Key frame="185" value="120" />
                                                                                <Key frame="198" value="120" />
                                                                                <Key frame="211" value="120" />
                                                                                <Key frame="222" value="120" />
                                                                                <Key frame="231" value="120" />
                                                                                <Key frame="250" value="-5.2711" />
                                                                            </ActuatorCurve>
                                                                        </ActuatorList>
                                                                    </Timeline>
                                                                    <Resource name="All motors" type="Lock" timeout="0" />
                                                                </Box>
                                                                <Box name="Stand Up" id="2" tooltip="NAO tries to stand up from any position for a number of tries.&#x0A;&#x0A;Note: The number of tries can be set in parameters." x="136" y="61">
                                                                    <bitmap>media/images/box/movement/stand.png</bitmap>
                                                                    <script language="4">
                                                                        <content>
                                                                            <![CDATA[]]>
</content>
                                                                    </script>
                                                                    <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                    <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                    <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                                    <Output name="success" type="1" type_size="1" nature="1" inner="0" tooltip="Stimulated when NAO succeed in standing up." id="4" />
                                                                    <Output name="failure" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when the robot failed to stand up after n tries.&#x0A;&#x0A;Note: The number of tries can be set in parameters." id="5" />
                                                                    <Parameter name="Maximum of tries" inherits_from_parent="0" content_type="1" value="3" default_value="3" min="0" max="10" tooltip="The maximum number of fails of stand up before stimulating the failure output." id="6" />
                                                                    <Timeline enable="0">
                                                                        <BehaviorLayer name="StandUpBehavior">
                                                                            <BehaviorKeyframe name="DetectRobotPose" index="1">
                                                                                <Diagram>
                                                                                    <Box name="Goto Posture" id="2" tooltip="The robot goes from its current postition to the asked posture." x="331" y="92">
                                                                                        <bitmap>media/images/box/box-diagram.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        try: # disable autoBind
          GeneratedClass.__init__(self, False)
        except TypeError: # if NAOqi < 1.14
          GeneratedClass.__init__( self )

    def onLoad(self):
        self.nTries = 0
        self.postureProxy = ALProxy("ALRobotPosture")
        pass

    def onUnload(self):
        self.postureProxy.stopMove()

    def onInput_onStart(self):
        if(self.nTries != self.getParameter("Maximum of tries")):
            self.nTries = self.getParameter("Maximum of tries")
            self.postureProxy.setMaxTryNumber(self.nTries)

        result = self.postureProxy.goToPosture(self.getParameter("Name"), self.getParameter("Speed (%)")/100.)
        if(result):
            self.success()
        else:
            self.failure()
        pass

    def onInput_onStop(self):
        self.onUnload() #~ it is recommanded to call onUnload of this box in a onStop method, as the code written in onUnload is used to stop the box as well
        pass]]>
</content>
                                                                                        </script>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                                                        <Output name="success" type="1" type_size="1" nature="1" inner="0" tooltip="Stimulated if the posture has been reached." id="4" />
                                                                                        <Output name="failure" type="1" type_size="1" nature="1" inner="0" tooltip="Stimulated if the posture could not be reached." id="5" />
                                                                                        <Parameter name="Name" inherits_from_parent="0" content_type="3" value="Stand" default_value="Stand" custom_choice="1" tooltip="Name of the posture to go to." id="6">
                                                                                            <Choice value="Crouch" />
                                                                                            <Choice value="LyingBack" />
                                                                                            <Choice value="LyingBelly" />
                                                                                            <Choice value="Sit" />
                                                                                            <Choice value="SitRelax" />
                                                                                            <Choice value="StandInit" />
                                                                                            <Choice value="Stand" />
                                                                                            <Choice value="StandZero" />
                                                                                        </Parameter>
                                                                                        <Parameter name="Speed (%)" inherits_from_parent="0" content_type="1" value="80" default_value="80" min="0" max="100" tooltip="Speed to go to the posture." id="7" />
                                                                                        <Parameter name="Maximum of tries" inherits_from_parent="1" content_type="1" value="3" default_value="3" min="0" max="10" tooltip="The maximum number of fails of go to posture before stimulating the failure output." id="8" />
                                                                                        <Resource name="All motors" type="Lock" timeout="0" />
                                                                                        <Resource name="Stiffness" type="Lock" timeout="0" />
                                                                                    </Box>
                                                                                    <Link inputowner="2" indexofinput="2" outputowner="0" indexofoutput="2" />
                                                                                    <Link inputowner="0" indexofinput="4" outputowner="2" indexofoutput="4" />
                                                                                    <Link inputowner="0" indexofinput="5" outputowner="2" indexofoutput="5" />
                                                                                </Diagram>
                                                                            </BehaviorKeyframe>
                                                                        </BehaviorLayer>
                                                                    </Timeline>
                                                                    <Resource name="All motors" type="Lock" timeout="0" />
                                                                </Box>
                                                                <Link inputowner="2" indexofinput="2" outputowner="0" indexofoutput="2" />
                                                                <Link inputowner="1" indexofinput="2" outputowner="2" indexofoutput="4" />
                                                                <Link inputowner="0" indexofinput="4" outputowner="2" indexofoutput="5" />
                                                                <Link inputowner="0" indexofinput="4" outputowner="1" indexofoutput="4" />
                                                            </Diagram>
                                                        </BehaviorKeyframe>
                                                    </BehaviorLayer>
                                                </Timeline>
                                            </Box>
                                            <Box name="Say" id="17" tooltip="Say some text. Note that you must open the box to enter the text." x="560" y="651">
                                                <bitmap>media/images/box/interaction/say.png</bitmap>
                                                <script language="4">
                                                    <content>
                                                        <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        try: # disable autoBind
          GeneratedClass.__init__(self, False)
        except TypeError: # if NAOqi < 1.14
          GeneratedClass.__init__( self )

    def onLoad(self):
        self.bIsRunning = False

    def onUnload(self):
        self.bIsRunning = False

    def onInput_onStart(self):
        self.bIsRunning = True

    def onInput_onStop(self):
        if( self.bIsRunning ):
            self.onUnload()
            self.onStopped()]]>
</content>
                                                </script>
                                                <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                                                <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this Input." id="2" />
                                                <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this Input." id="3" />
                                                <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished or stopped." id="4" />
                                                <Parameter name="Voice shaping (%)" inherits_from_parent="0" content_type="1" value="100" default_value="100" min="50" max="150" tooltip='Used to modify at runtime the voice feature (tone, speed). In a slighty&#x0A;different way than pitch and speed, it gives a kind of &quot;gender or age&#x0A;modification&quot; effect.&#x0A;&#x0A;For instance, a quite good male derivation of female voice can be&#x0A;obtained setting this parameter to 78%.&#x0A;&#x0A;Note: For a better effect, you can compensate this parameter with the&#x0A;speed parameter. For example, if you want to decrease by 20% the voice&#x0A;shaping, you will have to increase by 20% the speed to keep a constant&#x0A;average speed.&#x0A;&#x0A;!Warning! This feature is not available yet in Japanese, Chinese and Korean.' id="5" />
                                                <Parameter name="Speed (%)" inherits_from_parent="0" content_type="1" value="100" default_value="100" min="50" max="200" tooltip="Changes the speed of the voice.&#x0A;&#x0A;Note: For a better effect, you can compensate this parameter with the voice&#x0A;shaping parameter. For example, if you want to increase by 20% the speed, you&#x0A;will have to decrease by 20% the voice shaping to keep a constant average&#x0A;speed.&#x0A;&#x0A;!Warning! This feature is not available yet in Japanese, Chinese and Korean." id="6" />
                                                <Timeline enable="0">
                                                    <BehaviorLayer name="behavior_layer1">
                                                        <BehaviorKeyframe name="keyframe1" index="1">
                                                            <Diagram>
                                                                <Box name="Say Text" id="2" tooltip="Say the text received on its input." x="422" y="65">
                                                                    <bitmap>media/images/box/interaction/say.png</bitmap>
                                                                    <script language="4">
                                                                        <content>
                                                                            <![CDATA[import time

class MyClass(GeneratedClass):
    def __init__(self):
        try: # disable autoBind
          GeneratedClass.__init__(self, False)
        except TypeError: # if NAOqi < 1.14
          GeneratedClass.__init__( self )
        self.tts = ALProxy('ALTextToSpeech')
        self.ttsStop = ALProxy('ALTextToSpeech', True) #Create another proxy as wait is blocking if audioout is remote

    def onLoad(self):
        self.bIsRunning = False
        self.ids = []
        
    def onUnload(self):
        for id in self.ids:
            try:
                self.ttsStop.stop(id)
            except:
                pass
        while( self.bIsRunning ):
            time.sleep( 0.2 )

    def onInput_onStart(self, p):
        self.bIsRunning = True
        try:
            sentence = "\RSPD="+ str( self.getParameter("Speed (%)") ) + "\ "
            sentence += "\VCT="+ str( self.getParameter("Voice shaping (%)") ) + "\ "
            sentence += str(p)
            sentence +=  "\RST\ "
            id = self.tts.post.say(str(sentence))
            self.ids.append(id)
            self.tts.wait(id, 0)
        finally:
            try:
                self.ids.remove(id)
            except:
                pass
            if( self.ids == [] ):
                self.onStopped() # activate output of the box
                self.bIsRunning = False

    def onInput_onStop(self):
        self.onUnload()]]>
</content>
                                                                    </script>
                                                                    <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                                                                    <Input name="onStart" type="3" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this Input." id="2" />
                                                                    <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this Input." id="3" />
                                                                    <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when Box behavior is finished." id="4" />
                                                                    <Parameter name="Voice shaping (%)" inherits_from_parent="1" content_type="1" value="100" default_value="100" min="50" max="150" tooltip='Used to modify at runtime the voice feature (tone, speed). In a slighty&#x0A;different way than pitch and speed, it gives a kind of &quot;gender or age&#x0A;modification&quot; effect.&#x0A;&#x0A;For instance, a quite good male derivation of female voice can be&#x0A;obtained setting this parameter to 78%.&#x0A;&#x0A;Note: For a better effect, you can compensate this parameter with the&#x0A;speed parameter. For example, if you want to decrease by 20% the voice&#x0A;shaping, you will have to increase by 20% the speed to keep a constant&#x0A;average speed.' id="5" />
                                                                    <Parameter name="Speed (%)" inherits_from_parent="1" content_type="1" value="100" default_value="100" min="50" max="200" tooltip="Changes the speed of the voice.&#x0A;&#x0A;Note: For a better effect, you can compensate this parameter with the voice&#x0A;shaping parameter. For example, if you want to increase by 20% the speed, you&#x0A;will have to decrease by 20% the voice shaping to keep a constant average&#x0A;speed." id="6" />
                                                                </Box>
                                                                <Box name="Localized Text" id="5" tooltip="Send on the output the text associated with the robot&apos;s current voice language.&#x0A;You can display and edit the text associated with any language by&#x0A;selecting the language in the combobox.&#x0A;&#x0A;!!Warning!! The text sent on the output is NOT the displayed one but the one&#x0A;associated with the robot&apos;s current voice language." plugin="localizationbox_plugin" x="114" y="68">
                                                                    <bitmap>media/images/box/interaction/vocabulary.png</bitmap>
                                                                    <script language="4">
                                                                        <content>
                                                                            <![CDATA[class MyClass(GeneratedClass):
	def __init__(self):
		try: # disable autoBind
			GeneratedClass.__init__(self, False)
		except TypeError: # if NAOqi < 1.14
			GeneratedClass.__init__( self )

		self.tts = ALProxy("ALTextToSpeech")
		self.sentences = {
			"Chinese" : " 你好 ",
			"English" : " Let us dance. ",
			"French" : " Bonjour ",
			"German" : " Hallo ",
			"Italian" : " Ciao ",
			"Japanese" : " こんにちは ",
			"Korean" : " 안녕하세요 ",
			"Portuguese" : " Olá ",
			"Brazilian" : " Olá ",
			"Spanish" : " Hola ",
			"Arabic" : " مرحبا ",
			"Polish" : " Cześć ",
			"Czech" : " Ahoj ",
			"Dutch" : " Hallo ",
			"Danish" : " Hej ",
			"Finnish" : " Hei ",
			"Swedish" : " Hallå ",
			"Russian" : " Привет ",
			"Turkish" : " Merhaba "
		}

	def onInput_onStart(self):
		sDefaultLang = self.tts.getLanguage()
		self.onStopped(self.sentences[sDefaultLang])]]>
</content>
                                                                    </script>
                                                                    <pluginContent>
                                                                        <chinese>你好</chinese>
                                                                        <english>Let us dance.</english>
                                                                        <french>Bonjour</french>
                                                                        <german>Hallo</german>
                                                                        <italian>Ciao</italian>
                                                                        <japanese>こんにちは</japanese>
                                                                        <korean>안녕하세요</korean>
                                                                        <portuguese>Olá</portuguese>
                                                                        <brazilian>Olá</brazilian>
                                                                        <spanish>Hola</spanish>
                                                                        <arabic>مرحبا</arabic>
                                                                        <polish>Cześć</polish>
                                                                        <czech>Ahoj</czech>
                                                                        <dutch>Hallo</dutch>
                                                                        <danish>Hej</danish>
                                                                        <finnish>Hei</finnish>
                                                                        <swedish>Hallå</swedish>
                                                                        <russian>Привет</russian>
                                                                        <turkish>Merhaba</turkish>
                                                                        <language>1</language>
                                                                    </pluginContent>
                                                                    <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                    <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Data is sent on the output when this input is stimulated." id="2" />
                                                                    <Output name="onStopped" type="3" type_size="1" nature="1" inner="0" tooltip="Data sent when asked." id="3" />
                                                                </Box>
                                                                <Link inputowner="0" indexofinput="4" outputowner="2" indexofoutput="4" />
                                                                <Link inputowner="5" indexofinput="2" outputowner="0" indexofoutput="2" />
                                                                <Link inputowner="2" indexofinput="2" outputowner="5" indexofoutput="3" />
                                                            </Diagram>
                                                        </BehaviorKeyframe>
                                                    </BehaviorLayer>
                                                </Timeline>
                                            </Box>
                                            <Box name="Tired" id="2" tooltip="Say Tired, Sit Down and Relax&#x0A;&#x0A;" x="1344" y="651">
                                                <bitmap>media/images/box/box-diagram.png</bitmap>
                                                <script language="4">
                                                    <content>
                                                        <![CDATA[]]>
</content>
                                                </script>
                                                <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                                <Timeline enable="0">
                                                    <BehaviorLayer name="behavior_layer1">
                                                        <BehaviorKeyframe name="keyframe1" index="1">
                                                            <Diagram>
                                                                <Box name="SayTired" id="2" tooltip="Say some text. Note that you must open the box to enter the text." x="385" y="0">
                                                                    <bitmap>media/images/box/interaction/say.png</bitmap>
                                                                    <script language="4">
                                                                        <content>
                                                                            <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        try: # disable autoBind
          GeneratedClass.__init__(self, False)
        except TypeError: # if NAOqi < 1.14
          GeneratedClass.__init__( self )

    def onLoad(self):
        self.bIsRunning = False

    def onUnload(self):
        self.bIsRunning = False

    def onInput_onStart(self):
        self.bIsRunning = True

    def onInput_onStop(self):
        if( self.bIsRunning ):
            self.onUnload()
            self.onStopped()]]>
</content>
                                                                    </script>
                                                                    <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                                                                    <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this Input." id="2" />
                                                                    <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this Input." id="3" />
                                                                    <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished or stopped." id="4" />
                                                                    <Parameter name="Voice shaping (%)" inherits_from_parent="0" content_type="1" value="100" default_value="100" min="50" max="150" tooltip='Used to modify at runtime the voice feature (tone, speed). In a slighty&#x0A;different way than pitch and speed, it gives a kind of &quot;gender or age&#x0A;modification&quot; effect.&#x0A;&#x0A;For instance, a quite good male derivation of female voice can be&#x0A;obtained setting this parameter to 78%.&#x0A;&#x0A;Note: For a better effect, you can compensate this parameter with the&#x0A;speed parameter. For example, if you want to decrease by 20% the voice&#x0A;shaping, you will have to increase by 20% the speed to keep a constant&#x0A;average speed.&#x0A;&#x0A;!Warning! This feature is not available yet in Japanese, Chinese and Korean.' id="5" />
                                                                    <Parameter name="Speed (%)" inherits_from_parent="0" content_type="1" value="100" default_value="100" min="50" max="200" tooltip="Changes the speed of the voice.&#x0A;&#x0A;Note: For a better effect, you can compensate this parameter with the voice&#x0A;shaping parameter. For example, if you want to increase by 20% the speed, you&#x0A;will have to decrease by 20% the voice shaping to keep a constant average&#x0A;speed.&#x0A;&#x0A;!Warning! This feature is not available yet in Japanese, Chinese and Korean." id="6" />
                                                                    <Timeline enable="0">
                                                                        <BehaviorLayer name="behavior_layer1">
                                                                            <BehaviorKeyframe name="keyframe1" index="1">
                                                                                <Diagram>
                                                                                    <Box name="Say Text" id="2" tooltip="Say the text received on its input." x="422" y="65">
                                                                                        <bitmap>media/images/box/interaction/say.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[import time

class MyClass(GeneratedClass):
    def __init__(self):
        try: # disable autoBind
          GeneratedClass.__init__(self, False)
        except TypeError: # if NAOqi < 1.14
          GeneratedClass.__init__( self )
        self.tts = ALProxy('ALTextToSpeech')
        self.ttsStop = ALProxy('ALTextToSpeech', True) #Create another proxy as wait is blocking if audioout is remote

    def onLoad(self):
        self.bIsRunning = False
        self.ids = []
        
    def onUnload(self):
        for id in self.ids:
            try:
                self.ttsStop.stop(id)
            except:
                pass
        while( self.bIsRunning ):
            time.sleep( 0.2 )

    def onInput_onStart(self, p):
        self.bIsRunning = True
        try:
            sentence = "\RSPD="+ str( self.getParameter("Speed (%)") ) + "\ "
            sentence += "\VCT="+ str( self.getParameter("Voice shaping (%)") ) + "\ "
            sentence += str(p)
            sentence +=  "\RST\ "
            id = self.tts.post.say(str(sentence))
            self.ids.append(id)
            self.tts.wait(id, 0)
        finally:
            try:
                self.ids.remove(id)
            except:
                pass
            if( self.ids == [] ):
                self.onStopped() # activate output of the box
                self.bIsRunning = False

    def onInput_onStop(self):
        self.onUnload()]]>
</content>
                                                                                        </script>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="3" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this Input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this Input." id="3" />
                                                                                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when Box behavior is finished." id="4" />
                                                                                        <Parameter name="Voice shaping (%)" inherits_from_parent="1" content_type="1" value="100" default_value="100" min="50" max="150" tooltip='Used to modify at runtime the voice feature (tone, speed). In a slighty&#x0A;different way than pitch and speed, it gives a kind of &quot;gender or age&#x0A;modification&quot; effect.&#x0A;&#x0A;For instance, a quite good male derivation of female voice can be&#x0A;obtained setting this parameter to 78%.&#x0A;&#x0A;Note: For a better effect, you can compensate this parameter with the&#x0A;speed parameter. For example, if you want to decrease by 20% the voice&#x0A;shaping, you will have to increase by 20% the speed to keep a constant&#x0A;average speed.' id="5" />
                                                                                        <Parameter name="Speed (%)" inherits_from_parent="1" content_type="1" value="100" default_value="100" min="50" max="200" tooltip="Changes the speed of the voice.&#x0A;&#x0A;Note: For a better effect, you can compensate this parameter with the voice&#x0A;shaping parameter. For example, if you want to increase by 20% the speed, you&#x0A;will have to decrease by 20% the voice shaping to keep a constant average&#x0A;speed." id="6" />
                                                                                    </Box>
                                                                                    <Box name="Localized Text" id="5" tooltip="Send on the output the text associated with the robot&apos;s current voice language.&#x0A;You can display and edit the text associated with any language by&#x0A;selecting the language in the combobox.&#x0A;&#x0A;!!Warning!! The text sent on the output is NOT the displayed one but the one&#x0A;associated with the robot&apos;s current voice language." plugin="localizationbox_plugin" x="114" y="68">
                                                                                        <bitmap>media/images/box/interaction/vocabulary.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
	def __init__(self):
		try: # disable autoBind
			GeneratedClass.__init__(self, False)
		except TypeError: # if NAOqi < 1.14
			GeneratedClass.__init__( self )

		self.tts = ALProxy("ALTextToSpeech")
		self.sentences = {
			"Chinese" : " 你好 ",
			"English" : " I am a bit tired. ",
			"French" : " Bonjour ",
			"German" : " Hallo ",
			"Italian" : " Ciao ",
			"Japanese" : " こんにちは ",
			"Korean" : " 안녕하세요 ",
			"Portuguese" : " Olá ",
			"Brazilian" : " Olá ",
			"Spanish" : " Hola ",
			"Arabic" : " مرحبا ",
			"Polish" : " Cześć ",
			"Czech" : " Ahoj ",
			"Dutch" : " Hallo ",
			"Danish" : " Hej ",
			"Finnish" : " Hei ",
			"Swedish" : " Hallå ",
			"Russian" : " Привет ",
			"Turkish" : " Merhaba "
		}

	def onInput_onStart(self):
		sDefaultLang = self.tts.getLanguage()
		self.onStopped(self.sentences[sDefaultLang])]]>
</content>
                                                                                        </script>
                                                                                        <pluginContent>
                                                                                            <chinese>你好</chinese>
                                                                                            <english>I am a bit tired.</english>
                                                                                            <french>Bonjour</french>
                                                                                            <german>Hallo</german>
                                                                                            <italian>Ciao</italian>
                                                                                            <japanese>こんにちは</japanese>
                                                                                            <korean>안녕하세요</korean>
                                                                                            <portuguese>Olá</portuguese>
                                                                                            <brazilian>Olá</brazilian>
                                                                                            <spanish>Hola</spanish>
                                                                                            <arabic>مرحبا</arabic>
                                                                                            <polish>Cześć</polish>
                                                                                            <czech>Ahoj</czech>
                                                                                            <dutch>Hallo</dutch>
                                                                                            <danish>Hej</danish>
                                                                                            <finnish>Hei</finnish>
                                                                                            <swedish>Hallå</swedish>
                                                                                            <russian>Привет</russian>
                                                                                            <turkish>Merhaba</turkish>
                                                                                            <language>1</language>
                                                                                        </pluginContent>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Data is sent on the output when this input is stimulated." id="2" />
                                                                                        <Output name="onStopped" type="3" type_size="1" nature="1" inner="0" tooltip="Data sent when asked." id="3" />
                                                                                    </Box>
                                                                                    <Link inputowner="0" indexofinput="4" outputowner="2" indexofoutput="4" />
                                                                                    <Link inputowner="5" indexofinput="2" outputowner="0" indexofoutput="2" />
                                                                                    <Link inputowner="2" indexofinput="2" outputowner="5" indexofoutput="3" />
                                                                                </Diagram>
                                                                            </BehaviorKeyframe>
                                                                        </BehaviorLayer>
                                                                    </Timeline>
                                                                </Box>
                                                                <Box name="Wipe Forehead" id="3" tooltip="This box makes NAO wipe his forehead." x="376" y="137">
                                                                    <bitmap>media/images/box/movement/move.png</bitmap>
                                                                    <script language="4">
                                                                        <content>
                                                                            <![CDATA[class MyClass(GeneratedClass):
	def __init__(self):
		try: # disable autoBind
		  GeneratedClass.__init__(self, False)
		except TypeError: # if NAOqi < 1.14
		  GeneratedClass.__init__( self )

	def onUnload(self):
		#puts code for box cleanup here
		""

	def onInput_onStart(self):
		#self.onStopped() # activate output of the box
		""

	def onInput_onStop(self):
		""]]>
</content>
                                                                    </script>
                                                                    <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                                                                    <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this Input." id="2" />
                                                                    <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this Input." id="3" />
                                                                    <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when Box behavior is finished." id="4" />
                                                                    <Timeline enable="1" fps="25" start_frame="0" end_frame="-1" size="300">
                                                                        <ActuatorList model="Nao">
                                                                            <ActuatorCurve name="value" actuator="HeadYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="24" value="-13.4498" />
                                                                                <Key frame="42" value="-35.6864" />
                                                                                <Key frame="82" value="-6.50639" />
                                                                                <Key frame="99" value="-0.353971" />
                                                                                <Key frame="113" value="-1.58446" />
                                                                                <Key frame="127" value="-2.11181" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="HeadPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="24" value="-1.49656" />
                                                                                <Key frame="42" value="24.5194" />
                                                                                <Key frame="82" value="17.6638" />
                                                                                <Key frame="99" value="6.41369" />
                                                                                <Key frame="113" value="-0.79343" />
                                                                                <Key frame="127" value="3.51326" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LShoulderPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="20" value="49.4806" />
                                                                                <Key frame="38" value="49.217" />
                                                                                <Key frame="78" value="50.8869" />
                                                                                <Key frame="95" value="53.26" />
                                                                                <Key frame="109" value="58.2698" />
                                                                                <Key frame="123" value="55.9846" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LShoulderRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="20" value="16.4333" />
                                                                                <Key frame="38" value="13.1814" />
                                                                                <Key frame="78" value="11.5993" />
                                                                                <Key frame="95" value="23.2889" />
                                                                                <Key frame="109" value="20.6522" />
                                                                                <Key frame="123" value="18.2791" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LElbowYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="20" value="-54.8468" />
                                                                                <Key frame="38" value="-47.2003" />
                                                                                <Key frame="78" value="-57.7473" />
                                                                                <Key frame="95" value="-53.0011" />
                                                                                <Key frame="109" value="-71.2826" />
                                                                                <Key frame="123" value="-55.0226" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LElbowRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="20" value="-49.6564" />
                                                                                <Key frame="38" value="-49.7443" />
                                                                                <Key frame="78" value="-47.1076" />
                                                                                <Key frame="95" value="-56.8635" />
                                                                                <Key frame="109" value="-55.3694" />
                                                                                <Key frame="123" value="-56.7757" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LWristYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="38" value="22.1463" />
                                                                                <Key frame="78" value="22.1463" />
                                                                                <Key frame="95" value="22.1463" />
                                                                                <Key frame="123" value="22.1463" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LHand" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="38" value="0.132026" />
                                                                                <Key frame="78" value="0.132026" />
                                                                                <Key frame="95" value="0.132026" />
                                                                                <Key frame="123" value="0.132026" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RShoulderPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="16" value="4.39699" />
                                                                                <Key frame="34" value="-34.0996" />
                                                                                <Key frame="74" value="-49.6564" />
                                                                                <Key frame="91" value="-35.1543" />
                                                                                <Key frame="105" value="33.4892" />
                                                                                <Key frame="119" value="50.5401" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RShoulderRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="16" value="-1.145" />
                                                                                <Key frame="34" value="-1.145" />
                                                                                <Key frame="74" value="-35.247" />
                                                                                <Key frame="91" value="-47.7276" />
                                                                                <Key frame="105" value="-12.8346" />
                                                                                <Key frame="119" value="-12.3072" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RElbowYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="16" value="-7.38531" />
                                                                                <Key frame="34" value="-16.3503" />
                                                                                <Key frame="74" value="-8.96736" />
                                                                                <Key frame="91" value="43.2403" />
                                                                                <Key frame="105" value="67.1469" />
                                                                                <Key frame="119" value="38.8457" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RElbowRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="16" value="73.392" />
                                                                                <Key frame="34" value="80.0718" />
                                                                                <Key frame="74" value="90.0914" />
                                                                                <Key frame="91" value="71.1068" />
                                                                                <Key frame="105" value="70.2279" />
                                                                                <Key frame="119" value="48.1671" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RWristYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="34" value="-3.34229" />
                                                                                <Key frame="74" value="-2.99072" />
                                                                                <Key frame="91" value="-3.86964" />
                                                                                <Key frame="119" value="-2.1997" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RHand" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="34" value="0.166571" />
                                                                                <Key frame="74" value="0.166208" />
                                                                                <Key frame="91" value="0.166571" />
                                                                                <Key frame="119" value="0.166208" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LHipYawPitch" recordable="1" mute="1" unit="-1" />
                                                                            <ActuatorCurve name="value" actuator="LHipRoll" recordable="1" mute="1" unit="-1" />
                                                                            <ActuatorCurve name="value" actuator="LHipPitch" recordable="1" mute="1" unit="-1" />
                                                                            <ActuatorCurve name="value" actuator="LKneePitch" recordable="1" mute="1" unit="-1" />
                                                                            <ActuatorCurve name="value" actuator="LAnklePitch" recordable="1" mute="1" unit="-1" />
                                                                            <ActuatorCurve name="value" actuator="LAnkleRoll" recordable="1" mute="1" unit="-1" />
                                                                            <ActuatorCurve name="value" actuator="RHipRoll" recordable="1" mute="1" unit="-1" />
                                                                            <ActuatorCurve name="value" actuator="RHipPitch" recordable="1" mute="1" unit="-1" />
                                                                            <ActuatorCurve name="value" actuator="RKneePitch" recordable="1" mute="1" unit="-1" />
                                                                            <ActuatorCurve name="value" actuator="RAnklePitch" recordable="1" mute="1" unit="-1" />
                                                                            <ActuatorCurve name="value" actuator="RAnkleRoll" recordable="1" mute="1" unit="-1" />
                                                                        </ActuatorList>
                                                                    </Timeline>
                                                                    <Resource name="Head" type="Lock" timeout="0" />
                                                                    <Resource name="Arms" type="Lock" timeout="0" />
                                                                </Box>
                                                                <Box name="Wait For Signals" id="4" tooltip="Wait for both inputs to be stimulated before stimulating its output." x="627" y="66">
                                                                    <bitmap>media/images/box/wait.png</bitmap>
                                                                    <script language="4">
                                                                        <content>
                                                                            <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        try: # disable autoBind
          GeneratedClass.__init__(self, False)
        except TypeError: # if NAOqi < 1.14
          GeneratedClass.__init__( self )

    def onLoad(self):
        self.ok = [False]*2

    def onUnload(self):
        #puts code for box cleanup here
        ""
        
    def onStart(self, nInput):
        self.ok[nInput-1] = True
        bOutput = True
        for bOk in self.ok:
            bOutput = bOutput and bOk
        if( bOutput ):
            self.ok = [False]*2
            self.signalsReceived()

    def onInput_signal1(self):
        self.onStart(1)

    def onInput_signal2(self):
        self.onStart(2)]]>
</content>
                                                                    </script>
                                                                    <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                                                                    <Input name="signal1" type="1" type_size="1" nature="1" inner="0" tooltip="First signal to wait." id="2" />
                                                                    <Input name="signal2" type="1" type_size="1" nature="1" inner="0" tooltip="Second signal to wait." id="3" />
                                                                    <Output name="signalsReceived" type="1" type_size="1" nature="2" inner="0" tooltip="Signal sent when both inputs have been stimulated." id="4" />
                                                                </Box>
                                                                <Box name="Motor On/Off" id="5" tooltip="Stiffen or loosen all motors." x="93" y="118">
                                                                    <bitmap>media/images/box/movement/stiffness.png</bitmap>
                                                                    <script language="4">
                                                                        <content>
                                                                            <![CDATA[import time

class MyClass(GeneratedClass):
    def __init__(self):
        try: # disable autoBind
          GeneratedClass.__init__(self, False)
        except TypeError: # if NAOqi < 1.14
          GeneratedClass.__init__( self )

    def onLoad(self):
        self.motion = ALProxy("ALMotion")

    def onUnload(self):
        pass

    def onInput_onSet(self):
        if( self.getParameter("Action") == "On" ):
            stiffness = 1
        else:
            stiffness = 0
        self.motion.post.stiffnessInterpolation("Body", stiffness, 0.1)
        time.sleep(0.1)
        self.onReady() #~ activate output of the box]]>
</content>
                                                                    </script>
                                                                    <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                    <Input name="onSet" type="1" type_size="1" nature="1" inner="0" tooltip="When this input is stimulated, all motors are stiffened or loosened." id="2" />
                                                                    <Output name="onReady" type="1" type_size="1" nature="2" inner="0" tooltip="Signal sent when it is done." id="3" />
                                                                    <Parameter name="Action" inherits_from_parent="0" content_type="3" value="On" default_value="On" custom_choice="0" tooltip="Choose if you want to stiffen (On) or loosen (Off) all motors." id="4">
                                                                        <Choice value="Off" />
                                                                        <Choice value="On" />
                                                                    </Parameter>
                                                                </Box>
                                                                <Box name="SayRelax" id="6" tooltip="Say some text. Note that you must open the box to enter the text." x="576" y="423">
                                                                    <bitmap>media/images/box/interaction/say.png</bitmap>
                                                                    <script language="4">
                                                                        <content>
                                                                            <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        try: # disable autoBind
          GeneratedClass.__init__(self, False)
        except TypeError: # if NAOqi < 1.14
          GeneratedClass.__init__( self )

    def onLoad(self):
        self.bIsRunning = False

    def onUnload(self):
        self.bIsRunning = False

    def onInput_onStart(self):
        self.bIsRunning = True

    def onInput_onStop(self):
        if( self.bIsRunning ):
            self.onUnload()
            self.onStopped()]]>
</content>
                                                                    </script>
                                                                    <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                                                                    <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this Input." id="2" />
                                                                    <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this Input." id="3" />
                                                                    <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished or stopped." id="4" />
                                                                    <Parameter name="Voice shaping (%)" inherits_from_parent="0" content_type="1" value="100" default_value="100" min="50" max="150" tooltip='Used to modify at runtime the voice feature (tone, speed). In a slighty&#x0A;different way than pitch and speed, it gives a kind of &quot;gender or age&#x0A;modification&quot; effect.&#x0A;&#x0A;For instance, a quite good male derivation of female voice can be&#x0A;obtained setting this parameter to 78%.&#x0A;&#x0A;Note: For a better effect, you can compensate this parameter with the&#x0A;speed parameter. For example, if you want to decrease by 20% the voice&#x0A;shaping, you will have to increase by 20% the speed to keep a constant&#x0A;average speed.&#x0A;&#x0A;!Warning! This feature is not available yet in Japanese, Chinese and Korean.' id="5" />
                                                                    <Parameter name="Speed (%)" inherits_from_parent="0" content_type="1" value="100" default_value="100" min="50" max="200" tooltip="Changes the speed of the voice.&#x0A;&#x0A;Note: For a better effect, you can compensate this parameter with the voice&#x0A;shaping parameter. For example, if you want to increase by 20% the speed, you&#x0A;will have to decrease by 20% the voice shaping to keep a constant average&#x0A;speed.&#x0A;&#x0A;!Warning! This feature is not available yet in Japanese, Chinese and Korean." id="6" />
                                                                    <Timeline enable="0">
                                                                        <BehaviorLayer name="behavior_layer1">
                                                                            <BehaviorKeyframe name="keyframe1" index="1">
                                                                                <Diagram>
                                                                                    <Box name="Say Text" id="2" tooltip="Say the text received on its input." x="422" y="65">
                                                                                        <bitmap>media/images/box/interaction/say.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[import time

class MyClass(GeneratedClass):
    def __init__(self):
        try: # disable autoBind
          GeneratedClass.__init__(self, False)
        except TypeError: # if NAOqi < 1.14
          GeneratedClass.__init__( self )
        self.tts = ALProxy('ALTextToSpeech')
        self.ttsStop = ALProxy('ALTextToSpeech', True) #Create another proxy as wait is blocking if audioout is remote

    def onLoad(self):
        self.bIsRunning = False
        self.ids = []
        
    def onUnload(self):
        for id in self.ids:
            try:
                self.ttsStop.stop(id)
            except:
                pass
        while( self.bIsRunning ):
            time.sleep( 0.2 )

    def onInput_onStart(self, p):
        self.bIsRunning = True
        try:
            sentence = "\RSPD="+ str( self.getParameter("Speed (%)") ) + "\ "
            sentence += "\VCT="+ str( self.getParameter("Voice shaping (%)") ) + "\ "
            sentence += str(p)
            sentence +=  "\RST\ "
            id = self.tts.post.say(str(sentence))
            self.ids.append(id)
            self.tts.wait(id, 0)
        finally:
            try:
                self.ids.remove(id)
            except:
                pass
            if( self.ids == [] ):
                self.onStopped() # activate output of the box
                self.bIsRunning = False

    def onInput_onStop(self):
        self.onUnload()]]>
</content>
                                                                                        </script>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="3" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this Input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this Input." id="3" />
                                                                                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when Box behavior is finished." id="4" />
                                                                                        <Parameter name="Voice shaping (%)" inherits_from_parent="1" content_type="1" value="100" default_value="100" min="50" max="150" tooltip='Used to modify at runtime the voice feature (tone, speed). In a slighty&#x0A;different way than pitch and speed, it gives a kind of &quot;gender or age&#x0A;modification&quot; effect.&#x0A;&#x0A;For instance, a quite good male derivation of female voice can be&#x0A;obtained setting this parameter to 78%.&#x0A;&#x0A;Note: For a better effect, you can compensate this parameter with the&#x0A;speed parameter. For example, if you want to decrease by 20% the voice&#x0A;shaping, you will have to increase by 20% the speed to keep a constant&#x0A;average speed.' id="5" />
                                                                                        <Parameter name="Speed (%)" inherits_from_parent="1" content_type="1" value="100" default_value="100" min="50" max="200" tooltip="Changes the speed of the voice.&#x0A;&#x0A;Note: For a better effect, you can compensate this parameter with the voice&#x0A;shaping parameter. For example, if you want to increase by 20% the speed, you&#x0A;will have to decrease by 20% the voice shaping to keep a constant average&#x0A;speed." id="6" />
                                                                                    </Box>
                                                                                    <Box name="Localized Text" id="5" tooltip="Send on the output the text associated with the robot&apos;s current voice language.&#x0A;You can display and edit the text associated with any language by&#x0A;selecting the language in the combobox.&#x0A;&#x0A;!!Warning!! The text sent on the output is NOT the displayed one but the one&#x0A;associated with the robot&apos;s current voice language." plugin="localizationbox_plugin" x="114" y="68">
                                                                                        <bitmap>media/images/box/interaction/vocabulary.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
	def __init__(self):
		try: # disable autoBind
			GeneratedClass.__init__(self, False)
		except TypeError: # if NAOqi < 1.14
			GeneratedClass.__init__( self )

		self.tts = ALProxy("ALTextToSpeech")
		self.sentences = {
			"Chinese" : " 你好 ",
			"English" : " Let me sit down. ",
			"French" : " Bonjour ",
			"German" : " Hallo ",
			"Italian" : " Ciao ",
			"Japanese" : " こんにちは ",
			"Korean" : " 안녕하세요 ",
			"Portuguese" : " Olá ",
			"Brazilian" : " Olá ",
			"Spanish" : " Hola ",
			"Arabic" : " مرحبا ",
			"Polish" : " Cześć ",
			"Czech" : " Ahoj ",
			"Dutch" : " Hallo ",
			"Danish" : " Hej ",
			"Finnish" : " Hei ",
			"Swedish" : " Hallå ",
			"Russian" : " Привет ",
			"Turkish" : " Merhaba "
		}

	def onInput_onStart(self):
		sDefaultLang = self.tts.getLanguage()
		self.onStopped(self.sentences[sDefaultLang])]]>
</content>
                                                                                        </script>
                                                                                        <pluginContent>
                                                                                            <chinese>你好</chinese>
                                                                                            <english>Let me sit down.</english>
                                                                                            <french>Bonjour</french>
                                                                                            <german>Hallo</german>
                                                                                            <italian>Ciao</italian>
                                                                                            <japanese>こんにちは</japanese>
                                                                                            <korean>안녕하세요</korean>
                                                                                            <portuguese>Olá</portuguese>
                                                                                            <brazilian>Olá</brazilian>
                                                                                            <spanish>Hola</spanish>
                                                                                            <arabic>مرحبا</arabic>
                                                                                            <polish>Cześć</polish>
                                                                                            <czech>Ahoj</czech>
                                                                                            <dutch>Hallo</dutch>
                                                                                            <danish>Hej</danish>
                                                                                            <finnish>Hei</finnish>
                                                                                            <swedish>Hallå</swedish>
                                                                                            <russian>Привет</russian>
                                                                                            <turkish>Merhaba</turkish>
                                                                                            <language>1</language>
                                                                                        </pluginContent>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Data is sent on the output when this input is stimulated." id="2" />
                                                                                        <Output name="onStopped" type="3" type_size="1" nature="1" inner="0" tooltip="Data sent when asked." id="3" />
                                                                                    </Box>
                                                                                    <Link inputowner="0" indexofinput="4" outputowner="2" indexofoutput="4" />
                                                                                    <Link inputowner="5" indexofinput="2" outputowner="0" indexofoutput="2" />
                                                                                    <Link inputowner="2" indexofinput="2" outputowner="5" indexofoutput="3" />
                                                                                </Diagram>
                                                                            </BehaviorKeyframe>
                                                                        </BehaviorLayer>
                                                                    </Timeline>
                                                                </Box>
                                                                <Box name="Robot Posture" id="9" tooltip="Returns the name of the robot posture each time its value changes." x="195" y="361">
                                                                    <bitmap>media/images/box/sensors/inertial_unit.png</bitmap>
                                                                    <script language="4">
                                                                        <content>
                                                                            <![CDATA[import time

class MyClass(GeneratedClass):
    def __init__(self):
        try: # disable autoBind
          GeneratedClass.__init__(self, False)
        except TypeError: # if NAOqi < 1.14
          GeneratedClass.__init__( self )

    def onLoad(self):
        self.postureProxy = ALProxy("ALRobotPosture")
        self.lastPosture = None
        self.bIsRunning = False

    def onUnload(self):
        self.bMustStop = True

    def onInput_onStart(self):
        if( self.bIsRunning ):
            return
        self.bIsRunning = True
        self.bMustStop = False
        while( not self.bMustStop ):
            currentPosture = self.postureProxy.getPostureFamily()
            if( self.lastPosture != currentPosture ):
                self.lastPosture = currentPosture
                self.posture(self.lastPosture)
            time.sleep( self.getParameter("Frequency of updates (s)") )
        self.bIsRunning = False
        self.onStopped()
        
    def onInput_onStop(self):
        self.onUnload()]]>
</content>
                                                                    </script>
                                                                    <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                    <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                    <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                                    <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is stopped." id="4" />
                                                                    <Output name="posture" type="3" type_size="1" nature="2" inner="0" tooltip="The current posture family of the robot.&#x0A;It might be:&#x0A;- Standing&#x0A;- Sitting&#x0A;- LyingBack&#x0A;- LyingBelly&#x0A;- LyingLeft&#x0A;- LyingRignt&#x0A;- Back&#x0A;- Belly&#x0A;- Left&#x0A;- Right&#x0A;- UpSideDown&#x0A;- Lifted&#x0A;- Unknown" id="5" />
                                                                    <Parameter name="Frequency of updates (s)" inherits_from_parent="0" content_type="2" value="1" default_value="1" min="0.1" max="60" tooltip="This value in seconds is the time ellapsed between two updates of posture&#x0A;values." id="6" />
                                                                </Box>
                                                                <Box name="If" id="10" tooltip="Test a condition and stimulate the then or else outputs depending on the boolean&#x0A;value of the condition.&#x0A;The condition can be set in parameters." x="343" y="361">
                                                                    <bitmap>media/images/box/box-diagram.png</bitmap>
                                                                    <script language="4">
                                                                        <content>
                                                                            <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        try: # disable autoBind
          GeneratedClass.__init__(self, False)
        except TypeError: # if NAOqi < 1.14
          GeneratedClass.__init__( self )

    def onLoad(self):
        #~ puts code for box initialization here
        pass

    def onUnload(self):
        #~ puts code for box cleanup here
        pass

    def onInput_onData(self, p):
        param = self.getParameter("Value to compare")
        try:
            p = float(p)
            param = float(param)
        except:
            p = str(p)
            param = str(param)
        operator = self.getParameter("Condition operator")
        if( operator == "<" ):
            self.outputTrueOrFalse( p < param )
        elif( operator == "< or =" ):
            self.outputTrueOrFalse( p <= param )
        elif( operator == "=" ):
            self.outputTrueOrFalse( p == param )
        elif( operator == "> or =" ):
            self.outputTrueOrFalse( p >= param )
        elif( operator == ">" ):
            self.outputTrueOrFalse( p > param )
        elif( operator == "≠" ):
            self.outputTrueOrFalse( p != param )
        else:
            raise Exception( "Operator not known: " + str(operator) )
        
    def outputTrueOrFalse(self, condition):
        if( condition ):
            self.output_then()
        else:
            self.output_else()]]>
</content>
                                                                    </script>
                                                                    <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                    <Input name="onData" type="0" type_size="1" nature="1" inner="0" tooltip="The data to test." id="2" />
                                                                    <Output name="output_then" type="1" type_size="1" nature="2" inner="0" tooltip="Signal sent if the condition is true." id="3" />
                                                                    <Output name="output_else" type="1" type_size="1" nature="2" inner="0" tooltip="Signal sent if the condition is false." id="4" />
                                                                    <Parameter name="Condition operator" inherits_from_parent="0" content_type="3" value="=" default_value="≠" custom_choice="0" tooltip='Choose the condition operator.&#x0A;&#x0A;For example:&#x0A;If you choose &quot;&gt; or =&quot;, the condition will be: is the input is higher or equal&#x0A;than the parameter?' id="5">
                                                                        <Choice value="&lt;" />
                                                                        <Choice value="&lt; or =" />
                                                                        <Choice value="=" />
                                                                        <Choice value="&gt; or =" />
                                                                        <Choice value="&gt;" />
                                                                        <Choice value="≠" />
                                                                    </Parameter>
                                                                    <Parameter name="Value to compare" inherits_from_parent="0" content_type="3" value="Sitting" default_value="0" custom_choice="0" tooltip="This is the value which is compared to the input value." id="6" />
                                                                </Box>
                                                                <Box name="Wait" id="8" tooltip="Wait a moment before sending a signal on the output. The wait can be stopped any&#x0A;time. You may restart it any time, and it will start again." x="250" y="27">
                                                                    <bitmap>media/images/box/wait.png</bitmap>
                                                                    <script language="4">
                                                                        <content>
                                                                            <![CDATA[import threading

class MyClass(GeneratedClass):
    def __init__(self):
        try: # disable autoBind
          GeneratedClass.__init__(self, False)
        except TypeError: # if NAOqi < 1.14
          GeneratedClass.__init__( self )

    def onLoad(self):
        self.tb = False

    def onUnload(self):
        if( self.tb ):
            self.tb.cancel()
            self.tb = False

    def triggerOutput( self, rPeriod = 1 ):
        self.onUnload() # to clean everything
        self.timerOutput()

    def startTimer( self, rPeriod = 1 ):
        if( self.tb ):
            self.tb.cancel()
        self.tb = threading.Timer( rPeriod, self.triggerOutput, [rPeriod] )
        self.tb.start()

    def onInput_onStart(self):
        self.startTimer( self.getParameter("Timeout (s)") )

    def onInput_onStop(self):
        bRunning = self.tb
        self.onUnload()
        if( bRunning and self.getParameter("Trigger timerOutput if cancelled")):
            self.timerOutput()]]>
</content>
                                                                    </script>
                                                                    <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                    <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Start the Wait box with the configured timeout value." id="2" />
                                                                    <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Stop the wait and stimulate the output." id="3" />
                                                                    <Output name="timerOutput" type="1" type_size="1" nature="1" inner="0" tooltip="Send a bang once time set in parameters is ellapsed, or if the box is stopped." id="4" />
                                                                    <Parameter name="Timeout (s)" inherits_from_parent="0" content_type="2" value="1" default_value="1" min="0" max="5000" tooltip="Duration the box waits before stimulating the output." id="5" />
                                                                    <Parameter name="Trigger timerOutput if cancelled" inherits_from_parent="0" content_type="0" value="0" default_value="1" tooltip="" id="6" />
                                                                </Box>
                                                                <Box name="Wait" id="11" tooltip="Wait a moment before sending a signal on the output. The wait can be stopped any&#x0A;time. You may restart it any time, and it will start again." x="506" y="6">
                                                                    <bitmap>media/images/box/wait.png</bitmap>
                                                                    <script language="4">
                                                                        <content>
                                                                            <![CDATA[import threading

class MyClass(GeneratedClass):
    def __init__(self):
        try: # disable autoBind
          GeneratedClass.__init__(self, False)
        except TypeError: # if NAOqi < 1.14
          GeneratedClass.__init__( self )

    def onLoad(self):
        self.tb = False

    def onUnload(self):
        if( self.tb ):
            self.tb.cancel()
            self.tb = False

    def triggerOutput( self, rPeriod = 1 ):
        self.onUnload() # to clean everything
        self.timerOutput()

    def startTimer( self, rPeriod = 1 ):
        if( self.tb ):
            self.tb.cancel()
        self.tb = threading.Timer( rPeriod, self.triggerOutput, [rPeriod] )
        self.tb.start()

    def onInput_onStart(self):
        self.startTimer( self.getParameter("Timeout (s)") )

    def onInput_onStop(self):
        bRunning = self.tb
        self.onUnload()
        if( bRunning and self.getParameter("Trigger timerOutput if cancelled")):
            self.timerOutput()]]>
</content>
                                                                    </script>
                                                                    <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                    <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Start the Wait box with the configured timeout value." id="2" />
                                                                    <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Stop the wait and stimulate the output." id="3" />
                                                                    <Output name="timerOutput" type="1" type_size="1" nature="1" inner="0" tooltip="Send a bang once time set in parameters is ellapsed, or if the box is stopped." id="4" />
                                                                    <Parameter name="Timeout (s)" inherits_from_parent="0" content_type="2" value="1" default_value="1" min="0" max="5000" tooltip="Duration the box waits before stimulating the output." id="5" />
                                                                    <Parameter name="Trigger timerOutput if cancelled" inherits_from_parent="0" content_type="0" value="0" default_value="1" tooltip="" id="6" />
                                                                </Box>
                                                                <Box name="Say" id="13" tooltip="Say some text. Note that you must open the box to enter the text." x="573" y="268">
                                                                    <bitmap>media/images/box/interaction/say.png</bitmap>
                                                                    <script language="4">
                                                                        <content>
                                                                            <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        try: # disable autoBind
          GeneratedClass.__init__(self, False)
        except TypeError: # if NAOqi < 1.14
          GeneratedClass.__init__( self )

    def onLoad(self):
        self.bIsRunning = False

    def onUnload(self):
        self.bIsRunning = False

    def onInput_onStart(self):
        self.bIsRunning = True

    def onInput_onStop(self):
        if( self.bIsRunning ):
            self.onUnload()
            self.onStopped()]]>
</content>
                                                                    </script>
                                                                    <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                                                                    <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this Input." id="2" />
                                                                    <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this Input." id="3" />
                                                                    <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished or stopped." id="4" />
                                                                    <Parameter name="Voice shaping (%)" inherits_from_parent="0" content_type="1" value="100" default_value="100" min="50" max="150" tooltip='Used to modify at runtime the voice feature (tone, speed). In a slighty&#x0A;different way than pitch and speed, it gives a kind of &quot;gender or age&#x0A;modification&quot; effect.&#x0A;&#x0A;For instance, a quite good male derivation of female voice can be&#x0A;obtained setting this parameter to 78%.&#x0A;&#x0A;Note: For a better effect, you can compensate this parameter with the&#x0A;speed parameter. For example, if you want to decrease by 20% the voice&#x0A;shaping, you will have to increase by 20% the speed to keep a constant&#x0A;average speed.&#x0A;&#x0A;!Warning! This feature is not available yet in Japanese, Chinese and Korean.' id="5" />
                                                                    <Parameter name="Speed (%)" inherits_from_parent="0" content_type="1" value="100" default_value="100" min="50" max="200" tooltip="Changes the speed of the voice.&#x0A;&#x0A;Note: For a better effect, you can compensate this parameter with the voice&#x0A;shaping parameter. For example, if you want to increase by 20% the speed, you&#x0A;will have to decrease by 20% the voice shaping to keep a constant average&#x0A;speed.&#x0A;&#x0A;!Warning! This feature is not available yet in Japanese, Chinese and Korean." id="6" />
                                                                    <Timeline enable="0">
                                                                        <BehaviorLayer name="behavior_layer1">
                                                                            <BehaviorKeyframe name="keyframe1" index="1">
                                                                                <Diagram>
                                                                                    <Box name="Say Text" id="2" tooltip="Say the text received on its input." x="422" y="65">
                                                                                        <bitmap>media/images/box/interaction/say.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[import time

class MyClass(GeneratedClass):
    def __init__(self):
        try: # disable autoBind
          GeneratedClass.__init__(self, False)
        except TypeError: # if NAOqi < 1.14
          GeneratedClass.__init__( self )
        self.tts = ALProxy('ALTextToSpeech')
        self.ttsStop = ALProxy('ALTextToSpeech', True) #Create another proxy as wait is blocking if audioout is remote

    def onLoad(self):
        self.bIsRunning = False
        self.ids = []
        
    def onUnload(self):
        for id in self.ids:
            try:
                self.ttsStop.stop(id)
            except:
                pass
        while( self.bIsRunning ):
            time.sleep( 0.2 )

    def onInput_onStart(self, p):
        self.bIsRunning = True
        try:
            sentence = "\RSPD="+ str( self.getParameter("Speed (%)") ) + "\ "
            sentence += "\VCT="+ str( self.getParameter("Voice shaping (%)") ) + "\ "
            sentence += str(p)
            sentence +=  "\RST\ "
            id = self.tts.post.say(str(sentence))
            self.ids.append(id)
            self.tts.wait(id, 0)
        finally:
            try:
                self.ids.remove(id)
            except:
                pass
            if( self.ids == [] ):
                self.onStopped() # activate output of the box
                self.bIsRunning = False

    def onInput_onStop(self):
        self.onUnload()]]>
</content>
                                                                                        </script>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="3" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this Input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this Input." id="3" />
                                                                                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when Box behavior is finished." id="4" />
                                                                                        <Parameter name="Voice shaping (%)" inherits_from_parent="1" content_type="1" value="100" default_value="100" min="50" max="150" tooltip='Used to modify at runtime the voice feature (tone, speed). In a slighty&#x0A;different way than pitch and speed, it gives a kind of &quot;gender or age&#x0A;modification&quot; effect.&#x0A;&#x0A;For instance, a quite good male derivation of female voice can be&#x0A;obtained setting this parameter to 78%.&#x0A;&#x0A;Note: For a better effect, you can compensate this parameter with the&#x0A;speed parameter. For example, if you want to decrease by 20% the voice&#x0A;shaping, you will have to increase by 20% the speed to keep a constant&#x0A;average speed.' id="5" />
                                                                                        <Parameter name="Speed (%)" inherits_from_parent="1" content_type="1" value="100" default_value="100" min="50" max="200" tooltip="Changes the speed of the voice.&#x0A;&#x0A;Note: For a better effect, you can compensate this parameter with the voice&#x0A;shaping parameter. For example, if you want to increase by 20% the speed, you&#x0A;will have to decrease by 20% the voice shaping to keep a constant average&#x0A;speed." id="6" />
                                                                                    </Box>
                                                                                    <Box name="Localized Text" id="5" tooltip="Send on the output the text associated with the robot&apos;s current voice language.&#x0A;You can display and edit the text associated with any language by&#x0A;selecting the language in the combobox.&#x0A;&#x0A;!!Warning!! The text sent on the output is NOT the displayed one but the one&#x0A;associated with the robot&apos;s current voice language." plugin="localizationbox_plugin" x="114" y="68">
                                                                                        <bitmap>media/images/box/interaction/vocabulary.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
	def __init__(self):
		try: # disable autoBind
			GeneratedClass.__init__(self, False)
		except TypeError: # if NAOqi < 1.14
			GeneratedClass.__init__( self )

		self.tts = ALProxy("ALTextToSpeech")
		self.sentences = {
			"Chinese" : " 你好 ",
			"English" : " Luckily I am already sitting down. ",
			"French" : " Bonjour ",
			"German" : " Hallo ",
			"Italian" : " Ciao ",
			"Japanese" : " こんにちは ",
			"Korean" : " 안녕하세요 ",
			"Portuguese" : " Olá ",
			"Brazilian" : " Olá ",
			"Spanish" : " Hola ",
			"Arabic" : " مرحبا ",
			"Polish" : " Cześć ",
			"Czech" : " Ahoj ",
			"Dutch" : " Hallo ",
			"Danish" : " Hej ",
			"Finnish" : " Hei ",
			"Swedish" : " Hallå ",
			"Russian" : " Привет ",
			"Turkish" : " Merhaba "
		}

	def onInput_onStart(self):
		sDefaultLang = self.tts.getLanguage()
		self.onStopped(self.sentences[sDefaultLang])]]>
</content>
                                                                                        </script>
                                                                                        <pluginContent>
                                                                                            <chinese>你好</chinese>
                                                                                            <english>Luckily I am already sitting down.</english>
                                                                                            <french>Bonjour</french>
                                                                                            <german>Hallo</german>
                                                                                            <italian>Ciao</italian>
                                                                                            <japanese>こんにちは</japanese>
                                                                                            <korean>안녕하세요</korean>
                                                                                            <portuguese>Olá</portuguese>
                                                                                            <brazilian>Olá</brazilian>
                                                                                            <spanish>Hola</spanish>
                                                                                            <arabic>مرحبا</arabic>
                                                                                            <polish>Cześć</polish>
                                                                                            <czech>Ahoj</czech>
                                                                                            <dutch>Hallo</dutch>
                                                                                            <danish>Hej</danish>
                                                                                            <finnish>Hei</finnish>
                                                                                            <swedish>Hallå</swedish>
                                                                                            <russian>Привет</russian>
                                                                                            <turkish>Merhaba</turkish>
                                                                                            <language>1</language>
                                                                                        </pluginContent>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Data is sent on the output when this input is stimulated." id="2" />
                                                                                        <Output name="onStopped" type="3" type_size="1" nature="1" inner="0" tooltip="Data sent when asked." id="3" />
                                                                                    </Box>
                                                                                    <Link inputowner="0" indexofinput="4" outputowner="2" indexofoutput="4" />
                                                                                    <Link inputowner="5" indexofinput="2" outputowner="0" indexofoutput="2" />
                                                                                    <Link inputowner="2" indexofinput="2" outputowner="5" indexofoutput="3" />
                                                                                </Diagram>
                                                                            </BehaviorKeyframe>
                                                                        </BehaviorLayer>
                                                                    </Timeline>
                                                                </Box>
                                                                <Link inputowner="5" indexofinput="2" outputowner="0" indexofoutput="2" />
                                                                <Link inputowner="3" indexofinput="2" outputowner="5" indexofoutput="3" />
                                                                <Link inputowner="10" indexofinput="2" outputowner="9" indexofoutput="5" />
                                                                <Link inputowner="6" indexofinput="2" outputowner="10" indexofoutput="4" />
                                                                <Link inputowner="9" indexofinput="3" outputowner="9" indexofoutput="5" />
                                                                <Link inputowner="2" indexofinput="2" outputowner="8" indexofoutput="4" />
                                                                <Link inputowner="4" indexofinput="3" outputowner="3" indexofoutput="4" />
                                                                <Link inputowner="9" indexofinput="2" outputowner="4" indexofoutput="4" />
                                                                <Link inputowner="11" indexofinput="2" outputowner="2" indexofoutput="4" />
                                                                <Link inputowner="4" indexofinput="2" outputowner="11" indexofoutput="4" />
                                                                <Link inputowner="13" indexofinput="2" outputowner="10" indexofoutput="3" />
                                                                <Link inputowner="8" indexofinput="2" outputowner="5" indexofoutput="3" />
                                                                <Link inputowner="0" indexofinput="4" outputowner="13" indexofoutput="4" />
                                                                <Link inputowner="0" indexofinput="4" outputowner="6" indexofoutput="4" />
                                                            </Diagram>
                                                        </BehaviorKeyframe>
                                                    </BehaviorLayer>
                                                </Timeline>
                                            </Box>
                                            <Box name="SitRelax" id="15" tooltip="Sit Down and Relax.&#x0A;&#x0A;" x="209" y="176">
                                                <bitmap>media/images/box/box-diagram.png</bitmap>
                                                <script language="4">
                                                    <content>
                                                        <![CDATA[]]>
</content>
                                                </script>
                                                <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                                <Timeline enable="0">
                                                    <BehaviorLayer name="behavior_layer1">
                                                        <BehaviorKeyframe name="keyframe1" index="1">
                                                            <Diagram>
                                                                <Box name="Sit Down" id="7" tooltip="NAO tries to sit down from any position for a number of tries.&#x0A;&#x0A;Note: The number of tries can be set in parameters." x="350" y="224">
                                                                    <bitmap>media/images/box/movement/sit_ground.png</bitmap>
                                                                    <script language="4">
                                                                        <content>
                                                                            <![CDATA[]]>
</content>
                                                                    </script>
                                                                    <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                    <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                    <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                                    <Output name="success" type="1" type_size="1" nature="1" inner="0" tooltip="Stimulated when NAO succeed in sitting down." id="4" />
                                                                    <Output name="failure" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when the robot failed to sit down after n tries.&#x0A;&#x0A;Note: The number of tries can be set in parameters." id="5" />
                                                                    <Timeline enable="0">
                                                                        <BehaviorLayer name="SitDownBehavior">
                                                                            <BehaviorKeyframe name="DetectRobotPose" index="1">
                                                                                <Diagram>
                                                                                    <Box name="Goto Posture" id="7" tooltip="The robot goes from its current postition to the asked posture." x="371" y="101">
                                                                                        <bitmap>media/images/box/box-diagram.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        try: # disable autoBind
          GeneratedClass.__init__(self, False)
        except TypeError: # if NAOqi < 1.14
          GeneratedClass.__init__( self )

    def onLoad(self):
        self.postureProxy = ALProxy("ALRobotPosture")
        pass

    def onUnload(self):
        self.postureProxy.stopMove()

    def onInput_onStart(self):
        result = self.postureProxy.goToPosture(self.getParameter("Name"), self.getParameter("Speed (%)")/100.)
        if(result):
            self.success()
        else:
            self.failure()
        pass

    def onInput_onStop(self):
        self.onUnload() #~ it is recommanded to call onUnload of this box in a onStop method, as the code written in onUnload is used to stop the box as well
        pass]]>
</content>
                                                                                        </script>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                                                        <Output name="success" type="1" type_size="1" nature="1" inner="0" tooltip="Stimulated if the posture has been reached." id="4" />
                                                                                        <Output name="failure" type="1" type_size="1" nature="1" inner="0" tooltip="Stimulated if the posture could not be reached." id="5" />
                                                                                        <Parameter name="Name" inherits_from_parent="0" content_type="3" value="Sit" default_value="Sit" custom_choice="1" tooltip="Name of the posture to go to." id="6">
                                                                                            <Choice value="Crouch" />
                                                                                            <Choice value="LyingBack" />
                                                                                            <Choice value="LyingBelly" />
                                                                                            <Choice value="Sit" />
                                                                                            <Choice value="SitRelax" />
                                                                                            <Choice value="StandInit" />
                                                                                            <Choice value="Stand" />
                                                                                            <Choice value="StandZero" />
                                                                                        </Parameter>
                                                                                        <Parameter name="Speed (%)" inherits_from_parent="0" content_type="1" value="80" default_value="100" min="0" max="100" tooltip="Speed to go to the posture." id="7" />
                                                                                        <Resource name="All motors" type="Lock" timeout="0" />
                                                                                        <Resource name="Stiffness" type="Lock" timeout="0" />
                                                                                    </Box>
                                                                                    <Link inputowner="7" indexofinput="2" outputowner="0" indexofoutput="2" />
                                                                                    <Link inputowner="0" indexofinput="4" outputowner="7" indexofoutput="4" />
                                                                                    <Link inputowner="0" indexofinput="5" outputowner="7" indexofoutput="5" />
                                                                                </Diagram>
                                                                            </BehaviorKeyframe>
                                                                        </BehaviorLayer>
                                                                    </Timeline>
                                                                    <Resource name="All motors" type="Lock" timeout="0" />
                                                                </Box>
                                                                <Box name="Set Stiffness" id="14" tooltip="Stiffen the motors selected in parameters." x="529" y="21">
                                                                    <bitmap>media/images/box/movement/stiffness.png</bitmap>
                                                                    <script language="4">
                                                                        <content>
                                                                            <![CDATA[import time

class MyClass(GeneratedClass):
    def __init__(self):
        try: # disable autoBind
          GeneratedClass.__init__(self, False)
        except TypeError: # if NAOqi < 1.14
          GeneratedClass.__init__( self )

    def onLoad(self):
        self.bIsRunning = False
        self.motion = ALProxy("ALMotion")

    def onUnload(self):
        self.bIsRunning = False

    def setStiffness(self, stiffness):
        self.bIsRunning = True
        duration = self.getParameter("Duration (s)")
        if(self.getParameter("Head")):
            self.motion.post.stiffnessInterpolation("Head", stiffness, duration)
        if(self.getParameter("Left arm")):
            self.motion.post.stiffnessInterpolation("LArm", stiffness, duration)
        if(self.getParameter("Right arm")):
            self.motion.post.stiffnessInterpolation("RArm", stiffness, duration)
        if(self.getParameter("Left leg")):
            self.motion.post.stiffnessInterpolation("LLeg", stiffness, duration)
        if(self.getParameter("Right leg")):
            self.motion.post.stiffnessInterpolation("RLeg", stiffness, duration)
        time.sleep(duration)
        self.bIsRunning = False

    def onInput_onSet(self):
        if( self.bIsRunning ):
            return
        self.setStiffness(self.getParameter("Motors stiffness (%)")/100.)
        self.onReady() #~ activate output of the box]]>
</content>
                                                                    </script>
                                                                    <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                    <Input name="onSet" type="1" type_size="1" nature="1" inner="0" tooltip="When this input is stimulated, the stiffness of the selected motors is set to&#x0A;the stiffness parameter value." id="2" />
                                                                    <Output name="onReady" type="1" type_size="1" nature="2" inner="0" tooltip="Signal sent when stiffness has been set." id="3" />
                                                                    <Parameter name="Head" inherits_from_parent="0" content_type="0" value="1" default_value="1" tooltip="Do we want to modify the head stiffness?" id="4" />
                                                                    <Parameter name="Left arm" inherits_from_parent="0" content_type="0" value="0" default_value="1" tooltip="Do we want to modify the left arm stiffness?" id="5" />
                                                                    <Parameter name="Right arm" inherits_from_parent="0" content_type="0" value="0" default_value="1" tooltip="Do we want to modify the right arm stiffness?" id="6" />
                                                                    <Parameter name="Left leg" inherits_from_parent="0" content_type="0" value="0" default_value="1" tooltip="Do we want to modify the left leg stiffness?" id="7" />
                                                                    <Parameter name="Right leg" inherits_from_parent="0" content_type="0" value="0" default_value="1" tooltip="Do we want to modify the right leg stiffness?" id="8" />
                                                                    <Parameter name="Motors stiffness (%)" inherits_from_parent="0" content_type="1" value="80" default_value="100" min="0" max="100" tooltip="Stiffness value the motors are set to." id="9" />
                                                                    <Parameter name="Duration (s)" inherits_from_parent="0" content_type="2" value="1" default_value="1" min="0.02" max="10" tooltip="How much time to go to the max/min stiffness in seconds." id="10" />
                                                                </Box>
                                                                <Box name="Motor On/Off" id="1" tooltip="Stiffen or loosen all motors." x="364" y="37">
                                                                    <bitmap>media/images/box/movement/stiffness.png</bitmap>
                                                                    <script language="4">
                                                                        <content>
                                                                            <![CDATA[import time

class MyClass(GeneratedClass):
    def __init__(self):
        try: # disable autoBind
          GeneratedClass.__init__(self, False)
        except TypeError: # if NAOqi < 1.14
          GeneratedClass.__init__( self )

    def onLoad(self):
        self.motion = ALProxy("ALMotion")

    def onUnload(self):
        pass

    def onInput_onSet(self):
        if( self.getParameter("Action") == "On" ):
            stiffness = 1
        else:
            stiffness = 0
        self.motion.post.stiffnessInterpolation("Body", stiffness, 0.1)
        time.sleep(0.1)
        self.onReady() #~ activate output of the box]]>
</content>
                                                                    </script>
                                                                    <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                    <Input name="onSet" type="1" type_size="1" nature="1" inner="0" tooltip="When this input is stimulated, all motors are stiffened or loosened." id="2" />
                                                                    <Output name="onReady" type="1" type_size="1" nature="2" inner="0" tooltip="Signal sent when it is done." id="3" />
                                                                    <Parameter name="Action" inherits_from_parent="0" content_type="3" value="Off" default_value="On" custom_choice="0" tooltip="Choose if you want to stiffen (On) or loosen (Off) all motors." id="4">
                                                                        <Choice value="Off" />
                                                                        <Choice value="On" />
                                                                    </Parameter>
                                                                </Box>
                                                                <Link inputowner="14" indexofinput="2" outputowner="1" indexofoutput="3" />
                                                                <Link inputowner="7" indexofinput="2" outputowner="0" indexofoutput="2" />
                                                                <Link inputowner="1" indexofinput="2" outputowner="7" indexofoutput="4" />
                                                                <Link inputowner="0" indexofinput="4" outputowner="7" indexofoutput="5" />
                                                                <Link inputowner="0" indexofinput="4" outputowner="14" indexofoutput="3" />
                                                            </Diagram>
                                                        </BehaviorKeyframe>
                                                    </BehaviorLayer>
                                                </Timeline>
                                            </Box>
                                            <Box name="SitUps" id="4" tooltip="Do a number of SitUps" x="779" y="887">
                                                <bitmap>media/images/box/box-diagram.png</bitmap>
                                                <script language="4">
                                                    <content>
                                                        <![CDATA[]]>
</content>
                                                </script>
                                                <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                                <Timeline enable="0">
                                                    <BehaviorLayer name="behavior_layer1">
                                                        <BehaviorKeyframe name="keyframe1" index="1">
                                                            <Diagram>
                                                                <Box name="For" id="3" tooltip="Represent a counter.&#x0A;&#x0A;Each time the onStart input is stimulated, the counter value is sent on the&#x0A;currentValue output and incremented (or decremented) by Step value, from&#x0A;its Initial value to its Final value set in the parameters. Once the counter value is&#x0A;higher than its Final value, the onReinitialized output is stimulated and&#x0A;the counter is reinitialized to the Initial value.&#x0A;&#x0A;Note: You can also reinitialize the counter by stimulating the onInit&#x0A;input." x="459" y="90">
                                                                    <bitmap>media/images/box/loop.png</bitmap>
                                                                    <script language="4">
                                                                        <content>
                                                                            <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        try: # disable autoBind
          GeneratedClass.__init__(self, False)
        except TypeError: # if NAOqi < 1.14
          GeneratedClass.__init__( self )

    def onLoad(self):
        self.initializeParameters()
        if( self.getParameter("Final value") - self.getParameter("Initial value") >= 0 ):
            self.stepSign = +1
        else:
            self.stepSign = -1

    def onUnload(self):
        #~ puts code for box cleanup here
        pass

    def onInput_onNext(self):
        bParamChanged = ( self.nLast != self.getParameter("Final value") or self.nFirst != self.getParameter("Initial value") )
        bEnd = ( self.stepSign * self.nCounter > self.stepSign * self.nLast )
        if( bEnd or bParamChanged ):
            self.onInput_onInit()
        if( not bEnd or bParamChanged ):
            currentCounter = self.nCounter
            self.nCounter = self.nCounter + self.stepSign * self.getParameter("Step value")
            self.currentValue( currentCounter )
        
    def initializeParameters(self):
        self.nFirst = self.getParameter("Initial value")
        self.nCounter = self.nFirst
        self.nLast = self.getParameter("Final value")

    def onInput_onInit(self):
        self.initializeParameters()
        self.onReinitialized()]]>
</content>
                                                                    </script>
                                                                    <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                                                                    <Input name="onNext" type="1" type_size="1" nature="1" inner="0" tooltip="The counter next value is sent on the currentValue output when a signal is&#x0A;received on this input, unless it reached its Final value, then the onReinitialized&#x0A;output is stimulated." id="2" />
                                                                    <Input name="onInit" type="1" type_size="1" nature="1" inner="0" tooltip="When a signal is received on this input, the counter is reinitialized to its Initial&#x0A;value." id="3" />
                                                                    <Output name="currentValue" type="2" type_size="1" nature="2" inner="0" tooltip="Stimulated for each interaction with the counter current value." id="4" />
                                                                    <Output name="onReinitialized" type="1" type_size="1" nature="2" inner="0" tooltip="Stimulated when the loop is over or if the counter has been reinitialized." id="5" />
                                                                    <Parameter name="Initial value" inherits_from_parent="0" content_type="1" value="1" default_value="0" min="0" max="500" tooltip="The initial value of the counter (for the first iteration)." id="6" />
                                                                    <Parameter name="Step value" inherits_from_parent="0" content_type="1" value="1" default_value="1" min="1" max="500" tooltip="The counter value will be incremented or decremented with this value." id="7" />
                                                                    <Parameter name="Final value" inherits_from_parent="0" content_type="1" value="5" default_value="5" min="0" max="500" tooltip="It is the maximum (if increasing) or the minimum (if decreasing) value of the&#x0A;counter (thus for the last iteration).&#x0A;&#x0A;After this value, if the onStart input is called, the onReinitialized output will be&#x0A;stimulated and the counter will be reinitialized to its Initial value." id="8" />
                                                                </Box>
                                                                <Box name="Situp" id="6" tooltip="Simple hello animation.&#x0A;&#x0A;!!Warning!! There is no speech in this box. It is a just an animation box with some&#x0A;leds animation." x="538" y="252">
                                                                    <bitmap>media/images/box/movement/move.png</bitmap>
                                                                    <script language="4">
                                                                        <content>
                                                                            <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        try: # disable autoBind
          GeneratedClass.__init__(self, False)
        except TypeError: # if NAOqi < 1.14
          GeneratedClass.__init__( self )

    def onLoad(self):
        #~ puts code for box initialization here
        pass

    def onUnload(self):
        #~ puts code for box cleanup here
        pass

    def onInput_onStart(self):
        #~ self.onStopped() #~ activate output of the box
        pass

    def onInput_onStop(self):
        self.onUnload() #~ it is recommanded to call onUnload of this box in a onStop method, as the code written in onUnload is used to stop the box as well
        pass]]>
</content>
                                                                    </script>
                                                                    <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                                                                    <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                    <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                                    <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                                                    <Timeline enable="1" fps="25" start_frame="0" end_frame="-1" size="300">
                                                                        <BehaviorLayer name="behavior_layer1">
                                                                            <BehaviorKeyframe name="FaceLeds" index="1">
                                                                                <Diagram>
                                                                                    <Box name="Light_AskForAttentionEyes" id="1" tooltip="Set an animated gaze which calls for attention (purple eyes).&#x0A;&#x0A;Note: It is a never ending box. You must call onStop to stop it.&#x0A;&#x0A;*** state: 5a_release ***&#x0A;*** ref box in: 5a_release\Leds\Light_AskForAttentionEyes\Light_AskForAttentionEyes.xar ***&#x0A;*** last modification date(svn): Version it! ***" x="281" y="144">
                                                                                        <bitmap>media/images/box/interaction/LED.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
  def __init__(self):
    try: # disable autoBind;
      GeneratedClass.__init__(self, False);
    except TypeError: # if NAOqi < 1.14;
      GeneratedClass.__init__( self );
    
  def onLoad(self):
    self.bIsRunning = False;
    self.leds = ALProxy("ALLeds")

  def onUnload(self):
    self.onInput_onStop(); # will stop current loop execution

  def onInput_onStart(self):
    #self.logger.info( self.getName() + ": start - begin" );

    if( self.bIsRunning ):
      #print( self.getName() + ": already started => nothing" );
      return;

    self.bIsRunning = True;
    self.bMustStop = False;

    rDuration = 0.2;
    self.leds.post.fadeRGB( "FaceLedsTop", 0xff00ff, rDuration );
    self.leds.post.fadeRGB( "FaceLedsInternal", 0xff00ff, rDuration );
    self.leds.post.fadeRGB( "FaceLedsBottom", 0xff00ff, rDuration );
    self.leds.fadeRGB( "FaceLedsExternal", 0xff00ff, rDuration );

    while( not self.bMustStop ):
      rTime = 0.1;
      self.leds.post.fadeRGB( "FaceLedsTop", 0xffffff, rTime );
      self.leds.fadeRGB( "FaceLedsBottom", 0xffffff, rTime );
      if( self.bMustStop ):
        break;
      rTime = 0.3
      self.leds.post.fadeRGB( "FaceLedsTop", 0xff00ff, rTime );
      self.leds.fadeRGB( "FaceLedsBottom", 0xff00ff, rTime );


    # end while
    self.bIsRunning = False;
    self.onStopped();

  def onInput_onStop(self):
    self.bMustStop = True; # will stop current loop execution]]>
</content>
                                                                                        </script>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                                                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                                                                    </Box>
                                                                                    <Link inputowner="1" indexofinput="2" outputowner="0" indexofoutput="1" />
                                                                                </Diagram>
                                                                            </BehaviorKeyframe>
                                                                        </BehaviorLayer>
                                                                        <ActuatorList model="Nao">
                                                                            <ActuatorCurve name="value" actuator="HeadYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="27" value="-1.54071" />
                                                                                <Key frame="92" value="-1.54071" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="HeadPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="27" value="-1.29193" />
                                                                                <Key frame="92" value="-1.29193" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LShoulderPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="27" value="5" />
                                                                                <Key frame="49" value="-21.5" />
                                                                                <Key frame="65" value="-21.5" />
                                                                                <Key frame="92" value="5" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LShoulderRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="27" value="9.9" />
                                                                                <Key frame="92" value="9.9" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LElbowYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="27" value="0" />
                                                                                <Key frame="92" value="0" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LElbowRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="27" value="-2.1" />
                                                                                <Key frame="92" value="-2.1" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LWristYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="27" value="6.01189" />
                                                                                <Key frame="92" value="6.01189" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LHand" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="27" value="0.89" />
                                                                                <Key frame="49" value="0.92" />
                                                                                <Key frame="65" value="0.92" />
                                                                                <Key frame="92" value="0.89" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RShoulderPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="27" value="0" />
                                                                                <Key frame="49" value="-8.3" />
                                                                                <Key frame="65" value="-8.3" />
                                                                                <Key frame="92" value="0" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RShoulderRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="27" value="-0.5" />
                                                                                <Key frame="92" value="-0.5" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RElbowYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="27" value="119.5" />
                                                                                <Key frame="92" value="119.5" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RElbowRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="27" value="0.5" />
                                                                                <Key frame="92" value="0.5" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RWristYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="27" value="-104.5" />
                                                                                <Key frame="92" value="-104.5" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RHand" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="27" value="1" />
                                                                                <Key frame="92" value="1" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LAnklePitch" recordable="0" mute="0" unit="0">
                                                                                <Key frame="27" value="5.15662" />
                                                                                <Key frame="49" value="-30.8" />
                                                                                <Key frame="65" value="-30.8" />
                                                                                <Key frame="92" value="5.15662" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LAnkleRoll" recordable="0" mute="0" unit="0">
                                                                                <Key frame="27" value="-7.44845" />
                                                                                <Key frame="49" value="-8.1" />
                                                                                <Key frame="65" value="-8.1" />
                                                                                <Key frame="92" value="-7.44845" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LHipPitch" recordable="0" mute="0" unit="0">
                                                                                <Key frame="27" value="7.44845" />
                                                                                <Key frame="49" value="-81.9" />
                                                                                <Key frame="65" value="-81.9" />
                                                                                <Key frame="92" value="7.44845" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LHipRoll" recordable="0" mute="0" unit="0">
                                                                                <Key frame="27" value="5.72958" />
                                                                                <Key frame="49" value="6.5" />
                                                                                <Key frame="65" value="6.5" />
                                                                                <Key frame="92" value="5.72958" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LHipYawPitch" recordable="0" mute="0" unit="0">
                                                                                <Key frame="27" value="-9.74028" />
                                                                                <Key frame="92" value="-9.74028" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LKneePitch" recordable="0" mute="0" unit="0">
                                                                                <Key frame="27" value="-5.15662" />
                                                                                <Key frame="49" value="101.1" />
                                                                                <Key frame="65" value="101.1" />
                                                                                <Key frame="92" value="-5.15662" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RAnklePitch" recordable="0" mute="0" unit="0">
                                                                                <Key frame="27" value="5.15662" />
                                                                                <Key frame="49" value="-30.8" />
                                                                                <Key frame="65" value="-30.8" />
                                                                                <Key frame="92" value="5.15662" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RAnkleRoll" recordable="0" mute="0" unit="0">
                                                                                <Key frame="27" value="7.44845" />
                                                                                <Key frame="49" value="-8.1" />
                                                                                <Key frame="65" value="-8.1" />
                                                                                <Key frame="92" value="7.44845" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RHipPitch" recordable="0" mute="0" unit="0">
                                                                                <Key frame="27" value="7.44845" />
                                                                                <Key frame="49" value="-81.9" />
                                                                                <Key frame="65" value="-81.9" />
                                                                                <Key frame="92" value="7.44845" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RHipRoll" recordable="0" mute="0" unit="0">
                                                                                <Key frame="27" value="-5.72958" />
                                                                                <Key frame="49" value="6.5" />
                                                                                <Key frame="65" value="6.5" />
                                                                                <Key frame="92" value="-5.72958" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RHipYawPitch" recordable="0" mute="0" unit="0">
                                                                                <Key frame="27" value="-9.74028" />
                                                                                <Key frame="92" value="-9.74028" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RKneePitch" recordable="0" mute="0" unit="0">
                                                                                <Key frame="27" value="-5.15662" />
                                                                                <Key frame="49" value="101.1" />
                                                                                <Key frame="65" value="101.1" />
                                                                                <Key frame="92" value="-5.15662" />
                                                                            </ActuatorCurve>
                                                                        </ActuatorList>
                                                                    </Timeline>
                                                                    <Resource name="Head" type="Lock" timeout="0" />
                                                                    <Resource name="Arms" type="Lock" timeout="0" />
                                                                </Box>
                                                                <Box name="Stand Up" id="2" tooltip="NAO tries to stand up from any position for a number of tries.&#x0A;&#x0A;Note: The number of tries can be set in parameters." x="249" y="30">
                                                                    <bitmap>media/images/box/movement/stand.png</bitmap>
                                                                    <script language="4">
                                                                        <content>
                                                                            <![CDATA[]]>
</content>
                                                                    </script>
                                                                    <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                    <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                    <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                                    <Output name="success" type="1" type_size="1" nature="1" inner="0" tooltip="Stimulated when NAO succeed in standing up." id="4" />
                                                                    <Output name="failure" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when the robot failed to stand up after n tries.&#x0A;&#x0A;Note: The number of tries can be set in parameters." id="5" />
                                                                    <Parameter name="Maximum of tries" inherits_from_parent="0" content_type="1" value="3" default_value="3" min="0" max="10" tooltip="The maximum number of fails of stand up before stimulating the failure output." id="6" />
                                                                    <Timeline enable="0">
                                                                        <BehaviorLayer name="StandUpBehavior">
                                                                            <BehaviorKeyframe name="DetectRobotPose" index="1">
                                                                                <Diagram>
                                                                                    <Box name="Goto Posture" id="2" tooltip="The robot goes from its current postition to the asked posture." x="331" y="92">
                                                                                        <bitmap>media/images/box/box-diagram.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        try: # disable autoBind
          GeneratedClass.__init__(self, False)
        except TypeError: # if NAOqi < 1.14
          GeneratedClass.__init__( self )

    def onLoad(self):
        self.nTries = 0
        self.postureProxy = ALProxy("ALRobotPosture")
        pass

    def onUnload(self):
        self.postureProxy.stopMove()

    def onInput_onStart(self):
        if(self.nTries != self.getParameter("Maximum of tries")):
            self.nTries = self.getParameter("Maximum of tries")
            self.postureProxy.setMaxTryNumber(self.nTries)

        result = self.postureProxy.goToPosture(self.getParameter("Name"), self.getParameter("Speed (%)")/100.)
        if(result):
            self.success()
        else:
            self.failure()
        pass

    def onInput_onStop(self):
        self.onUnload() #~ it is recommanded to call onUnload of this box in a onStop method, as the code written in onUnload is used to stop the box as well
        pass]]>
</content>
                                                                                        </script>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                                                        <Output name="success" type="1" type_size="1" nature="1" inner="0" tooltip="Stimulated if the posture has been reached." id="4" />
                                                                                        <Output name="failure" type="1" type_size="1" nature="1" inner="0" tooltip="Stimulated if the posture could not be reached." id="5" />
                                                                                        <Parameter name="Name" inherits_from_parent="0" content_type="3" value="Stand" default_value="Stand" custom_choice="1" tooltip="Name of the posture to go to." id="6">
                                                                                            <Choice value="Crouch" />
                                                                                            <Choice value="LyingBack" />
                                                                                            <Choice value="LyingBelly" />
                                                                                            <Choice value="Sit" />
                                                                                            <Choice value="SitRelax" />
                                                                                            <Choice value="StandInit" />
                                                                                            <Choice value="Stand" />
                                                                                            <Choice value="StandZero" />
                                                                                        </Parameter>
                                                                                        <Parameter name="Speed (%)" inherits_from_parent="0" content_type="1" value="80" default_value="80" min="0" max="100" tooltip="Speed to go to the posture." id="7" />
                                                                                        <Parameter name="Maximum of tries" inherits_from_parent="1" content_type="1" value="3" default_value="3" min="0" max="10" tooltip="The maximum number of fails of go to posture before stimulating the failure output." id="8" />
                                                                                        <Resource name="All motors" type="Lock" timeout="0" />
                                                                                        <Resource name="Stiffness" type="Lock" timeout="0" />
                                                                                    </Box>
                                                                                    <Link inputowner="2" indexofinput="2" outputowner="0" indexofoutput="2" />
                                                                                    <Link inputowner="0" indexofinput="4" outputowner="2" indexofoutput="4" />
                                                                                    <Link inputowner="0" indexofinput="5" outputowner="2" indexofoutput="5" />
                                                                                </Diagram>
                                                                            </BehaviorKeyframe>
                                                                        </BehaviorLayer>
                                                                    </Timeline>
                                                                    <Resource name="All motors" type="Lock" timeout="0" />
                                                                </Box>
                                                                <Box name="Go to position Stand" id="4" tooltip="Robot will go to the position Stand&#x0A;Position description : Standing position with low power consumption. " x="671" y="90">
                                                                    <bitmap>media/images/positions/Stand.png</bitmap>
                                                                    <script language="4">
                                                                        <content>
                                                                            <![CDATA[#~ This script was generated automatically by drang&drop from Position Library
class MyClass(GeneratedClass):
    def __init__(self):
        try: # disable autoBind
          GeneratedClass.__init__(self, False)
        except TypeError: # if NAOqi < 1.14
          GeneratedClass.__init__( self )

    def onLoad(self):
        self.postureProxy = None
        try:
            self.postureProxy = ALProxy("ALRobotPosture")
        except:
            self.logger.error("Module 'ALRobotPosture' not found.")

    def onUnload(self):
        if(self.postureProxy != None):
            self.postureProxy.stopMove()

    def onInput_onStart(self):
        if(self.postureProxy != None):
            result = self.postureProxy.goToPosture("Stand", 0.8)
            if(result):
                self.success()
            else:
                self.logger.error("Posture Stand is not a part of the standard posture library or robot cannot reach the posture")
                self.failure()
        else:
            self.failure()

    def onInput_onStop(self):
        self.onUnload() #~ it is recommanded to call onUnload of this box in a onStop method,               as the code written in onUnload is used to stop the box as well
        pass]]>
</content>
                                                                    </script>
                                                                    <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                    <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                    <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                                    <Output name="success" type="1" type_size="1" nature="1" inner="0" tooltip="Stimulated if the posture has been reached." id="4" />
                                                                    <Output name="failure" type="1" type_size="1" nature="1" inner="0" tooltip="Stimulated if the posture could not be reached." id="5" />
                                                                    <Resource name="All motors" type="Lock" timeout="0" />
                                                                    <Resource name="Stiffness" type="Lock" timeout="0" />
                                                                </Box>
                                                                <Box name="Say Text" id="1" tooltip="Say the text received on its input." x="385" y="255">
                                                                    <bitmap>media/images/box/interaction/say.png</bitmap>
                                                                    <script language="4">
                                                                        <content>
                                                                            <![CDATA[import time

class MyClass(GeneratedClass):
    def __init__(self):
        try: # disable autoBind
          GeneratedClass.__init__(self, False)
        except TypeError: # if NAOqi < 1.14
          GeneratedClass.__init__( self )
        self.tts = ALProxy('ALTextToSpeech')
        self.ttsStop = ALProxy('ALTextToSpeech', True) #Create another proxy as wait is blocking if audioout is remote

    def onLoad(self):
        self.bIsRunning = False
        self.ids = []
        
    def onUnload(self):
        for id in self.ids:
            try:
                self.ttsStop.stop(id)
            except:
                pass
        while( self.bIsRunning ):
            time.sleep( 0.2 )

    def onInput_onStart(self, p):
        self.bIsRunning = True
        try:
            sentence = "\RSPD="+ str( self.getParameter("Speed (%)") ) + "\ "
            sentence += "\VCT="+ str( self.getParameter("Voice shaping (%)") ) + "\ "
            sentence += str(p)
            sentence +=  "\RST\ "
            id = self.tts.post.say(str(sentence))
            self.ids.append(id)
            self.tts.wait(id, 0)
        finally:
            try:
                self.ids.remove(id)
            except:
                pass
            if( self.ids == [] ):
                self.onStopped() # activate output of the box
                self.bIsRunning = False

    def onInput_onStop(self):
        self.onUnload()]]>
</content>
                                                                    </script>
                                                                    <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                                                                    <Input name="onStart" type="3" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this Input." id="2" />
                                                                    <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this Input." id="3" />
                                                                    <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when Box behavior is finished." id="4" />
                                                                    <Parameter name="Voice shaping (%)" inherits_from_parent="1" content_type="1" value="100" default_value="100" min="50" max="150" tooltip='Used to modify at runtime the voice feature (tone, speed). In a slighty&#x0A;different way than pitch and speed, it gives a kind of &quot;gender or age&#x0A;modification&quot; effect.&#x0A;&#x0A;For instance, a quite good male derivation of female voice can be&#x0A;obtained setting this parameter to 78%.&#x0A;&#x0A;Note: For a better effect, you can compensate this parameter with the&#x0A;speed parameter. For example, if you want to decrease by 20% the voice&#x0A;shaping, you will have to increase by 20% the speed to keep a constant&#x0A;average speed.' id="5" />
                                                                    <Parameter name="Speed (%)" inherits_from_parent="1" content_type="1" value="100" default_value="100" min="50" max="200" tooltip="Changes the speed of the voice.&#x0A;&#x0A;Note: For a better effect, you can compensate this parameter with the voice&#x0A;shaping parameter. For example, if you want to increase by 20% the speed, you&#x0A;will have to decrease by 20% the voice shaping to keep a constant average&#x0A;speed." id="6" />
                                                                </Box>
                                                                <Link inputowner="3" indexofinput="2" outputowner="6" indexofoutput="4" />
                                                                <Link inputowner="3" indexofinput="2" outputowner="2" indexofoutput="4" />
                                                                <Link inputowner="0" indexofinput="4" outputowner="2" indexofoutput="5" />
                                                                <Link inputowner="4" indexofinput="2" outputowner="3" indexofoutput="5" />
                                                                <Link inputowner="2" indexofinput="2" outputowner="0" indexofoutput="2" />
                                                                <Link inputowner="1" indexofinput="2" outputowner="3" indexofoutput="4" />
                                                                <Link inputowner="6" indexofinput="2" outputowner="1" indexofoutput="4" />
                                                                <Link inputowner="0" indexofinput="4" outputowner="4" indexofoutput="4" />
                                                            </Diagram>
                                                        </BehaviorKeyframe>
                                                    </BehaviorLayer>
                                                </Timeline>
                                            </Box>
                                            <Box name="Say" id="11" tooltip="Say some text. Note that you must open the box to enter the text." x="577" y="889">
                                                <bitmap>media/images/box/interaction/say.png</bitmap>
                                                <script language="4">
                                                    <content>
                                                        <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        try: # disable autoBind
          GeneratedClass.__init__(self, False)
        except TypeError: # if NAOqi < 1.14
          GeneratedClass.__init__( self )

    def onLoad(self):
        self.bIsRunning = False

    def onUnload(self):
        self.bIsRunning = False

    def onInput_onStart(self):
        self.bIsRunning = True

    def onInput_onStop(self):
        if( self.bIsRunning ):
            self.onUnload()
            self.onStopped()]]>
</content>
                                                </script>
                                                <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                                                <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this Input." id="2" />
                                                <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this Input." id="3" />
                                                <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished or stopped." id="4" />
                                                <Parameter name="Voice shaping (%)" inherits_from_parent="0" content_type="1" value="100" default_value="100" min="50" max="150" tooltip='Used to modify at runtime the voice feature (tone, speed). In a slighty&#x0A;different way than pitch and speed, it gives a kind of &quot;gender or age&#x0A;modification&quot; effect.&#x0A;&#x0A;For instance, a quite good male derivation of female voice can be&#x0A;obtained setting this parameter to 78%.&#x0A;&#x0A;Note: For a better effect, you can compensate this parameter with the&#x0A;speed parameter. For example, if you want to decrease by 20% the voice&#x0A;shaping, you will have to increase by 20% the speed to keep a constant&#x0A;average speed.&#x0A;&#x0A;!Warning! This feature is not available yet in Japanese, Chinese and Korean.' id="5" />
                                                <Parameter name="Speed (%)" inherits_from_parent="0" content_type="1" value="100" default_value="100" min="50" max="200" tooltip="Changes the speed of the voice.&#x0A;&#x0A;Note: For a better effect, you can compensate this parameter with the voice&#x0A;shaping parameter. For example, if you want to increase by 20% the speed, you&#x0A;will have to decrease by 20% the voice shaping to keep a constant average&#x0A;speed.&#x0A;&#x0A;!Warning! This feature is not available yet in Japanese, Chinese and Korean." id="6" />
                                                <Timeline enable="0">
                                                    <BehaviorLayer name="behavior_layer1">
                                                        <BehaviorKeyframe name="keyframe1" index="1">
                                                            <Diagram>
                                                                <Box name="Say Text" id="2" tooltip="Say the text received on its input." x="422" y="65">
                                                                    <bitmap>media/images/box/interaction/say.png</bitmap>
                                                                    <script language="4">
                                                                        <content>
                                                                            <![CDATA[import time

class MyClass(GeneratedClass):
    def __init__(self):
        try: # disable autoBind
          GeneratedClass.__init__(self, False)
        except TypeError: # if NAOqi < 1.14
          GeneratedClass.__init__( self )
        self.tts = ALProxy('ALTextToSpeech')
        self.ttsStop = ALProxy('ALTextToSpeech', True) #Create another proxy as wait is blocking if audioout is remote

    def onLoad(self):
        self.bIsRunning = False
        self.ids = []
        
    def onUnload(self):
        for id in self.ids:
            try:
                self.ttsStop.stop(id)
            except:
                pass
        while( self.bIsRunning ):
            time.sleep( 0.2 )

    def onInput_onStart(self, p):
        self.bIsRunning = True
        try:
            sentence = "\RSPD="+ str( self.getParameter("Speed (%)") ) + "\ "
            sentence += "\VCT="+ str( self.getParameter("Voice shaping (%)") ) + "\ "
            sentence += str(p)
            sentence +=  "\RST\ "
            id = self.tts.post.say(str(sentence))
            self.ids.append(id)
            self.tts.wait(id, 0)
        finally:
            try:
                self.ids.remove(id)
            except:
                pass
            if( self.ids == [] ):
                self.onStopped() # activate output of the box
                self.bIsRunning = False

    def onInput_onStop(self):
        self.onUnload()]]>
</content>
                                                                    </script>
                                                                    <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                                                                    <Input name="onStart" type="3" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this Input." id="2" />
                                                                    <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this Input." id="3" />
                                                                    <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when Box behavior is finished." id="4" />
                                                                    <Parameter name="Voice shaping (%)" inherits_from_parent="1" content_type="1" value="100" default_value="100" min="50" max="150" tooltip='Used to modify at runtime the voice feature (tone, speed). In a slighty&#x0A;different way than pitch and speed, it gives a kind of &quot;gender or age&#x0A;modification&quot; effect.&#x0A;&#x0A;For instance, a quite good male derivation of female voice can be&#x0A;obtained setting this parameter to 78%.&#x0A;&#x0A;Note: For a better effect, you can compensate this parameter with the&#x0A;speed parameter. For example, if you want to decrease by 20% the voice&#x0A;shaping, you will have to increase by 20% the speed to keep a constant&#x0A;average speed.' id="5" />
                                                                    <Parameter name="Speed (%)" inherits_from_parent="1" content_type="1" value="100" default_value="100" min="50" max="200" tooltip="Changes the speed of the voice.&#x0A;&#x0A;Note: For a better effect, you can compensate this parameter with the voice&#x0A;shaping parameter. For example, if you want to increase by 20% the speed, you&#x0A;will have to decrease by 20% the voice shaping to keep a constant average&#x0A;speed." id="6" />
                                                                </Box>
                                                                <Box name="Localized Text" id="5" tooltip="Send on the output the text associated with the robot&apos;s current voice language.&#x0A;You can display and edit the text associated with any language by&#x0A;selecting the language in the combobox.&#x0A;&#x0A;!!Warning!! The text sent on the output is NOT the displayed one but the one&#x0A;associated with the robot&apos;s current voice language." plugin="localizationbox_plugin" x="114" y="68">
                                                                    <bitmap>media/images/box/interaction/vocabulary.png</bitmap>
                                                                    <script language="4">
                                                                        <content>
                                                                            <![CDATA[class MyClass(GeneratedClass):
	def __init__(self):
		try: # disable autoBind
			GeneratedClass.__init__(self, False)
		except TypeError: # if NAOqi < 1.14
			GeneratedClass.__init__( self )

		self.tts = ALProxy("ALTextToSpeech")
		self.sentences = {
			"Chinese" : " 你好 ",
			"English" : " Let me do some excercises. ",
			"French" : " Bonjour ",
			"German" : " Hallo ",
			"Italian" : " Ciao ",
			"Japanese" : " こんにちは ",
			"Korean" : " 안녕하세요 ",
			"Portuguese" : " Olá ",
			"Brazilian" : " Olá ",
			"Spanish" : " Hola ",
			"Arabic" : " مرحبا ",
			"Polish" : " Cześć ",
			"Czech" : " Ahoj ",
			"Dutch" : " Hallo ",
			"Danish" : " Hej ",
			"Finnish" : " Hei ",
			"Swedish" : " Hallå ",
			"Russian" : " Привет ",
			"Turkish" : " Merhaba "
		}

	def onInput_onStart(self):
		sDefaultLang = self.tts.getLanguage()
		self.onStopped(self.sentences[sDefaultLang])]]>
</content>
                                                                    </script>
                                                                    <pluginContent>
                                                                        <chinese>你好</chinese>
                                                                        <english>Let me do some excercises.</english>
                                                                        <french>Bonjour</french>
                                                                        <german>Hallo</german>
                                                                        <italian>Ciao</italian>
                                                                        <japanese>こんにちは</japanese>
                                                                        <korean>안녕하세요</korean>
                                                                        <portuguese>Olá</portuguese>
                                                                        <brazilian>Olá</brazilian>
                                                                        <spanish>Hola</spanish>
                                                                        <arabic>مرحبا</arabic>
                                                                        <polish>Cześć</polish>
                                                                        <czech>Ahoj</czech>
                                                                        <dutch>Hallo</dutch>
                                                                        <danish>Hej</danish>
                                                                        <finnish>Hei</finnish>
                                                                        <swedish>Hallå</swedish>
                                                                        <russian>Привет</russian>
                                                                        <turkish>Merhaba</turkish>
                                                                        <language>1</language>
                                                                    </pluginContent>
                                                                    <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                    <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Data is sent on the output when this input is stimulated." id="2" />
                                                                    <Output name="onStopped" type="3" type_size="1" nature="1" inner="0" tooltip="Data sent when asked." id="3" />
                                                                </Box>
                                                                <Link inputowner="0" indexofinput="4" outputowner="2" indexofoutput="4" />
                                                                <Link inputowner="5" indexofinput="2" outputowner="0" indexofoutput="2" />
                                                                <Link inputowner="2" indexofinput="2" outputowner="5" indexofoutput="3" />
                                                            </Diagram>
                                                        </BehaviorKeyframe>
                                                    </BehaviorLayer>
                                                </Timeline>
                                            </Box>
                                            <Box name="Face Detection" id="12" tooltip="Detect people&apos;s face and return the number of detected faces.&#x0A;&#x0A;Note: Detect even faces that are not registered in NAO&apos;s faces database (that&#x0A;you can teach him with the Learn Face box)." x="722" y="60">
                                                <bitmap>media/images/box/interaction/face.png</bitmap>
                                                <script language="4">
                                                    <content>
                                                        <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        try: # disable autoBind
          GeneratedClass.__init__(self, False)
        except TypeError: # if NAOqi < 1.14
          GeneratedClass.__init__( self )

    def onLoad(self):
        self.bIsRunning = False

    def onUnload(self):
        self.bIsRunning = False

    def onInput_onStart(self):
        self.bIsRunning = True

    def onInput_onStop(self):
        if( self.bIsRunning ):
            self.onUnload()
            self.onStopped()]]>
</content>
                                                </script>
                                                <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                <Input name="FaceDetected" type="0" type_size="1" nature="4" stm_value_name="FaceDetected" inner="1" tooltip="Connected to ALMemory. Will be stimulated every time the value subscribed to changes, respecting the refresh period." id="4" />
                                                <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is stopped." id="5" />
                                                <Output name="numberOfFaces" type="2" type_size="1" nature="2" inner="0" tooltip="Number of detected faces. This output is stimulated each time the number of&#x0A;detected faces change." id="6" />
                                                <Output name="onNoFace" type="1" type_size="1" nature="2" inner="0" tooltip="No face is detected." id="7" />
                                                <Timeline enable="0">
                                                    <BehaviorLayer name="behavior_layer1">
                                                        <BehaviorKeyframe name="keyframe1" index="1">
                                                            <Diagram>
                                                                <Box name="Count Det. Faces" id="3" tooltip="Process face detection extractor data (FaceDetected) to count the number&#x0A;of detected faces and notify when there is no face detected.&#x0A;&#x0A;An output (either one or the other) is stimulated each time the number of&#x0A;detected faces change." x="174" y="71">
                                                                    <bitmap>media/images/box/interaction/reco_face.png</bitmap>
                                                                    <script language="4">
                                                                        <content>
                                                                            <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        try: # disable autoBind
          GeneratedClass.__init__(self, False)
        except TypeError: # if NAOqi < 1.14
          GeneratedClass.__init__( self )

    def onLoad(self):
        self.nFacesDetected = -1

    def onUnload(self):
        #puts code for box cleanup here
        pass

    def onInput_onStart(self, p):
        if(len(p) > 0):
            if(self.nFacesDetected != len(p[1]) -1): # an additional array has been placed at the end for time
                self.nFacesDetected = len(p[1]) -1  # filtered info and has to be substracted when counting faces
                if(self.nFacesDetected != 0):
                    self.onFaceDetected( self.nFacesDetected )
                else:
                    self.onNoFace()
        else:
            if(self.nFacesDetected != 0):
                self.nFacesDetected = 0
                self.onNoFace()

    def onInput_onStop(self):
        pass]]>
</content>
                                                                    </script>
                                                                    <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                    <Input name="onStart" type="0" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input. It must be the&#x0A;FaceDetected extractor data." id="2" />
                                                                    <Output name="onFaceDetected" type="2" type_size="1" nature="1" inner="0" tooltip="Number of detected faces." id="3" />
                                                                    <Output name="onNoFace" type="1" type_size="1" nature="1" inner="0" tooltip="No face is detected." id="4" />
                                                                </Box>
                                                                <Link inputowner="3" indexofinput="2" outputowner="0" indexofoutput="4" />
                                                                <Link inputowner="0" indexofinput="6" outputowner="3" indexofoutput="3" />
                                                                <Link inputowner="0" indexofinput="7" outputowner="3" indexofoutput="4" />
                                                            </Diagram>
                                                        </BehaviorKeyframe>
                                                    </BehaviorLayer>
                                                </Timeline>
                                            </Box>
                                            <Box name="SayHowAreYou" id="18" tooltip="Say some text. Note that you must open the box to enter the text." x="908" y="59">
                                                <bitmap>media/images/box/interaction/say.png</bitmap>
                                                <script language="4">
                                                    <content>
                                                        <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        try: # disable autoBind
          GeneratedClass.__init__(self, False)
        except TypeError: # if NAOqi < 1.14
          GeneratedClass.__init__( self )

    def onLoad(self):
        self.bIsRunning = False

    def onUnload(self):
        self.bIsRunning = False

    def onInput_onStart(self):
        self.bIsRunning = True

    def onInput_onStop(self):
        if( self.bIsRunning ):
            self.onUnload()
            self.onStopped()]]>
</content>
                                                </script>
                                                <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                                                <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this Input." id="2" />
                                                <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this Input." id="3" />
                                                <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished or stopped." id="4" />
                                                <Parameter name="Voice shaping (%)" inherits_from_parent="0" content_type="1" value="100" default_value="100" min="50" max="150" tooltip='Used to modify at runtime the voice feature (tone, speed). In a slighty&#x0A;different way than pitch and speed, it gives a kind of &quot;gender or age&#x0A;modification&quot; effect.&#x0A;&#x0A;For instance, a quite good male derivation of female voice can be&#x0A;obtained setting this parameter to 78%.&#x0A;&#x0A;Note: For a better effect, you can compensate this parameter with the&#x0A;speed parameter. For example, if you want to decrease by 20% the voice&#x0A;shaping, you will have to increase by 20% the speed to keep a constant&#x0A;average speed.&#x0A;&#x0A;!Warning! This feature is not available yet in Japanese, Chinese and Korean.' id="5" />
                                                <Parameter name="Speed (%)" inherits_from_parent="0" content_type="1" value="100" default_value="100" min="50" max="200" tooltip="Changes the speed of the voice.&#x0A;&#x0A;Note: For a better effect, you can compensate this parameter with the voice&#x0A;shaping parameter. For example, if you want to increase by 20% the speed, you&#x0A;will have to decrease by 20% the voice shaping to keep a constant average&#x0A;speed.&#x0A;&#x0A;!Warning! This feature is not available yet in Japanese, Chinese and Korean." id="6" />
                                                <Timeline enable="0">
                                                    <BehaviorLayer name="behavior_layer1">
                                                        <BehaviorKeyframe name="keyframe1" index="1">
                                                            <Diagram>
                                                                <Box name="Say Text" id="2" tooltip="Say the text received on its input." x="422" y="65">
                                                                    <bitmap>media/images/box/interaction/say.png</bitmap>
                                                                    <script language="4">
                                                                        <content>
                                                                            <![CDATA[import time

class MyClass(GeneratedClass):
    def __init__(self):
        try: # disable autoBind
          GeneratedClass.__init__(self, False)
        except TypeError: # if NAOqi < 1.14
          GeneratedClass.__init__( self )
        self.tts = ALProxy('ALTextToSpeech')
        self.ttsStop = ALProxy('ALTextToSpeech', True) #Create another proxy as wait is blocking if audioout is remote

    def onLoad(self):
        self.bIsRunning = False
        self.ids = []
        
    def onUnload(self):
        for id in self.ids:
            try:
                self.ttsStop.stop(id)
            except:
                pass
        while( self.bIsRunning ):
            time.sleep( 0.2 )

    def onInput_onStart(self, p):
        self.bIsRunning = True
        try:
            sentence = "\RSPD="+ str( self.getParameter("Speed (%)") ) + "\ "
            sentence += "\VCT="+ str( self.getParameter("Voice shaping (%)") ) + "\ "
            sentence += str(p)
            sentence +=  "\RST\ "
            id = self.tts.post.say(str(sentence))
            self.ids.append(id)
            self.tts.wait(id, 0)
        finally:
            try:
                self.ids.remove(id)
            except:
                pass
            if( self.ids == [] ):
                self.onStopped() # activate output of the box
                self.bIsRunning = False

    def onInput_onStop(self):
        self.onUnload()]]>
</content>
                                                                    </script>
                                                                    <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                                                                    <Input name="onStart" type="3" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this Input." id="2" />
                                                                    <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this Input." id="3" />
                                                                    <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when Box behavior is finished." id="4" />
                                                                    <Parameter name="Voice shaping (%)" inherits_from_parent="1" content_type="1" value="100" default_value="100" min="50" max="150" tooltip='Used to modify at runtime the voice feature (tone, speed). In a slighty&#x0A;different way than pitch and speed, it gives a kind of &quot;gender or age&#x0A;modification&quot; effect.&#x0A;&#x0A;For instance, a quite good male derivation of female voice can be&#x0A;obtained setting this parameter to 78%.&#x0A;&#x0A;Note: For a better effect, you can compensate this parameter with the&#x0A;speed parameter. For example, if you want to decrease by 20% the voice&#x0A;shaping, you will have to increase by 20% the speed to keep a constant&#x0A;average speed.' id="5" />
                                                                    <Parameter name="Speed (%)" inherits_from_parent="1" content_type="1" value="100" default_value="100" min="50" max="200" tooltip="Changes the speed of the voice.&#x0A;&#x0A;Note: For a better effect, you can compensate this parameter with the voice&#x0A;shaping parameter. For example, if you want to increase by 20% the speed, you&#x0A;will have to decrease by 20% the voice shaping to keep a constant average&#x0A;speed." id="6" />
                                                                </Box>
                                                                <Box name="Localized Text" id="5" tooltip="Send on the output the text associated with the robot&apos;s current voice language.&#x0A;You can display and edit the text associated with any language by&#x0A;selecting the language in the combobox.&#x0A;&#x0A;!!Warning!! The text sent on the output is NOT the displayed one but the one&#x0A;associated with the robot&apos;s current voice language." plugin="localizationbox_plugin" x="114" y="68">
                                                                    <bitmap>media/images/box/interaction/vocabulary.png</bitmap>
                                                                    <script language="4">
                                                                        <content>
                                                                            <![CDATA[class MyClass(GeneratedClass):
	def __init__(self):
		try: # disable autoBind
			GeneratedClass.__init__(self, False)
		except TypeError: # if NAOqi < 1.14
			GeneratedClass.__init__( self )

		self.tts = ALProxy("ALTextToSpeech")
		self.sentences = {
			"Chinese" : " 你好 ",
			"English" : " How are you? ",
			"French" : " Bonjour ",
			"German" : " Hallo ",
			"Italian" : " Ciao ",
			"Japanese" : " こんにちは ",
			"Korean" : " 안녕하세요 ",
			"Portuguese" : " Olá ",
			"Brazilian" : " Olá ",
			"Spanish" : " Hola ",
			"Arabic" : " مرحبا ",
			"Polish" : " Cześć ",
			"Czech" : " Ahoj ",
			"Dutch" : " Hallo ",
			"Danish" : " Hej ",
			"Finnish" : " Hei ",
			"Swedish" : " Hallå ",
			"Russian" : " Привет ",
			"Turkish" : " Merhaba "
		}

	def onInput_onStart(self):
		sDefaultLang = self.tts.getLanguage()
		self.onStopped(self.sentences[sDefaultLang])]]>
</content>
                                                                    </script>
                                                                    <pluginContent>
                                                                        <chinese>你好</chinese>
                                                                        <english>How are you?</english>
                                                                        <french>Bonjour</french>
                                                                        <german>Hallo</german>
                                                                        <italian>Ciao</italian>
                                                                        <japanese>こんにちは</japanese>
                                                                        <korean>안녕하세요</korean>
                                                                        <portuguese>Olá</portuguese>
                                                                        <brazilian>Olá</brazilian>
                                                                        <spanish>Hola</spanish>
                                                                        <arabic>مرحبا</arabic>
                                                                        <polish>Cześć</polish>
                                                                        <czech>Ahoj</czech>
                                                                        <dutch>Hallo</dutch>
                                                                        <danish>Hej</danish>
                                                                        <finnish>Hei</finnish>
                                                                        <swedish>Hallå</swedish>
                                                                        <russian>Привет</russian>
                                                                        <turkish>Merhaba</turkish>
                                                                        <language>1</language>
                                                                    </pluginContent>
                                                                    <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                    <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Data is sent on the output when this input is stimulated." id="2" />
                                                                    <Output name="onStopped" type="3" type_size="1" nature="1" inner="0" tooltip="Data sent when asked." id="3" />
                                                                </Box>
                                                                <Link inputowner="0" indexofinput="4" outputowner="2" indexofoutput="4" />
                                                                <Link inputowner="5" indexofinput="2" outputowner="0" indexofoutput="2" />
                                                                <Link inputowner="2" indexofinput="2" outputowner="5" indexofoutput="3" />
                                                            </Diagram>
                                                        </BehaviorKeyframe>
                                                    </BehaviorLayer>
                                                </Timeline>
                                            </Box>
                                            <Box name="Say" id="10" tooltip="Say some text. Note that you must open the box to enter the text." x="943" y="886">
                                                <bitmap>media/images/box/interaction/say.png</bitmap>
                                                <script language="4">
                                                    <content>
                                                        <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        try: # disable autoBind
          GeneratedClass.__init__(self, False)
        except TypeError: # if NAOqi < 1.14
          GeneratedClass.__init__( self )

    def onLoad(self):
        self.bIsRunning = False

    def onUnload(self):
        self.bIsRunning = False

    def onInput_onStart(self):
        self.bIsRunning = True

    def onInput_onStop(self):
        if( self.bIsRunning ):
            self.onUnload()
            self.onStopped()]]>
</content>
                                                </script>
                                                <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                                                <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this Input." id="2" />
                                                <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this Input." id="3" />
                                                <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished or stopped." id="4" />
                                                <Parameter name="Voice shaping (%)" inherits_from_parent="0" content_type="1" value="100" default_value="100" min="50" max="150" tooltip='Used to modify at runtime the voice feature (tone, speed). In a slighty&#x0A;different way than pitch and speed, it gives a kind of &quot;gender or age&#x0A;modification&quot; effect.&#x0A;&#x0A;For instance, a quite good male derivation of female voice can be&#x0A;obtained setting this parameter to 78%.&#x0A;&#x0A;Note: For a better effect, you can compensate this parameter with the&#x0A;speed parameter. For example, if you want to decrease by 20% the voice&#x0A;shaping, you will have to increase by 20% the speed to keep a constant&#x0A;average speed.&#x0A;&#x0A;!Warning! This feature is not available yet in Japanese, Chinese and Korean.' id="5" />
                                                <Parameter name="Speed (%)" inherits_from_parent="0" content_type="1" value="100" default_value="100" min="50" max="200" tooltip="Changes the speed of the voice.&#x0A;&#x0A;Note: For a better effect, you can compensate this parameter with the voice&#x0A;shaping parameter. For example, if you want to increase by 20% the speed, you&#x0A;will have to decrease by 20% the voice shaping to keep a constant average&#x0A;speed.&#x0A;&#x0A;!Warning! This feature is not available yet in Japanese, Chinese and Korean." id="6" />
                                                <Timeline enable="0">
                                                    <BehaviorLayer name="behavior_layer1">
                                                        <BehaviorKeyframe name="keyframe1" index="1">
                                                            <Diagram>
                                                                <Box name="Say Text" id="2" tooltip="Say the text received on its input." x="422" y="65">
                                                                    <bitmap>media/images/box/interaction/say.png</bitmap>
                                                                    <script language="4">
                                                                        <content>
                                                                            <![CDATA[import time

class MyClass(GeneratedClass):
    def __init__(self):
        try: # disable autoBind
          GeneratedClass.__init__(self, False)
        except TypeError: # if NAOqi < 1.14
          GeneratedClass.__init__( self )
        self.tts = ALProxy('ALTextToSpeech')
        self.ttsStop = ALProxy('ALTextToSpeech', True) #Create another proxy as wait is blocking if audioout is remote

    def onLoad(self):
        self.bIsRunning = False
        self.ids = []
        
    def onUnload(self):
        for id in self.ids:
            try:
                self.ttsStop.stop(id)
            except:
                pass
        while( self.bIsRunning ):
            time.sleep( 0.2 )

    def onInput_onStart(self, p):
        self.bIsRunning = True
        try:
            sentence = "\RSPD="+ str( self.getParameter("Speed (%)") ) + "\ "
            sentence += "\VCT="+ str( self.getParameter("Voice shaping (%)") ) + "\ "
            sentence += str(p)
            sentence +=  "\RST\ "
            id = self.tts.post.say(str(sentence))
            self.ids.append(id)
            self.tts.wait(id, 0)
        finally:
            try:
                self.ids.remove(id)
            except:
                pass
            if( self.ids == [] ):
                self.onStopped() # activate output of the box
                self.bIsRunning = False

    def onInput_onStop(self):
        self.onUnload()]]>
</content>
                                                                    </script>
                                                                    <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                                                                    <Input name="onStart" type="3" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this Input." id="2" />
                                                                    <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this Input." id="3" />
                                                                    <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when Box behavior is finished." id="4" />
                                                                    <Parameter name="Voice shaping (%)" inherits_from_parent="1" content_type="1" value="100" default_value="100" min="50" max="150" tooltip='Used to modify at runtime the voice feature (tone, speed). In a slighty&#x0A;different way than pitch and speed, it gives a kind of &quot;gender or age&#x0A;modification&quot; effect.&#x0A;&#x0A;For instance, a quite good male derivation of female voice can be&#x0A;obtained setting this parameter to 78%.&#x0A;&#x0A;Note: For a better effect, you can compensate this parameter with the&#x0A;speed parameter. For example, if you want to decrease by 20% the voice&#x0A;shaping, you will have to increase by 20% the speed to keep a constant&#x0A;average speed.' id="5" />
                                                                    <Parameter name="Speed (%)" inherits_from_parent="1" content_type="1" value="100" default_value="100" min="50" max="200" tooltip="Changes the speed of the voice.&#x0A;&#x0A;Note: For a better effect, you can compensate this parameter with the voice&#x0A;shaping parameter. For example, if you want to increase by 20% the speed, you&#x0A;will have to decrease by 20% the voice shaping to keep a constant average&#x0A;speed." id="6" />
                                                                </Box>
                                                                <Box name="Localized Text" id="5" tooltip="Send on the output the text associated with the robot&apos;s current voice language.&#x0A;You can display and edit the text associated with any language by&#x0A;selecting the language in the combobox.&#x0A;&#x0A;!!Warning!! The text sent on the output is NOT the displayed one but the one&#x0A;associated with the robot&apos;s current voice language." plugin="localizationbox_plugin" x="114" y="68">
                                                                    <bitmap>media/images/box/interaction/vocabulary.png</bitmap>
                                                                    <script language="4">
                                                                        <content>
                                                                            <![CDATA[class MyClass(GeneratedClass):
	def __init__(self):
		try: # disable autoBind
			GeneratedClass.__init__(self, False)
		except TypeError: # if NAOqi < 1.14
			GeneratedClass.__init__( self )

		self.tts = ALProxy("ALTextToSpeech")
		self.sentences = {
			"Chinese" : " 你好 ",
			"English" : " I feel much better now. ",
			"French" : " Bonjour ",
			"German" : " Hallo ",
			"Italian" : " Ciao ",
			"Japanese" : " こんにちは ",
			"Korean" : " 안녕하세요 ",
			"Portuguese" : " Olá ",
			"Brazilian" : " Olá ",
			"Spanish" : " Hola ",
			"Arabic" : " مرحبا ",
			"Polish" : " Cześć ",
			"Czech" : " Ahoj ",
			"Dutch" : " Hallo ",
			"Danish" : " Hej ",
			"Finnish" : " Hei ",
			"Swedish" : " Hallå ",
			"Russian" : " Привет ",
			"Turkish" : " Merhaba "
		}

	def onInput_onStart(self):
		sDefaultLang = self.tts.getLanguage()
		self.onStopped(self.sentences[sDefaultLang])]]>
</content>
                                                                    </script>
                                                                    <pluginContent>
                                                                        <chinese>你好</chinese>
                                                                        <english>I feel much better now.</english>
                                                                        <french>Bonjour</french>
                                                                        <german>Hallo</german>
                                                                        <italian>Ciao</italian>
                                                                        <japanese>こんにちは</japanese>
                                                                        <korean>안녕하세요</korean>
                                                                        <portuguese>Olá</portuguese>
                                                                        <brazilian>Olá</brazilian>
                                                                        <spanish>Hola</spanish>
                                                                        <arabic>مرحبا</arabic>
                                                                        <polish>Cześć</polish>
                                                                        <czech>Ahoj</czech>
                                                                        <dutch>Hallo</dutch>
                                                                        <danish>Hej</danish>
                                                                        <finnish>Hei</finnish>
                                                                        <swedish>Hallå</swedish>
                                                                        <russian>Привет</russian>
                                                                        <turkish>Merhaba</turkish>
                                                                        <language>1</language>
                                                                    </pluginContent>
                                                                    <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                    <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Data is sent on the output when this input is stimulated." id="2" />
                                                                    <Output name="onStopped" type="3" type_size="1" nature="1" inner="0" tooltip="Data sent when asked." id="3" />
                                                                </Box>
                                                                <Link inputowner="0" indexofinput="4" outputowner="2" indexofoutput="4" />
                                                                <Link inputowner="5" indexofinput="2" outputowner="0" indexofoutput="2" />
                                                                <Link inputowner="2" indexofinput="2" outputowner="5" indexofoutput="3" />
                                                            </Diagram>
                                                        </BehaviorKeyframe>
                                                    </BehaviorLayer>
                                                </Timeline>
                                            </Box>
                                            <Box name="Say" id="19" tooltip="Say some text. Note that you must open the box to enter the text." x="953" y="651">
                                                <bitmap>media/images/box/interaction/say.png</bitmap>
                                                <script language="4">
                                                    <content>
                                                        <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        try: # disable autoBind
          GeneratedClass.__init__(self, False)
        except TypeError: # if NAOqi < 1.14
          GeneratedClass.__init__( self )

    def onLoad(self):
        self.bIsRunning = False

    def onUnload(self):
        self.bIsRunning = False

    def onInput_onStart(self):
        self.bIsRunning = True

    def onInput_onStop(self):
        if( self.bIsRunning ):
            self.onUnload()
            self.onStopped()]]>
</content>
                                                </script>
                                                <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                                                <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this Input." id="2" />
                                                <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this Input." id="3" />
                                                <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished or stopped." id="4" />
                                                <Parameter name="Voice shaping (%)" inherits_from_parent="0" content_type="1" value="100" default_value="100" min="50" max="150" tooltip='Used to modify at runtime the voice feature (tone, speed). In a slighty&#x0A;different way than pitch and speed, it gives a kind of &quot;gender or age&#x0A;modification&quot; effect.&#x0A;&#x0A;For instance, a quite good male derivation of female voice can be&#x0A;obtained setting this parameter to 78%.&#x0A;&#x0A;Note: For a better effect, you can compensate this parameter with the&#x0A;speed parameter. For example, if you want to decrease by 20% the voice&#x0A;shaping, you will have to increase by 20% the speed to keep a constant&#x0A;average speed.&#x0A;&#x0A;!Warning! This feature is not available yet in Japanese, Chinese and Korean.' id="5" />
                                                <Parameter name="Speed (%)" inherits_from_parent="0" content_type="1" value="100" default_value="100" min="50" max="200" tooltip="Changes the speed of the voice.&#x0A;&#x0A;Note: For a better effect, you can compensate this parameter with the voice&#x0A;shaping parameter. For example, if you want to increase by 20% the speed, you&#x0A;will have to decrease by 20% the voice shaping to keep a constant average&#x0A;speed.&#x0A;&#x0A;!Warning! This feature is not available yet in Japanese, Chinese and Korean." id="6" />
                                                <Timeline enable="0">
                                                    <BehaviorLayer name="behavior_layer1">
                                                        <BehaviorKeyframe name="keyframe1" index="1">
                                                            <Diagram>
                                                                <Box name="Say Text" id="2" tooltip="Say the text received on its input." x="422" y="65">
                                                                    <bitmap>media/images/box/interaction/say.png</bitmap>
                                                                    <script language="4">
                                                                        <content>
                                                                            <![CDATA[import time

class MyClass(GeneratedClass):
    def __init__(self):
        try: # disable autoBind
          GeneratedClass.__init__(self, False)
        except TypeError: # if NAOqi < 1.14
          GeneratedClass.__init__( self )
        self.tts = ALProxy('ALTextToSpeech')
        self.ttsStop = ALProxy('ALTextToSpeech', True) #Create another proxy as wait is blocking if audioout is remote

    def onLoad(self):
        self.bIsRunning = False
        self.ids = []
        
    def onUnload(self):
        for id in self.ids:
            try:
                self.ttsStop.stop(id)
            except:
                pass
        while( self.bIsRunning ):
            time.sleep( 0.2 )

    def onInput_onStart(self, p):
        self.bIsRunning = True
        try:
            sentence = "\RSPD="+ str( self.getParameter("Speed (%)") ) + "\ "
            sentence += "\VCT="+ str( self.getParameter("Voice shaping (%)") ) + "\ "
            sentence += str(p)
            sentence +=  "\RST\ "
            id = self.tts.post.say(str(sentence))
            self.ids.append(id)
            self.tts.wait(id, 0)
        finally:
            try:
                self.ids.remove(id)
            except:
                pass
            if( self.ids == [] ):
                self.onStopped() # activate output of the box
                self.bIsRunning = False

    def onInput_onStop(self):
        self.onUnload()]]>
</content>
                                                                    </script>
                                                                    <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                                                                    <Input name="onStart" type="3" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this Input." id="2" />
                                                                    <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this Input." id="3" />
                                                                    <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when Box behavior is finished." id="4" />
                                                                    <Parameter name="Voice shaping (%)" inherits_from_parent="1" content_type="1" value="100" default_value="100" min="50" max="150" tooltip='Used to modify at runtime the voice feature (tone, speed). In a slighty&#x0A;different way than pitch and speed, it gives a kind of &quot;gender or age&#x0A;modification&quot; effect.&#x0A;&#x0A;For instance, a quite good male derivation of female voice can be&#x0A;obtained setting this parameter to 78%.&#x0A;&#x0A;Note: For a better effect, you can compensate this parameter with the&#x0A;speed parameter. For example, if you want to decrease by 20% the voice&#x0A;shaping, you will have to increase by 20% the speed to keep a constant&#x0A;average speed.' id="5" />
                                                                    <Parameter name="Speed (%)" inherits_from_parent="1" content_type="1" value="100" default_value="100" min="50" max="200" tooltip="Changes the speed of the voice.&#x0A;&#x0A;Note: For a better effect, you can compensate this parameter with the voice&#x0A;shaping parameter. For example, if you want to increase by 20% the speed, you&#x0A;will have to decrease by 20% the voice shaping to keep a constant average&#x0A;speed." id="6" />
                                                                </Box>
                                                                <Box name="Localized Text" id="5" tooltip="Send on the output the text associated with the robot&apos;s current voice language.&#x0A;You can display and edit the text associated with any language by&#x0A;selecting the language in the combobox.&#x0A;&#x0A;!!Warning!! The text sent on the output is NOT the displayed one but the one&#x0A;associated with the robot&apos;s current voice language." plugin="localizationbox_plugin" x="114" y="68">
                                                                    <bitmap>media/images/box/interaction/vocabulary.png</bitmap>
                                                                    <script language="4">
                                                                        <content>
                                                                            <![CDATA[class MyClass(GeneratedClass):
	def __init__(self):
		try: # disable autoBind
			GeneratedClass.__init__(self, False)
		except TypeError: # if NAOqi < 1.14
			GeneratedClass.__init__( self )

		self.tts = ALProxy("ALTextToSpeech")
		self.sentences = {
			"Chinese" : " 你好 ",
			"English" : " That was great! ",
			"French" : " Bonjour ",
			"German" : " Hallo ",
			"Italian" : " Ciao ",
			"Japanese" : " こんにちは ",
			"Korean" : " 안녕하세요 ",
			"Portuguese" : " Olá ",
			"Brazilian" : " Olá ",
			"Spanish" : " Hola ",
			"Arabic" : " مرحبا ",
			"Polish" : " Cześć ",
			"Czech" : " Ahoj ",
			"Dutch" : " Hallo ",
			"Danish" : " Hej ",
			"Finnish" : " Hei ",
			"Swedish" : " Hallå ",
			"Russian" : " Привет ",
			"Turkish" : " Merhaba "
		}

	def onInput_onStart(self):
		sDefaultLang = self.tts.getLanguage()
		self.onStopped(self.sentences[sDefaultLang])]]>
</content>
                                                                    </script>
                                                                    <pluginContent>
                                                                        <chinese>你好</chinese>
                                                                        <english>That was great!</english>
                                                                        <french>Bonjour</french>
                                                                        <german>Hallo</german>
                                                                        <italian>Ciao</italian>
                                                                        <japanese>こんにちは</japanese>
                                                                        <korean>안녕하세요</korean>
                                                                        <portuguese>Olá</portuguese>
                                                                        <brazilian>Olá</brazilian>
                                                                        <spanish>Hola</spanish>
                                                                        <arabic>مرحبا</arabic>
                                                                        <polish>Cześć</polish>
                                                                        <czech>Ahoj</czech>
                                                                        <dutch>Hallo</dutch>
                                                                        <danish>Hej</danish>
                                                                        <finnish>Hei</finnish>
                                                                        <swedish>Hallå</swedish>
                                                                        <russian>Привет</russian>
                                                                        <turkish>Merhaba</turkish>
                                                                        <language>1</language>
                                                                    </pluginContent>
                                                                    <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                    <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Data is sent on the output when this input is stimulated." id="2" />
                                                                    <Output name="onStopped" type="3" type_size="1" nature="1" inner="0" tooltip="Data sent when asked." id="3" />
                                                                </Box>
                                                                <Link inputowner="0" indexofinput="4" outputowner="2" indexofoutput="4" />
                                                                <Link inputowner="5" indexofinput="2" outputowner="0" indexofoutput="2" />
                                                                <Link inputowner="2" indexofinput="2" outputowner="5" indexofoutput="3" />
                                                            </Diagram>
                                                        </BehaviorKeyframe>
                                                    </BehaviorLayer>
                                                </Timeline>
                                            </Box>
                                            <Box name="Timer" id="20" tooltip="Send a signal with a predefined period." x="723" y="167">
                                                <bitmap>media/images/box/wait.png</bitmap>
                                                <script language="4">
                                                    <content>
                                                        <![CDATA[import threading

class MyClass(GeneratedClass):
    def __init__(self):
        try: # disable autoBind
          GeneratedClass.__init__(self, False)
        except TypeError: # if NAOqi < 1.14
          GeneratedClass.__init__( self )

    def onLoad(self):
        self.tb = False

    def onUnload(self):
        if( self.tb ):
            self.tb.cancel()
            self.tb = False

    def startTimer(self, period = 1):
        if( self.tb ):
            self.tb.cancel()
        self.tb = threading.Timer(period, self.startTimer, [period])
        self.tb.start()
        self.timerOutput()

    def onInput_onStart(self):
        self.startTimer( self.getParameter("Period (s)") )

    def onInput_onStop(self):
        bRunning = self.tb
        self.onUnload()
        if( bRunning ):
            self.onStopped()]]>
</content>
                                                </script>
                                                <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Start the timer using the configured period value." id="2" />
                                                <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Stop the timer." id="3" />
                                                <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is stopped." id="4" />
                                                <Output name="timerOutput" type="1" type_size="1" nature="2" inner="0" tooltip="Send a bang periodically." id="5" />
                                                <Parameter name="Period (s)" inherits_from_parent="0" content_type="2" value="60" default_value="1" min="0" max="5000" tooltip="Defines the period of the timer box (in seconds).&#x0A;&#x0A;For example, if this parameter is equal to 1s, the timerOutput will be stimulated&#x0A;every second until the onStop input is stimulated." id="6" />
                                            </Box>
                                            <Box name="SayHello" id="21" tooltip="Say some text. Note that you must open the box to enter the text." x="911" y="168">
                                                <bitmap>media/images/box/interaction/say.png</bitmap>
                                                <script language="4">
                                                    <content>
                                                        <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        try: # disable autoBind
          GeneratedClass.__init__(self, False)
        except TypeError: # if NAOqi < 1.14
          GeneratedClass.__init__( self )

    def onLoad(self):
        self.bIsRunning = False

    def onUnload(self):
        self.bIsRunning = False

    def onInput_onStart(self):
        self.bIsRunning = True

    def onInput_onStop(self):
        if( self.bIsRunning ):
            self.onUnload()
            self.onStopped()]]>
</content>
                                                </script>
                                                <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                                                <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this Input." id="2" />
                                                <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this Input." id="3" />
                                                <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished or stopped." id="4" />
                                                <Parameter name="Voice shaping (%)" inherits_from_parent="0" content_type="1" value="100" default_value="100" min="50" max="150" tooltip='Used to modify at runtime the voice feature (tone, speed). In a slighty&#x0A;different way than pitch and speed, it gives a kind of &quot;gender or age&#x0A;modification&quot; effect.&#x0A;&#x0A;For instance, a quite good male derivation of female voice can be&#x0A;obtained setting this parameter to 78%.&#x0A;&#x0A;Note: For a better effect, you can compensate this parameter with the&#x0A;speed parameter. For example, if you want to decrease by 20% the voice&#x0A;shaping, you will have to increase by 20% the speed to keep a constant&#x0A;average speed.&#x0A;&#x0A;!Warning! This feature is not available yet in Japanese, Chinese and Korean.' id="5" />
                                                <Parameter name="Speed (%)" inherits_from_parent="0" content_type="1" value="100" default_value="100" min="50" max="200" tooltip="Changes the speed of the voice.&#x0A;&#x0A;Note: For a better effect, you can compensate this parameter with the voice&#x0A;shaping parameter. For example, if you want to increase by 20% the speed, you&#x0A;will have to decrease by 20% the voice shaping to keep a constant average&#x0A;speed.&#x0A;&#x0A;!Warning! This feature is not available yet in Japanese, Chinese and Korean." id="6" />
                                                <Timeline enable="0">
                                                    <BehaviorLayer name="behavior_layer1">
                                                        <BehaviorKeyframe name="keyframe1" index="1">
                                                            <Diagram>
                                                                <Box name="Say Text" id="2" tooltip="Say the text received on its input." x="422" y="65">
                                                                    <bitmap>media/images/box/interaction/say.png</bitmap>
                                                                    <script language="4">
                                                                        <content>
                                                                            <![CDATA[import time

class MyClass(GeneratedClass):
    def __init__(self):
        try: # disable autoBind
          GeneratedClass.__init__(self, False)
        except TypeError: # if NAOqi < 1.14
          GeneratedClass.__init__( self )
        self.tts = ALProxy('ALTextToSpeech')
        self.ttsStop = ALProxy('ALTextToSpeech', True) #Create another proxy as wait is blocking if audioout is remote

    def onLoad(self):
        self.bIsRunning = False
        self.ids = []
        
    def onUnload(self):
        for id in self.ids:
            try:
                self.ttsStop.stop(id)
            except:
                pass
        while( self.bIsRunning ):
            time.sleep( 0.2 )

    def onInput_onStart(self, p):
        self.bIsRunning = True
        try:
            sentence = "\RSPD="+ str( self.getParameter("Speed (%)") ) + "\ "
            sentence += "\VCT="+ str( self.getParameter("Voice shaping (%)") ) + "\ "
            sentence += str(p)
            sentence +=  "\RST\ "
            id = self.tts.post.say(str(sentence))
            self.ids.append(id)
            self.tts.wait(id, 0)
        finally:
            try:
                self.ids.remove(id)
            except:
                pass
            if( self.ids == [] ):
                self.onStopped() # activate output of the box
                self.bIsRunning = False

    def onInput_onStop(self):
        self.onUnload()]]>
</content>
                                                                    </script>
                                                                    <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                                                                    <Input name="onStart" type="3" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this Input." id="2" />
                                                                    <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this Input." id="3" />
                                                                    <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when Box behavior is finished." id="4" />
                                                                    <Parameter name="Voice shaping (%)" inherits_from_parent="1" content_type="1" value="100" default_value="100" min="50" max="150" tooltip='Used to modify at runtime the voice feature (tone, speed). In a slighty&#x0A;different way than pitch and speed, it gives a kind of &quot;gender or age&#x0A;modification&quot; effect.&#x0A;&#x0A;For instance, a quite good male derivation of female voice can be&#x0A;obtained setting this parameter to 78%.&#x0A;&#x0A;Note: For a better effect, you can compensate this parameter with the&#x0A;speed parameter. For example, if you want to decrease by 20% the voice&#x0A;shaping, you will have to increase by 20% the speed to keep a constant&#x0A;average speed.' id="5" />
                                                                    <Parameter name="Speed (%)" inherits_from_parent="1" content_type="1" value="100" default_value="100" min="50" max="200" tooltip="Changes the speed of the voice.&#x0A;&#x0A;Note: For a better effect, you can compensate this parameter with the voice&#x0A;shaping parameter. For example, if you want to increase by 20% the speed, you&#x0A;will have to decrease by 20% the voice shaping to keep a constant average&#x0A;speed." id="6" />
                                                                </Box>
                                                                <Box name="Localized Text" id="5" tooltip="Send on the output the text associated with the robot&apos;s current voice language.&#x0A;You can display and edit the text associated with any language by&#x0A;selecting the language in the combobox.&#x0A;&#x0A;!!Warning!! The text sent on the output is NOT the displayed one but the one&#x0A;associated with the robot&apos;s current voice language." plugin="localizationbox_plugin" x="114" y="68">
                                                                    <bitmap>media/images/box/interaction/vocabulary.png</bitmap>
                                                                    <script language="4">
                                                                        <content>
                                                                            <![CDATA[class MyClass(GeneratedClass):
	def __init__(self):
		try: # disable autoBind
			GeneratedClass.__init__(self, False)
		except TypeError: # if NAOqi < 1.14
			GeneratedClass.__init__( self )

		self.tts = ALProxy("ALTextToSpeech")
		self.sentences = {
			"Chinese" : " 你好 ",
			"English" : " Hello. Good to see you. ",
			"French" : " Bonjour ",
			"German" : " Hallo ",
			"Italian" : " Ciao ",
			"Japanese" : " こんにちは ",
			"Korean" : " 안녕하세요 ",
			"Portuguese" : " Olá ",
			"Brazilian" : " Olá ",
			"Spanish" : " Hola ",
			"Arabic" : " مرحبا ",
			"Polish" : " Cześć ",
			"Czech" : " Ahoj ",
			"Dutch" : " Hallo ",
			"Danish" : " Hej ",
			"Finnish" : " Hei ",
			"Swedish" : " Hallå ",
			"Russian" : " Привет ",
			"Turkish" : " Merhaba "
		}

	def onInput_onStart(self):
		sDefaultLang = self.tts.getLanguage()
		self.onStopped(self.sentences[sDefaultLang])]]>
</content>
                                                                    </script>
                                                                    <pluginContent>
                                                                        <chinese>你好</chinese>
                                                                        <english>Hello. Good to see you.</english>
                                                                        <french>Bonjour</french>
                                                                        <german>Hallo</german>
                                                                        <italian>Ciao</italian>
                                                                        <japanese>こんにちは</japanese>
                                                                        <korean>안녕하세요</korean>
                                                                        <portuguese>Olá</portuguese>
                                                                        <brazilian>Olá</brazilian>
                                                                        <spanish>Hola</spanish>
                                                                        <arabic>مرحبا</arabic>
                                                                        <polish>Cześć</polish>
                                                                        <czech>Ahoj</czech>
                                                                        <dutch>Hallo</dutch>
                                                                        <danish>Hej</danish>
                                                                        <finnish>Hei</finnish>
                                                                        <swedish>Hallå</swedish>
                                                                        <russian>Привет</russian>
                                                                        <turkish>Merhaba</turkish>
                                                                        <language>1</language>
                                                                    </pluginContent>
                                                                    <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                    <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Data is sent on the output when this input is stimulated." id="2" />
                                                                    <Output name="onStopped" type="3" type_size="1" nature="1" inner="0" tooltip="Data sent when asked." id="3" />
                                                                </Box>
                                                                <Link inputowner="0" indexofinput="4" outputowner="2" indexofoutput="4" />
                                                                <Link inputowner="5" indexofinput="2" outputowner="0" indexofoutput="2" />
                                                                <Link inputowner="2" indexofinput="2" outputowner="5" indexofoutput="3" />
                                                            </Diagram>
                                                        </BehaviorKeyframe>
                                                    </BehaviorLayer>
                                                </Timeline>
                                            </Box>
                                            <Box name="Fall Detector" id="22" tooltip='Detect if the NAO has fallen and has activated the fall manager process. &#x0A;&#x0A;Note : The output &quot;robotHasFallen&quot; is stimulated 0.5s after the fall is detected to give NAO time to fall.' x="143" y="345">
                                                <bitmap>media/images/box/sensors/fall_manager.png</bitmap>
                                                <script language="4">
                                                    <content>
                                                        <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        try: # disable autoBind
          GeneratedClass.__init__(self, False)
        except TypeError: # if NAOqi < 1.14
          GeneratedClass.__init__( self )

    def onLoad(self):
        self.bIsRunning = False

    def onUnload(self):
        self.bIsRunning = False

    def onInput_onStart(self):
        self.bIsRunning = True

    def onInput_onStop(self):
        if( self.bIsRunning ):
            self.onUnload()
            self.onStopped()]]>
</content>
                                                </script>
                                                <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                <Input name="memory_robotHasFallen" type="0" type_size="1" nature="4" stm_value_name="robotHasFallen" inner="1" tooltip="Connected to ALMemory. Will be stimulated every time the value subscribed to changes, respecting the refresh period." id="4" />
                                                <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is stopped." id="5" />
                                                <Output name="robotHasFallen" type="1" type_size="1" nature="2" inner="0" tooltip="This output is stimulated when NAO has fallen." id="6" />
                                                <Timeline enable="0">
                                                    <BehaviorLayer name="behavior_layer1">
                                                        <BehaviorKeyframe name="keyframe1" index="1">
                                                            <Diagram>
                                                                <Box name="Wait" id="1" tooltip="Wait a moment before sending a signal on the output. The wait can be stopped any&#x0A;time. You may restart it any time, and it will start again." x="275" y="93">
                                                                    <bitmap>media/images/box/wait.png</bitmap>
                                                                    <script language="4">
                                                                        <content>
                                                                            <![CDATA[import threading

class MyClass(GeneratedClass):
    def __init__(self):
        try: # disable autoBind
          GeneratedClass.__init__(self, False)
        except TypeError: # if NAOqi < 1.14
          GeneratedClass.__init__( self )

    def onLoad(self):
        self.tb = False

    def onUnload(self):
        if( self.tb ):
            self.tb.cancel()
            self.tb = False

    def triggerOutput( self, rPeriod = 1 ):
        self.onUnload() # to clean everything
        self.timerOutput()

    def startTimer( self, rPeriod = 1 ):
        if( self.tb ):
            self.tb.cancel()
        self.tb = threading.Timer( rPeriod, self.triggerOutput, [rPeriod] )
        self.tb.start()

    def onInput_onStart(self):
        self.startTimer( self.getParameter("Timeout (s)") )

    def onInput_onStop(self):
        bRunning = self.tb
        self.onUnload()
        if( bRunning ):
            self.timerOutput()]]>
</content>
                                                                    </script>
                                                                    <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                    <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Start the Wait box with the configured timeout value." id="2" />
                                                                    <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Stop the wait and stimulate the output." id="3" />
                                                                    <Output name="timerOutput" type="1" type_size="1" nature="1" inner="0" tooltip="Send a bang once time set in parameters is ellapsed, or if the box is stopped." id="4" />
                                                                    <Parameter name="Timeout (s)" inherits_from_parent="0" content_type="2" value="0.5" default_value="1" min="0" max="5000" tooltip="Duration the box waits before stimulating the output." id="5" />
                                                                </Box>
                                                                <Link inputowner="1" indexofinput="2" outputowner="0" indexofoutput="4" />
                                                                <Link inputowner="0" indexofinput="6" outputowner="1" indexofoutput="4" />
                                                            </Diagram>
                                                        </BehaviorKeyframe>
                                                    </BehaviorLayer>
                                                </Timeline>
                                            </Box>
                                            <Box name="Connector" id="23" tooltip="Just a connector.&#x0A;" x="559" y="547">
                                                <bitmap>media/images/box/box-diagram.png</bitmap>
                                                <script language="4">
                                                    <content>
                                                        <![CDATA[]]>
</content>
                                                </script>
                                                <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                                <Timeline enable="0">
                                                    <BehaviorLayer name="behavior_layer1">
                                                        <BehaviorKeyframe name="keyframe1" index="1">
                                                            <Diagram>
                                                                <Link inputowner="0" indexofinput="4" outputowner="0" indexofoutput="2" />
                                                            </Diagram>
                                                        </BehaviorKeyframe>
                                                    </BehaviorLayer>
                                                </Timeline>
                                            </Box>
                                            <Box name="ExplainFTC" id="3" tooltip="Explain rules of FTC Block Party." x="941" y="771">
                                                <bitmap>media/images/box/box-diagram.png</bitmap>
                                                <script language="4">
                                                    <content>
                                                        <![CDATA[]]>
</content>
                                                </script>
                                                <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                                <Timeline enable="0">
                                                    <BehaviorLayer name="behavior_layer1">
                                                        <BehaviorKeyframe name="keyframe1" index="1">
                                                            <Diagram scale="105.946">
                                                                <Box name="SentenceWelcome" id="1" tooltip="This box is empty (contains a single motion layer with no motors defined in it) and should be used to create any movement you&apos;d like." x="371" y="93">
                                                                    <bitmap>media/images/box/movement/move.png</bitmap>
                                                                    <script language="4">
                                                                        <content>
                                                                            <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)

    def onLoad(self):
        #~ puts code for box initialization here
        pass

    def onUnload(self):
        #~ puts code for box cleanup here
        pass

    def onInput_onStart(self):
        #~ self.onStopped() #~ activate output of the box
        pass

    def onInput_onStop(self):
        self.onUnload() #~ it is recommanded to call onUnload of this box in a onStop method, as the code written in onUnload is used to stop the box as well
        pass]]>
</content>
                                                                    </script>
                                                                    <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                                                                    <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this Input." id="2" />
                                                                    <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this Input." id="3" />
                                                                    <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when Box behavior is finished." id="4" />
                                                                    <Timeline enable="1" fps="25" start_frame="0" end_frame="90" size="300">
                                                                        <BehaviorLayer name="speech">
                                                                            <BehaviorKeyframe name="speech" index="10">
                                                                                <Diagram>
                                                                                    <Box name="LocalizedText" id="1" tooltip="Enter tooltip here" plugin="localizationbox_plugin" x="106" y="31">
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
	def __init__(self):
		try: # disable autoBind
			GeneratedClass.__init__(self, False)
		except TypeError: # if NAOqi < 1.14
			GeneratedClass.__init__( self )

		self.tts = ALProxy("ALTextToSpeech")
		self.sentences = {
			"Chinese" : " 你好，我的名字是脑 ",
			"English" : " Hello, my name is Nao. ",
			"French" : " Bonjour, je m\'appelle Nao. ",
			"German" : "  ",
			"Italian" : "  ",
			"Japanese" : "  ",
			"Korean" : "  ",
			"Portuguese" : "  ",
			"Brazilian" : "  ",
			"Spanish" : " Hola, me llamo Nao. ",
			"Arabic" : "  ",
			"Polish" : "  ",
			"Czech" : "  ",
			"Dutch" : " Hallo, mijn naam is Nao. ",
			"Danish" : "  ",
			"Finnish" : " Hei, nimeni on Nao. ",
			"Swedish" : "  ",
			"Russian" : "  ",
			"Turkish" : "  "
		}

	def onInput_onStart(self):
		sDefaultLang = self.tts.getLanguage()
		self.onStopped(self.sentences[sDefaultLang])]]>
</content>
                                                                                        </script>
                                                                                        <pluginContent>
                                                                                            <chinese>你好，我的名字是脑</chinese>
                                                                                            <english>Hello, my name is Nao.</english>
                                                                                            <french>Bonjour, je m&apos;appelle Nao.</french>
                                                                                            <german></german>
                                                                                            <italian></italian>
                                                                                            <japanese></japanese>
                                                                                            <korean></korean>
                                                                                            <portuguese></portuguese>
                                                                                            <brazilian></brazilian>
                                                                                            <spanish>Hola, me llamo Nao.</spanish>
                                                                                            <arabic></arabic>
                                                                                            <polish></polish>
                                                                                            <czech></czech>
                                                                                            <dutch>Hallo, mijn naam is Nao.</dutch>
                                                                                            <danish></danish>
                                                                                            <finnish>Hei, nimeni on Nao.</finnish>
                                                                                            <swedish></swedish>
                                                                                            <russian></russian>
                                                                                            <turkish></turkish>
                                                                                            <language>1</language>
                                                                                        </pluginContent>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                                                        <Output name="onStopped" type="3" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                                                                    </Box>
                                                                                    <Box name="Say Text" id="2" tooltip="Say the sentence asked. See box parameters for fine tuning of the voice." x="429" y="31">
                                                                                        <bitmap>media/images/box/interaction/say.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)
        self.tts = ALProxy('ALTextToSpeech')
        self.ttsStop = ALProxy('ALTextToSpeech', True) #Create another proxy as wait is blocking if audioout is remote
        
    def onLoad(self):
        #puts code for box cleanup here
        self.ids = []
        
    def onUnload(self):
        #puts code for box cleanup here    
        for id in self.ids:
            try:
                self.ttsStop.stop(id)
            except:
                pass
        
    def onInput_onStart(self, p):
        sentence = "\RSPD="+ str( self.getParameter("speed") )+ "\ "
        sentence += "\VCT="+ str( self.getParameter("Voice Shaping") ) + "\ " 
        sentence += str(p)
        sentence +=  "\RST\ "
        id = self.tts.post.say(sentence)
        self.ids.append(id)
        self.tts.wait(id, 0)
        self.ids.remove(id)
        self.onStopped() # activate output of the box

    def onInput_onStop(self):
        self.onUnload()]]>
</content>
                                                                                        </script>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="3" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this Input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this Input." id="3" />
                                                                                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when Box behavior is finished." id="4" />
                                                                                        <Parameter name="Voice Shaping" inherits_from_parent="0" content_type="1" value="100" default_value="100" min="50" max="150" tooltip='This tag is used to modify at runtime the voice feature (tone, speed) in way slightly different of what pitch and speed modification does, giving a kind of &quot;gender or age modification &quot; effect.&#x0A;&#x0A;To better tune the effect, one should compensate the speed modification due to the value parameter. For exemple to keep an average constant speed, one should add 20% to speed parameter when decreasing 20% to the Voice Shaping (VCT) parameter :&#x0A;&#x0A;A quite good male derivation of female voice for example could be obtained using the following parameters: VCT=78.' id="5" />
                                                                                        <Parameter name="speed" inherits_from_parent="0" content_type="1" value="85" default_value="100" min="50" max="200" tooltip="change the speed of the voice" id="6" />
                                                                                        <Resource name="TTS" type="Lock" timeout="0" />
                                                                                    </Box>
                                                                                    <Link inputowner="1" indexofinput="2" outputowner="0" indexofoutput="1" />
                                                                                    <Link inputowner="2" indexofinput="2" outputowner="1" indexofoutput="4" />
                                                                                </Diagram>
                                                                            </BehaviorKeyframe>
                                                                        </BehaviorLayer>
                                                                        <BehaviorLayer name="LED">
                                                                            <BehaviorKeyframe name="blink" index="15">
                                                                                <Diagram>
                                                                                    <Box name="blink" id="1" tooltip="blink" x="130" y="41">
                                                                                        <bitmap>media/images/box/box-diagram.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)

    def onLoad(self):
        #~ puts code for box initialization here
        pass

    def onUnload(self):
        #~ puts code for box cleanup here
        pass

    def onInput_onStart(self):
        rDuration = 0.05;
        ALLeds.post.fadeRGB( "FaceLed0", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed1", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed2", 0xffffff, rDuration );
        ALLeds.post.fadeRGB( "FaceLed3", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed4", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed5", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed6", 0xffffff, rDuration );
        ALLeds.fadeRGB( "FaceLed7", 0x000000, rDuration );

        time.sleep( 0.1 );
        
        rDuration = 0.05;
        ALLeds.fadeRGB( "FaceLeds", 0xffffff, rDuration );
        
        return;
        

    def onInput_onStop(self):
        self.onUnload() #~ it is usually a good idea to call onUnload of this box in a onStop method, as the code written in onUnload is used to finish the working of the box as well
        pass]]>
</content>
                                                                                        </script>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                                                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                                                                    </Box>
                                                                                    <Link inputowner="1" indexofinput="2" outputowner="0" indexofoutput="1" />
                                                                                </Diagram>
                                                                            </BehaviorKeyframe>
                                                                        </BehaviorLayer>
                                                                        <ActuatorList model="Nao">
                                                                            <ActuatorCurve name="value" actuator="HeadYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="19" value="-5.3638" />
                                                                                <Key frame="38" value="-2.90283" />
                                                                                <Key frame="57" value="-3.86964" />
                                                                                <Key frame="75" value="-5.62747" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="HeadPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="19" value="-18.5476" />
                                                                                <Key frame="38" value="14.5876" />
                                                                                <Key frame="57" value="8" />
                                                                                <Key frame="75" value="-13.5377" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LShoulderPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="15" value="75.145" />
                                                                                <Key frame="32" value="55.2815" />
                                                                                <Key frame="54" value="65.9164" />
                                                                                <Key frame="71" value="97.8211" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LShoulderRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="15" value="9.57779" />
                                                                                <Key frame="32" value="6.41369" />
                                                                                <Key frame="54" value="7.55628" />
                                                                                <Key frame="71" value="7.90785" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LElbowYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="15" value="-92.7282" />
                                                                                <Key frame="32" value="-49.9249" />
                                                                                <Key frame="54" value="-72.1615" />
                                                                                <Key frame="71" value="-87.0152" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LElbowRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="15" value="-85.2526" />
                                                                                <Key frame="32" value="-88.153" />
                                                                                <Key frame="54" value="-86.6588" />
                                                                                <Key frame="71" value="-40.7794" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LWristYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="32" value="-10.2857" />
                                                                                <Key frame="71" value="-22.7664" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LHand" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="32" value="0.620387" />
                                                                                <Key frame="71" value="0.59748" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RShoulderPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="14" value="63.3723" />
                                                                                <Key frame="30" value="53.2648" />
                                                                                <Key frame="48" value="69.6126" />
                                                                                <Key frame="67" value="40.9599" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RShoulderRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="14" value="-5.18802" />
                                                                                <Key frame="30" value="-9.5826" />
                                                                                <Key frame="48" value="-5.97904" />
                                                                                <Key frame="67" value="-2.02391" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RElbowYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="14" value="107.225" />
                                                                                <Key frame="30" value="43.9435" />
                                                                                <Key frame="48" value="68.7289" />
                                                                                <Key frame="67" value="25.9257" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RElbowRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="14" value="66.4485" />
                                                                                <Key frame="30" value="88.5" />
                                                                                <Key frame="48" value="88.5" />
                                                                                <Key frame="67" value="88.5" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RWristYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="30" value="24.3436" />
                                                                                <Key frame="67" value="31.7265" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RHand" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="30" value="0.661115" />
                                                                                <Key frame="67" value="0.637115" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LHipYawPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="32" value="-16.9607" />
                                                                                <Key frame="70" value="-14.3239" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LHipRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="32" value="1.93602" />
                                                                                <Key frame="70" value="11.1647" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LHipPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="32" value="-0.349163" />
                                                                                <Key frame="70" value="9.67049" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LKneePitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="32" value="-5.10012" />
                                                                                <Key frame="70" value="-5.10012" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LAnklePitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="32" value="13.0935" />
                                                                                <Key frame="70" value="8.96255" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LAnkleRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="32" value="-3.24959" />
                                                                                <Key frame="70" value="-9.05044" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RHipRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="32" value="-5.62267" />
                                                                                <Key frame="70" value="-1.57965" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RHipPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="32" value="-0.79343" />
                                                                                <Key frame="70" value="12.1267" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RKneePitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="32" value="-4.39218" />
                                                                                <Key frame="70" value="-4.39218" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RAnklePitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="32" value="12.483" />
                                                                                <Key frame="70" value="6.50639" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RAnkleRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="32" value="5.80326" />
                                                                                <Key frame="70" value="2.37548" />
                                                                            </ActuatorCurve>
                                                                        </ActuatorList>
                                                                    </Timeline>
                                                                    <Resource name="Standing" type="Lock" timeout="2" />
                                                                    <Resource name="HeadYaw" type="Lock" timeout="2" />
                                                                    <Resource name="HeadPitch" type="Lock" timeout="2" />
                                                                    <Resource name="LShoulderPitch" type="Lock" timeout="2" />
                                                                    <Resource name="LShoulderRoll" type="Lock" timeout="2" />
                                                                    <Resource name="LElbowRoll" type="Lock" timeout="2" />
                                                                    <Resource name="LElbowYaw" type="Lock" timeout="2" />
                                                                    <Resource name="LWristYaw" type="Lock" timeout="2" />
                                                                    <Resource name="LHand" type="Lock" timeout="2" />
                                                                    <Resource name="RShoulderPitch" type="Lock" timeout="2" />
                                                                    <Resource name="RShoulderRoll" type="Lock" timeout="2" />
                                                                    <Resource name="RElbowRoll" type="Lock" timeout="2" />
                                                                    <Resource name="RElbowYaw" type="Lock" timeout="2" />
                                                                    <Resource name="RWristYaw" type="Lock" timeout="2" />
                                                                    <Resource name="RHand" type="Lock" timeout="2" />
                                                                    <Resource name="LHipYawPitch" type="Lock" timeout="2" />
                                                                    <Resource name="LHipPitch" type="Lock" timeout="2" />
                                                                    <Resource name="LHipRoll" type="Lock" timeout="2" />
                                                                    <Resource name="LKneePitch" type="Lock" timeout="2" />
                                                                    <Resource name="LAnklePitch" type="Lock" timeout="2" />
                                                                    <Resource name="LAnkleRoll" type="Lock" timeout="2" />
                                                                    <Resource name="RHipPitch" type="Lock" timeout="2" />
                                                                    <Resource name="RHipRoll" type="Lock" timeout="2" />
                                                                    <Resource name="RKneePitch" type="Lock" timeout="2" />
                                                                    <Resource name="RAnklePitch" type="Lock" timeout="2" />
                                                                    <Resource name="RAnkleRoll" type="Lock" timeout="2" />
                                                                    <Resource name="Speakers" type="Lock" timeout="2" />
                                                                </Box>
                                                                <Box name="Stand Up" id="2" tooltip="NAO tries to stand up from any position for a number of tries.&#x0A;&#x0A;Note: The number of tries can be set in parameters." x="94" y="22">
                                                                    <bitmap>media/images/box/movement/stand.png</bitmap>
                                                                    <script language="4">
                                                                        <content>
                                                                            <![CDATA[]]>
</content>
                                                                    </script>
                                                                    <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                    <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                    <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                                    <Output name="success" type="1" type_size="1" nature="1" inner="0" tooltip="Stimulated when NAO succeed in standing up." id="4" />
                                                                    <Output name="failure" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when the robot failed to stand up after n tries.&#x0A;&#x0A;Note: The number of tries can be set in parameters." id="5" />
                                                                    <Parameter name="Maximum of tries" inherits_from_parent="0" content_type="1" value="3" default_value="3" min="0" max="10" tooltip="The maximum number of fails of stand up before stimulating the failure output." id="6" />
                                                                    <Timeline enable="0">
                                                                        <BehaviorLayer name="StandUpBehavior">
                                                                            <BehaviorKeyframe name="DetectRobotPose" index="1">
                                                                                <Diagram>
                                                                                    <Box name="Goto Posture" id="2" tooltip="The robot goes from its current postition to the asked posture." x="331" y="92">
                                                                                        <bitmap>media/images/box/box-diagram.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        try: # disable autoBind
          GeneratedClass.__init__(self, False)
        except TypeError: # if NAOqi < 1.14
          GeneratedClass.__init__( self )

    def onLoad(self):
        self.nTries = 0
        self.postureProxy = ALProxy("ALRobotPosture")
        pass

    def onUnload(self):
        self.postureProxy.stopMove()

    def onInput_onStart(self):
        if(self.nTries != self.getParameter("Maximum of tries")):
            self.nTries = self.getParameter("Maximum of tries")
            self.postureProxy.setMaxTryNumber(self.nTries)

        result = self.postureProxy.goToPosture(self.getParameter("Name"), self.getParameter("Speed (%)")/100.)
        if(result):
            self.success()
        else:
            self.failure()
        pass

    def onInput_onStop(self):
        self.onUnload() #~ it is recommanded to call onUnload of this box in a onStop method, as the code written in onUnload is used to stop the box as well
        pass]]>
</content>
                                                                                        </script>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                                                        <Output name="success" type="1" type_size="1" nature="1" inner="0" tooltip="Stimulated if the posture has been reached." id="4" />
                                                                                        <Output name="failure" type="1" type_size="1" nature="1" inner="0" tooltip="Stimulated if the posture could not be reached." id="5" />
                                                                                        <Parameter name="Name" inherits_from_parent="0" content_type="3" value="Stand" default_value="Stand" custom_choice="1" tooltip="Name of the posture to go to." id="6">
                                                                                            <Choice value="Crouch" />
                                                                                            <Choice value="LyingBack" />
                                                                                            <Choice value="LyingBelly" />
                                                                                            <Choice value="Sit" />
                                                                                            <Choice value="SitRelax" />
                                                                                            <Choice value="StandInit" />
                                                                                            <Choice value="Stand" />
                                                                                            <Choice value="StandZero" />
                                                                                        </Parameter>
                                                                                        <Parameter name="Speed (%)" inherits_from_parent="0" content_type="1" value="80" default_value="80" min="0" max="100" tooltip="Speed to go to the posture." id="7" />
                                                                                        <Parameter name="Maximum of tries" inherits_from_parent="1" content_type="1" value="3" default_value="3" min="0" max="10" tooltip="The maximum number of fails of go to posture before stimulating the failure output." id="8" />
                                                                                        <Resource name="All motors" type="Lock" timeout="0" />
                                                                                        <Resource name="Stiffness" type="Lock" timeout="0" />
                                                                                    </Box>
                                                                                    <Link inputowner="2" indexofinput="2" outputowner="0" indexofoutput="2" />
                                                                                    <Link inputowner="0" indexofinput="4" outputowner="2" indexofoutput="4" />
                                                                                    <Link inputowner="0" indexofinput="5" outputowner="2" indexofoutput="5" />
                                                                                </Diagram>
                                                                            </BehaviorKeyframe>
                                                                        </BehaviorLayer>
                                                                    </Timeline>
                                                                    <Resource name="All motors" type="Lock" timeout="0" />
                                                                </Box>
                                                                <Box name="Sentence2" id="3" tooltip="This box is empty (contains a single motion layer with no motors defined in it) and should be used to create any movement you&apos;d like." x="470" y="160">
                                                                    <bitmap>media/images/box/movement/move.png</bitmap>
                                                                    <script language="4">
                                                                        <content>
                                                                            <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)

    def onLoad(self):
        #~ puts code for box initialization here
        pass

    def onUnload(self):
        #~ puts code for box cleanup here
        pass

    def onInput_onStart(self):
        #~ self.onStopped() #~ activate output of the box
        pass

    def onInput_onStop(self):
        self.onUnload() #~ it is recommanded to call onUnload of this box in a onStop method, as the code written in onUnload is used to stop the box as well
        pass]]>
</content>
                                                                    </script>
                                                                    <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                                                                    <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this Input." id="2" />
                                                                    <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this Input." id="3" />
                                                                    <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when Box behavior is finished." id="4" />
                                                                    <Timeline enable="1" fps="25" start_frame="0" end_frame="148" size="300">
                                                                        <BehaviorLayer name="speech">
                                                                            <BehaviorKeyframe name="speech" index="19">
                                                                                <Diagram>
                                                                                    <Box name="Say Text" id="2" tooltip="Say the sentence asked. See box parameters for fine tuning of the voice." x="390" y="15">
                                                                                        <bitmap>media/images/box/interaction/say.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)
        self.tts = ALProxy('ALTextToSpeech')
        self.ttsStop = ALProxy('ALTextToSpeech', True) #Create another proxy as wait is blocking if audioout is remote
        
    def onLoad(self):
        #puts code for box cleanup here
        self.ids = []
        
    def onUnload(self):
        #puts code for box cleanup here    
        for id in self.ids:
            try:
                self.ttsStop.stop(id)
            except:
                pass
        
    def onInput_onStart(self, p):
        sentence = "\RSPD="+ str( self.getParameter("speed") )+ "\ "
        sentence += "\VCT="+ str( self.getParameter("Voice Shaping") ) + "\ " 
        sentence += str(p)
        sentence +=  "\RST\ "
        id = self.tts.post.say(sentence)
        self.ids.append(id)
        self.tts.wait(id, 0)
        self.ids.remove(id)
        self.onStopped() # activate output of the box

    def onInput_onStop(self):
        self.onUnload()]]>
</content>
                                                                                        </script>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="3" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this Input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this Input." id="3" />
                                                                                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when Box behavior is finished." id="4" />
                                                                                        <Parameter name="Voice Shaping" inherits_from_parent="0" content_type="1" value="100" default_value="100" min="50" max="150" tooltip='This tag is used to modify at runtime the voice feature (tone, speed) in way slightly different of what pitch and speed modification does, giving a kind of &quot;gender or age modification &quot; effect.&#x0A;&#x0A;To better tune the effect, one should compensate the speed modification due to the value parameter. For exemple to keep an average constant speed, one should add 20% to speed parameter when decreasing 20% to the Voice Shaping (VCT) parameter :&#x0A;&#x0A;A quite good male derivation of female voice for example could be obtained using the following parameters: VCT=78.' id="5" />
                                                                                        <Parameter name="speed" inherits_from_parent="0" content_type="1" value="85" default_value="100" min="50" max="200" tooltip="change the speed of the voice" id="6" />
                                                                                        <Resource name="TTS" type="Lock" timeout="0" />
                                                                                    </Box>
                                                                                    <Box name="LocalizedText" id="3" tooltip="Enter tooltip here" plugin="localizationbox_plugin" x="88" y="20">
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
	def __init__(self):
		try: # disable autoBind
			GeneratedClass.__init__(self, False)
		except TypeError: # if NAOqi < 1.14
			GeneratedClass.__init__( self )

		self.tts = ALProxy("ALTextToSpeech")
		self.sentences = {
			"Chinese" : " \\RSPD=110\\我是人形机器人，由阿尔德巴兰机器人公司设计。 ",
			"English" : " I will briefly explain to you the rules of the F T C BlockParty. ",
			"French" : " Je suis un raubaut humanoïde, imaginé et fabriqué en France. ",
			"German" : "  ",
			"Italian" : "  ",
			"Japanese" : "  ",
			"Korean" : "  ",
			"Portuguese" : "  ",
			"Brazilian" : "  ",
			"Spanish" : " Soy un robot humanoide, diseñado y fabricado en Francia. ",
			"Arabic" : "  ",
			"Polish" : "  ",
			"Czech" : "  ",
			"Dutch" : "  ",
			"Danish" : "  ",
			"Finnish" : " \\RSPD=110\\ Olen humanoidirobotti, \\RSPD=100\\ jonka on rakentanut \\RSPD=115\\ ranskalainen \\RSPD=110\\ yritys nimeltä \\RSPD=105\\ Aldebaran. ",
			"Swedish" : "  ",
			"Russian" : "  ",
			"Turkish" : "  "
		}

	def onInput_onStart(self):
		sDefaultLang = self.tts.getLanguage()
		self.onStopped(self.sentences[sDefaultLang])]]>
</content>
                                                                                        </script>
                                                                                        <pluginContent>
                                                                                            <chinese>\RSPD=110\我是人形机器人，由阿尔德巴兰机器人公司设计。</chinese>
                                                                                            <english>I will briefly explain to you the rules of the F T C BlockParty.</english>
                                                                                            <french>Je suis un raubaut humanoïde, imaginé et fabriqué en France.</french>
                                                                                            <german></german>
                                                                                            <italian></italian>
                                                                                            <japanese></japanese>
                                                                                            <korean></korean>
                                                                                            <portuguese></portuguese>
                                                                                            <brazilian></brazilian>
                                                                                            <spanish>Soy un robot humanoide, diseñado y fabricado en Francia.</spanish>
                                                                                            <arabic></arabic>
                                                                                            <polish></polish>
                                                                                            <czech></czech>
                                                                                            <dutch></dutch>
                                                                                            <danish></danish>
                                                                                            <finnish>\RSPD=110\ Olen humanoidirobotti, \RSPD=100\ jonka on rakentanut \RSPD=115\ ranskalainen \RSPD=110\ yritys nimeltä \RSPD=105\ Aldebaran.</finnish>
                                                                                            <swedish></swedish>
                                                                                            <russian></russian>
                                                                                            <turkish></turkish>
                                                                                            <language>1</language>
                                                                                        </pluginContent>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                                                        <Output name="onStopped" type="3" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                                                                    </Box>
                                                                                    <Link inputowner="3" indexofinput="2" outputowner="0" indexofoutput="1" />
                                                                                    <Link inputowner="2" indexofinput="2" outputowner="3" indexofoutput="4" />
                                                                                </Diagram>
                                                                            </BehaviorKeyframe>
                                                                        </BehaviorLayer>
                                                                        <BehaviorLayer name="LED">
                                                                            <BehaviorKeyframe name="blink" index="13">
                                                                                <Diagram>
                                                                                    <Box name="blink" id="1" tooltip="blink" x="130" y="41">
                                                                                        <bitmap>media/images/box/box-diagram.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)

    def onLoad(self):
        #~ puts code for box initialization here
        pass

    def onUnload(self):
        #~ puts code for box cleanup here
        pass

    def onInput_onStart(self):
        rDuration = 0.05;
        ALLeds.post.fadeRGB( "FaceLed0", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed1", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed2", 0xffffff, rDuration );
        ALLeds.post.fadeRGB( "FaceLed3", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed4", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed5", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed6", 0xffffff, rDuration );
        ALLeds.fadeRGB( "FaceLed7", 0x000000, rDuration );

        time.sleep( 0.1 );
        
        rDuration = 0.05;
        ALLeds.fadeRGB( "FaceLeds", 0xffffff, rDuration );
        
        return;
        

    def onInput_onStop(self):
        self.onUnload() #~ it is usually a good idea to call onUnload of this box in a onStop method, as the code written in onUnload is used to finish the working of the box as well
        pass]]>
</content>
                                                                                        </script>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                                                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                                                                    </Box>
                                                                                    <Link inputowner="1" indexofinput="2" outputowner="0" indexofoutput="1" />
                                                                                </Diagram>
                                                                            </BehaviorKeyframe>
                                                                        </BehaviorLayer>
                                                                        <ActuatorList model="Nao">
                                                                            <ActuatorCurve name="value" actuator="HeadYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="23" value="-18.2839" />
                                                                                <Key frame="40" value="-19.9538" />
                                                                                <Key frame="56" value="-33.0497" />
                                                                                <Key frame="74" value="-3.34229" />
                                                                                <Key frame="89" value="-3.78175" />
                                                                                <Key frame="102" value="-4.92434" />
                                                                                <Key frame="116" value="-3.95753" />
                                                                                <Key frame="140" value="-6.33061" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="HeadPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="23" value="9.92936" />
                                                                                <Key frame="40" value="19.949" />
                                                                                <Key frame="56" value="27.3319" />
                                                                                <Key frame="74" value="-18.3718" />
                                                                                <Key frame="89" value="-19.5144" />
                                                                                <Key frame="102" value="-0.00240423" />
                                                                                <Key frame="116" value="-15.9108" />
                                                                                <Key frame="140" value="-16.9655" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LShoulderPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="20" value="82.8795" />
                                                                                <Key frame="37" value="96.8543" />
                                                                                <Key frame="53" value="91.1413" />
                                                                                <Key frame="71" value="90.3503" />
                                                                                <Key frame="86" value="68.5531" />
                                                                                <Key frame="99" value="70.9262" />
                                                                                <Key frame="113" value="84.4615" />
                                                                                <Key frame="137" value="83.6705" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LShoulderRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="20" value="25.4862" />
                                                                                <Key frame="37" value="13.7966" />
                                                                                <Key frame="53" value="13.0056" />
                                                                                <Key frame="71" value="2.19489" />
                                                                                <Key frame="86" value="1.93121" />
                                                                                <Key frame="99" value="1.14019" />
                                                                                <Key frame="113" value="1.14019" />
                                                                                <Key frame="137" value="1.0523" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LElbowYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="20" value="-64.6028" />
                                                                                <Key frame="37" value="-70.3158" />
                                                                                <Key frame="53" value="-55.2863" />
                                                                                <Key frame="71" value="-102.308" />
                                                                                <Key frame="86" value="-56.5168" />
                                                                                <Key frame="99" value="-77.3471" />
                                                                                <Key frame="113" value="-89.3883" />
                                                                                <Key frame="137" value="-55.0226" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LElbowRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="20" value="-88.153" />
                                                                                <Key frame="37" value="-56.0725" />
                                                                                <Key frame="53" value="-65.8285" />
                                                                                <Key frame="71" value="-63.3675" />
                                                                                <Key frame="86" value="-82.0885" />
                                                                                <Key frame="99" value="-73.1235" />
                                                                                <Key frame="113" value="-46.4923" />
                                                                                <Key frame="137" value="-34.6269" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LWristYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="37" value="-20.3933" />
                                                                                <Key frame="71" value="-26.5457" />
                                                                                <Key frame="99" value="-56" />
                                                                                <Key frame="137" value="-8" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LHand" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="37" value="0.671296" />
                                                                                <Key frame="71" value="0.646933" />
                                                                                <Key frame="99" value="0.86" />
                                                                                <Key frame="137" value="0.234545" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RShoulderPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="16" value="61.2629" />
                                                                                <Key frame="33" value="38.8505" />
                                                                                <Key frame="49" value="33.4892" />
                                                                                <Key frame="67" value="60.5598" />
                                                                                <Key frame="82" value="67.0638" />
                                                                                <Key frame="95" value="69.1732" />
                                                                                <Key frame="109" value="70.6674" />
                                                                                <Key frame="133" value="91.8493" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RShoulderRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="16" value="-15.2077" />
                                                                                <Key frame="33" value="-18.8991" />
                                                                                <Key frame="49" value="-14.7682" />
                                                                                <Key frame="67" value="-27.3367" />
                                                                                <Key frame="82" value="-2.46337" />
                                                                                <Key frame="95" value="-3.2544" />
                                                                                <Key frame="109" value="-1.23289" />
                                                                                <Key frame="133" value="-1.49656" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RElbowYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="16" value="44.1192" />
                                                                                <Key frame="33" value="53.6994" />
                                                                                <Key frame="49" value="49.8322" />
                                                                                <Key frame="67" value="94.3933" />
                                                                                <Key frame="82" value="22.41" />
                                                                                <Key frame="95" value="39.9883" />
                                                                                <Key frame="109" value="41.5704" />
                                                                                <Key frame="133" value="69.0805" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RElbowRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="16" value="84.4664" />
                                                                                <Key frame="33" value="89.2125" />
                                                                                <Key frame="49" value="89.0367" />
                                                                                <Key frame="67" value="62.054" />
                                                                                <Key frame="82" value="51.6827" />
                                                                                <Key frame="95" value="76.0287" />
                                                                                <Key frame="109" value="85.8726" />
                                                                                <Key frame="133" value="57.5715" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RWristYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="33" value="75" />
                                                                                <Key frame="67" value="74.6177" />
                                                                                <Key frame="95" value="51" />
                                                                                <Key frame="133" value="52.0295" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RHand" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="33" value="0.2" />
                                                                                <Key frame="67" value="0.198935" />
                                                                                <Key frame="95" value="0.156364" />
                                                                                <Key frame="133" value="0.154935" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LHipYawPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="35" value="-22.7616" />
                                                                                <Key frame="69" value="-18.1033" />
                                                                                <Key frame="97" value="-17.4881" />
                                                                                <Key frame="135" value="-17.4002" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LHipRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="35" value="0.79343" />
                                                                                <Key frame="69" value="7.03374" />
                                                                                <Key frame="97" value="10.6373" />
                                                                                <Key frame="135" value="5.27591" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LHipPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="35" value="14.0651" />
                                                                                <Key frame="69" value="17.0534" />
                                                                                <Key frame="97" value="17.0534" />
                                                                                <Key frame="135" value="17.0534" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LKneePitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="35" value="-5.10012" />
                                                                                <Key frame="69" value="-2.46337" />
                                                                                <Key frame="97" value="-1.76024" />
                                                                                <Key frame="135" value="-2.90283" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LAnklePitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="35" value="9.75358" />
                                                                                <Key frame="69" value="2.28278" />
                                                                                <Key frame="97" value="2.89802" />
                                                                                <Key frame="135" value="3.1617" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LAnkleRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="35" value="-1.22808" />
                                                                                <Key frame="69" value="-5.88634" />
                                                                                <Key frame="97" value="-8.25942" />
                                                                                <Key frame="135" value="-4.83164" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RHipRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="35" value="-15.906" />
                                                                                <Key frame="69" value="-9.75358" />
                                                                                <Key frame="97" value="-6.76526" />
                                                                                <Key frame="135" value="-11.863" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RHipPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="35" value="7.46839" />
                                                                                <Key frame="69" value="18.9822" />
                                                                                <Key frame="97" value="20.0369" />
                                                                                <Key frame="135" value="17.4002" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RKneePitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="35" value="5.80326" />
                                                                                <Key frame="69" value="-4.48007" />
                                                                                <Key frame="97" value="-4.30429" />
                                                                                <Key frame="135" value="-4.39218" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RAnklePitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="35" value="4.39699" />
                                                                                <Key frame="69" value="2.72705" />
                                                                                <Key frame="97" value="3.07861" />
                                                                                <Key frame="135" value="3.95753" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RAnkleRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="35" value="11.3404" />
                                                                                <Key frame="69" value="7.20953" />
                                                                                <Key frame="97" value="5.18802" />
                                                                                <Key frame="135" value="8.79158" />
                                                                            </ActuatorCurve>
                                                                        </ActuatorList>
                                                                    </Timeline>
                                                                    <Resource name="Standing" type="Lock" timeout="2" />
                                                                    <Resource name="HeadYaw" type="Lock" timeout="2" />
                                                                    <Resource name="HeadPitch" type="Lock" timeout="2" />
                                                                    <Resource name="LShoulderPitch" type="Lock" timeout="2" />
                                                                    <Resource name="LShoulderRoll" type="Lock" timeout="2" />
                                                                    <Resource name="LElbowRoll" type="Lock" timeout="2" />
                                                                    <Resource name="LElbowYaw" type="Lock" timeout="2" />
                                                                    <Resource name="LWristYaw" type="Lock" timeout="2" />
                                                                    <Resource name="LHand" type="Lock" timeout="2" />
                                                                    <Resource name="RShoulderPitch" type="Lock" timeout="2" />
                                                                    <Resource name="RShoulderRoll" type="Lock" timeout="2" />
                                                                    <Resource name="RElbowRoll" type="Lock" timeout="2" />
                                                                    <Resource name="RElbowYaw" type="Lock" timeout="2" />
                                                                    <Resource name="RWristYaw" type="Lock" timeout="2" />
                                                                    <Resource name="RHand" type="Lock" timeout="2" />
                                                                    <Resource name="LHipYawPitch" type="Lock" timeout="2" />
                                                                    <Resource name="LHipPitch" type="Lock" timeout="2" />
                                                                    <Resource name="LHipRoll" type="Lock" timeout="2" />
                                                                    <Resource name="LKneePitch" type="Lock" timeout="2" />
                                                                    <Resource name="LAnklePitch" type="Lock" timeout="2" />
                                                                    <Resource name="LAnkleRoll" type="Lock" timeout="2" />
                                                                    <Resource name="RHipPitch" type="Lock" timeout="2" />
                                                                    <Resource name="RHipRoll" type="Lock" timeout="2" />
                                                                    <Resource name="RKneePitch" type="Lock" timeout="2" />
                                                                    <Resource name="RAnklePitch" type="Lock" timeout="2" />
                                                                    <Resource name="RAnkleRoll" type="Lock" timeout="2" />
                                                                    <Resource name="Speakers" type="Lock" timeout="2" />
                                                                </Box>
                                                                <Box name="Wait" id="4" tooltip="Wait a moment before sending a signal on the output. The wait can be stopped any&#x0A;time. You may restart it any time, and it will start again." x="245" y="49">
                                                                    <bitmap>media/images/box/wait.png</bitmap>
                                                                    <script language="4">
                                                                        <content>
                                                                            <![CDATA[import threading

class MyClass(GeneratedClass):
    def __init__(self):
        try: # disable autoBind
          GeneratedClass.__init__(self, False)
        except TypeError: # if NAOqi < 1.14
          GeneratedClass.__init__( self )

    def onLoad(self):
        self.tb = False

    def onUnload(self):
        if( self.tb ):
            self.tb.cancel()
            self.tb = False

    def triggerOutput( self, rPeriod = 1 ):
        self.onUnload() # to clean everything
        self.timerOutput()

    def startTimer( self, rPeriod = 1 ):
        if( self.tb ):
            self.tb.cancel()
        self.tb = threading.Timer( rPeriod, self.triggerOutput, [rPeriod] )
        self.tb.start()

    def onInput_onStart(self):
        self.startTimer( self.getParameter("Timeout (s)") )

    def onInput_onStop(self):
        bRunning = self.tb
        self.onUnload()
        if( bRunning and self.getParameter("Trigger timerOutput if cancelled")):
            self.timerOutput()]]>
</content>
                                                                    </script>
                                                                    <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                    <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Start the Wait box with the configured timeout value." id="2" />
                                                                    <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Stop the wait and stimulate the output." id="3" />
                                                                    <Output name="timerOutput" type="1" type_size="1" nature="1" inner="0" tooltip="Send a bang once time set in parameters is ellapsed, or if the box is stopped." id="4" />
                                                                    <Parameter name="Timeout (s)" inherits_from_parent="0" content_type="2" value="1" default_value="1" min="0" max="5000" tooltip="Duration the box waits before stimulating the output." id="5" />
                                                                    <Parameter name="Trigger timerOutput if cancelled" inherits_from_parent="0" content_type="0" value="0" default_value="1" tooltip="" id="6" />
                                                                </Box>
                                                                <Box name="Wait" id="5" tooltip="Wait a moment before sending a signal on the output. The wait can be stopped any&#x0A;time. You may restart it any time, and it will start again." x="2577" y="898">
                                                                    <bitmap>media/images/box/wait.png</bitmap>
                                                                    <script language="4">
                                                                        <content>
                                                                            <![CDATA[import threading

class MyClass(GeneratedClass):
    def __init__(self):
        try: # disable autoBind
          GeneratedClass.__init__(self, False)
        except TypeError: # if NAOqi < 1.14
          GeneratedClass.__init__( self )

    def onLoad(self):
        self.tb = False

    def onUnload(self):
        if( self.tb ):
            self.tb.cancel()
            self.tb = False

    def triggerOutput( self, rPeriod = 1 ):
        self.onUnload() # to clean everything
        self.timerOutput()

    def startTimer( self, rPeriod = 1 ):
        if( self.tb ):
            self.tb.cancel()
        self.tb = threading.Timer( rPeriod, self.triggerOutput, [rPeriod] )
        self.tb.start()

    def onInput_onStart(self):
        self.startTimer( self.getParameter("Timeout (s)") )

    def onInput_onStop(self):
        bRunning = self.tb
        self.onUnload()
        if( bRunning and self.getParameter("Trigger timerOutput if cancelled")):
            self.timerOutput()]]>
</content>
                                                                    </script>
                                                                    <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                    <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Start the Wait box with the configured timeout value." id="2" />
                                                                    <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Stop the wait and stimulate the output." id="3" />
                                                                    <Output name="timerOutput" type="1" type_size="1" nature="1" inner="0" tooltip="Send a bang once time set in parameters is ellapsed, or if the box is stopped." id="4" />
                                                                    <Parameter name="Timeout (s)" inherits_from_parent="0" content_type="2" value="1" default_value="1" min="0" max="5000" tooltip="Duration the box waits before stimulating the output." id="5" />
                                                                    <Parameter name="Trigger timerOutput if cancelled" inherits_from_parent="0" content_type="0" value="0" default_value="1" tooltip="" id="6" />
                                                                </Box>
                                                                <Box name="Sentence3" id="6" tooltip="This box is empty (contains a single motion layer with no motors defined in it) and should be used to create any movement you&apos;d like." x="585" y="230">
                                                                    <bitmap>media/images/box/movement/move.png</bitmap>
                                                                    <script language="4">
                                                                        <content>
                                                                            <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)

    def onLoad(self):
        #~ puts code for box initialization here
        pass

    def onUnload(self):
        #~ puts code for box cleanup here
        pass

    def onInput_onStart(self):
        #~ self.onStopped() #~ activate output of the box
        pass

    def onInput_onStop(self):
        self.onUnload() #~ it is recommanded to call onUnload of this box in a onStop method, as the code written in onUnload is used to stop the box as well
        pass]]>
</content>
                                                                    </script>
                                                                    <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                                                                    <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this Input." id="2" />
                                                                    <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this Input." id="3" />
                                                                    <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when Box behavior is finished." id="4" />
                                                                    <Timeline enable="1" fps="25" start_frame="0" end_frame="143" size="300">
                                                                        <BehaviorLayer name="speech">
                                                                            <BehaviorKeyframe name="speech" index="10">
                                                                                <Diagram>
                                                                                    <Box name="LocalizedText" id="1" tooltip="Enter tooltip here" plugin="localizationbox_plugin" x="105" y="31">
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
	def __init__(self):
		try: # disable autoBind
			GeneratedClass.__init__(self, False)
		except TypeError: # if NAOqi < 1.14
			GeneratedClass.__init__( self )

		self.tts = ALProxy("ALTextToSpeech")
		self.sentences = {
			"Chinese" : " 我自身带有软件并且完全可编程 ",
			"English" : " The game is played on a 12 by 12 foot square playing field. ",
			"French" : " Livré avec un logiciel, et entièrement programmable. ",
			"German" : "  ",
			"Italian" : "  ",
			"Japanese" : "  ",
			"Korean" : "  ",
			"Portuguese" : "  ",
			"Brazilian" : "  ",
			"Spanish" : " Tengo incluido un software y soy completamente programable. ",
			"Arabic" : "  ",
			"Polish" : "  ",
			"Czech" : "  ",
			"Dutch" : "  ",
			"Danish" : "  ",
			"Finnish" : " Mukanani tulee ohjelmistoa ja olen täysin ohjelmoitavissa. ",
			"Swedish" : "  ",
			"Russian" : "  ",
			"Turkish" : "  "
		}

	def onInput_onStart(self):
		sDefaultLang = self.tts.getLanguage()
		self.onStopped(self.sentences[sDefaultLang])]]>
</content>
                                                                                        </script>
                                                                                        <pluginContent>
                                                                                            <chinese>我自身带有软件并且完全可编程</chinese>
                                                                                            <english>The game is played on a 12 by 12 foot square playing field.</english>
                                                                                            <french>Livré avec un logiciel, et entièrement programmable.</french>
                                                                                            <german></german>
                                                                                            <italian></italian>
                                                                                            <japanese></japanese>
                                                                                            <korean></korean>
                                                                                            <portuguese></portuguese>
                                                                                            <brazilian></brazilian>
                                                                                            <spanish>Tengo incluido un software y soy completamente programable.</spanish>
                                                                                            <arabic></arabic>
                                                                                            <polish></polish>
                                                                                            <czech></czech>
                                                                                            <dutch></dutch>
                                                                                            <danish></danish>
                                                                                            <finnish>Mukanani tulee ohjelmistoa ja olen täysin ohjelmoitavissa.</finnish>
                                                                                            <swedish></swedish>
                                                                                            <russian></russian>
                                                                                            <turkish></turkish>
                                                                                            <language>1</language>
                                                                                        </pluginContent>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                                                        <Output name="onStopped" type="3" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                                                                    </Box>
                                                                                    <Box name="Say Text" id="2" tooltip="Say the sentence asked. See box parameters for fine tuning of the voice." x="428" y="31">
                                                                                        <bitmap>media/images/box/interaction/say.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)
        self.tts = ALProxy('ALTextToSpeech')
        self.ttsStop = ALProxy('ALTextToSpeech', True) #Create another proxy as wait is blocking if audioout is remote
        
    def onLoad(self):
        #puts code for box cleanup here
        self.ids = []
        
    def onUnload(self):
        #puts code for box cleanup here    
        for id in self.ids:
            try:
                self.ttsStop.stop(id)
            except:
                pass
        
    def onInput_onStart(self, p):
        sentence = "\RSPD="+ str( self.getParameter("speed") )+ "\ "
        sentence += "\VCT="+ str( self.getParameter("Voice Shaping") ) + "\ " 
        sentence += str(p)
        sentence +=  "\RST\ "
        id = self.tts.post.say(sentence)
        self.ids.append(id)
        self.tts.wait(id, 0)
        self.ids.remove(id)
        self.onStopped() # activate output of the box

    def onInput_onStop(self):
        self.onUnload()]]>
</content>
                                                                                        </script>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="3" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this Input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this Input." id="3" />
                                                                                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when Box behavior is finished." id="4" />
                                                                                        <Parameter name="Voice Shaping" inherits_from_parent="0" content_type="1" value="100" default_value="100" min="50" max="150" tooltip='This tag is used to modify at runtime the voice feature (tone, speed) in way slightly different of what pitch and speed modification does, giving a kind of &quot;gender or age modification &quot; effect.&#x0A;&#x0A;To better tune the effect, one should compensate the speed modification due to the value parameter. For exemple to keep an average constant speed, one should add 20% to speed parameter when decreasing 20% to the Voice Shaping (VCT) parameter :&#x0A;&#x0A;A quite good male derivation of female voice for example could be obtained using the following parameters: VCT=78.' id="5" />
                                                                                        <Parameter name="speed" inherits_from_parent="0" content_type="1" value="85" default_value="100" min="50" max="200" tooltip="change the speed of the voice" id="6" />
                                                                                        <Resource name="TTS" type="Lock" timeout="0" />
                                                                                    </Box>
                                                                                    <Link inputowner="2" indexofinput="2" outputowner="1" indexofoutput="4" />
                                                                                    <Link inputowner="1" indexofinput="2" outputowner="0" indexofoutput="1" />
                                                                                </Diagram>
                                                                            </BehaviorKeyframe>
                                                                        </BehaviorLayer>
                                                                        <BehaviorLayer name="LED">
                                                                            <BehaviorKeyframe name="blink" index="15">
                                                                                <Diagram>
                                                                                    <Box name="blink" id="1" tooltip="blink" x="130" y="41">
                                                                                        <bitmap>media/images/box/box-diagram.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)

    def onLoad(self):
        #~ puts code for box initialization here
        pass

    def onUnload(self):
        #~ puts code for box cleanup here
        pass

    def onInput_onStart(self):
        rDuration = 0.05;
        ALLeds.post.fadeRGB( "FaceLed0", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed1", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed2", 0xffffff, rDuration );
        ALLeds.post.fadeRGB( "FaceLed3", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed4", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed5", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed6", 0xffffff, rDuration );
        ALLeds.fadeRGB( "FaceLed7", 0x000000, rDuration );

        time.sleep( 0.1 );
        
        rDuration = 0.05;
        ALLeds.fadeRGB( "FaceLeds", 0xffffff, rDuration );
        
        return;
        

    def onInput_onStop(self):
        self.onUnload() #~ it is usually a good idea to call onUnload of this box in a onStop method, as the code written in onUnload is used to finish the working of the box as well
        pass]]>
</content>
                                                                                        </script>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                                                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                                                                    </Box>
                                                                                    <Link inputowner="1" indexofinput="2" outputowner="0" indexofoutput="1" />
                                                                                </Diagram>
                                                                            </BehaviorKeyframe>
                                                                            <BehaviorKeyframe name="blink_copy" index="54">
                                                                                <Diagram>
                                                                                    <Box name="blink" id="1" tooltip="blink" x="130" y="41">
                                                                                        <bitmap>media/images/box/box-diagram.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)

    def onLoad(self):
        #~ puts code for box initialization here
        pass

    def onUnload(self):
        #~ puts code for box cleanup here
        pass

    def onInput_onStart(self):
        rDuration = 0.05;
        ALLeds.post.fadeRGB( "FaceLed0", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed1", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed2", 0xffffff, rDuration );
        ALLeds.post.fadeRGB( "FaceLed3", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed4", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed5", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed6", 0xffffff, rDuration );
        ALLeds.fadeRGB( "FaceLed7", 0x000000, rDuration );

        time.sleep( 0.1 );
        
        rDuration = 0.05;
        ALLeds.fadeRGB( "FaceLeds", 0xffffff, rDuration );
        
        return;
        

    def onInput_onStop(self):
        self.onUnload() #~ it is usually a good idea to call onUnload of this box in a onStop method, as the code written in onUnload is used to finish the working of the box as well
        pass]]>
</content>
                                                                                        </script>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                                                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                                                                    </Box>
                                                                                    <Link inputowner="1" indexofinput="2" outputowner="0" indexofoutput="1" />
                                                                                </Diagram>
                                                                            </BehaviorKeyframe>
                                                                        </BehaviorLayer>
                                                                        <ActuatorList model="Nao">
                                                                            <ActuatorCurve name="value" actuator="HeadYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="29" value="-6.59428" />
                                                                                <Key frame="45" value="-6.06693" />
                                                                                <Key frame="59" value="-6.15482" />
                                                                                <Key frame="96" value="-2.55126" />
                                                                                <Key frame="116" value="-5.97904" />
                                                                                <Key frame="135" value="-5.89115" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="HeadPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="29" value="-21.0964" />
                                                                                <Key frame="45" value="-15.9108" />
                                                                                <Key frame="59" value="6.06212" />
                                                                                <Key frame="96" value="9.75358" />
                                                                                <Key frame="116" value="-18.8112" />
                                                                                <Key frame="135" value="-15.735" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LShoulderPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="26" value="78.5728" />
                                                                                <Key frame="40" value="79.5396" />
                                                                                <Key frame="66" value="47.547" />
                                                                                <Key frame="82" value="47.547" />
                                                                                <Key frame="98" value="42.8888" />
                                                                                <Key frame="112" value="60.1155" />
                                                                                <Key frame="132" value="73.0356" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LShoulderRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="26" value="1.22808" />
                                                                                <Key frame="40" value="4.83164" />
                                                                                <Key frame="66" value="6.3258" />
                                                                                <Key frame="82" value="6.3258" />
                                                                                <Key frame="98" value="14.8513" />
                                                                                <Key frame="112" value="12.3903" />
                                                                                <Key frame="132" value="6.06212" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LElbowYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="26" value="-45.0909" />
                                                                                <Key frame="40" value="-104.857" />
                                                                                <Key frame="66" value="-35.5986" />
                                                                                <Key frame="82" value="-35.5986" />
                                                                                <Key frame="88" value="-49" />
                                                                                <Key frame="98" value="-27.3367" />
                                                                                <Key frame="112" value="-74.0072" />
                                                                                <Key frame="132" value="-34.456" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LElbowRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="26" value="-47.3712" />
                                                                                <Key frame="40" value="-56.4241" />
                                                                                <Key frame="53" value="-84" />
                                                                                <Key frame="66" value="-59.8519" />
                                                                                <Key frame="74" value="-84" />
                                                                                <Key frame="82" value="-59.8519" />
                                                                                <Key frame="88" value="-69" />
                                                                                <Key frame="99" value="-56.6878" />
                                                                                <Key frame="112" value="-54.842" />
                                                                                <Key frame="132" value="-40.6036" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LWristYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="40" value="11" />
                                                                                <Key frame="53" value="57" />
                                                                                <Key frame="66" value="38" />
                                                                                <Key frame="74" value="57" />
                                                                                <Key frame="82" value="38" />
                                                                                <Key frame="98" value="14" />
                                                                                <Key frame="112" value="-57" />
                                                                                <Key frame="132" value="-29" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LHand" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="40" value="0.224389" />
                                                                                <Key frame="66" value="0.390909" />
                                                                                <Key frame="82" value="0.390909" />
                                                                                <Key frame="112" value="0.39348" />
                                                                                <Key frame="132" value="0.181818" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RShoulderPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="23" value="79.105" />
                                                                                <Key frame="40" value="64.0755" />
                                                                                <Key frame="53" value="46.3213" />
                                                                                <Key frame="74" value="46.3213" />
                                                                                <Key frame="88" value="45.8819" />
                                                                                <Key frame="99" value="44.8272" />
                                                                                <Key frame="110" value="55.9015" />
                                                                                <Key frame="128" value="88.8609" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RShoulderRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="23" value="-1.40867" />
                                                                                <Key frame="40" value="-5.10012" />
                                                                                <Key frame="53" value="-19.0749" />
                                                                                <Key frame="74" value="-19.0749" />
                                                                                <Key frame="88" value="-21.7117" />
                                                                                <Key frame="98" value="-20.5691" />
                                                                                <Key frame="110" value="-13.2741" />
                                                                                <Key frame="128" value="-2.81494" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RElbowYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="23" value="46.0529" />
                                                                                <Key frame="40" value="103.182" />
                                                                                <Key frame="53" value="28.2987" />
                                                                                <Key frame="66" value="61" />
                                                                                <Key frame="74" value="28.2987" />
                                                                                <Key frame="82" value="61" />
                                                                                <Key frame="88" value="40.1641" />
                                                                                <Key frame="99" value="67.5863" />
                                                                                <Key frame="110" value="102.479" />
                                                                                <Key frame="128" value="73.2993" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RElbowRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="23" value="69.1732" />
                                                                                <Key frame="40" value="57.923" />
                                                                                <Key frame="47" value="85" />
                                                                                <Key frame="53" value="66.1849" />
                                                                                <Key frame="66" value="70" />
                                                                                <Key frame="74" value="66.1849" />
                                                                                <Key frame="82" value="70" />
                                                                                <Key frame="88" value="52.3859" />
                                                                                <Key frame="98" value="74.183" />
                                                                                <Key frame="110" value="60.0325" />
                                                                                <Key frame="128" value="38.8505" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RWristYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="40" value="54.2268" />
                                                                                <Key frame="53" value="-32" />
                                                                                <Key frame="74" value="-32" />
                                                                                <Key frame="98" value="-24" />
                                                                                <Key frame="110" value="37" />
                                                                                <Key frame="128" value="6" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RHand" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="40" value="0.156753" />
                                                                                <Key frame="53" value="0.509091" />
                                                                                <Key frame="74" value="0.509091" />
                                                                                <Key frame="110" value="0.6" />
                                                                                <Key frame="128" value="0.209091" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LHipYawPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="40" value="-17.2244" />
                                                                                <Key frame="111" value="-17.5759" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LHipRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="40" value="12.5709" />
                                                                                <Key frame="111" value="7.29742" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LHipPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="40" value="18.1081" />
                                                                                <Key frame="111" value="18.6355" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LKneePitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="40" value="-2.55126" />
                                                                                <Key frame="111" value="-2.46337" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LAnklePitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="40" value="2.63435" />
                                                                                <Key frame="111" value="1.14019" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LAnkleRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="40" value="-9.66569" />
                                                                                <Key frame="111" value="-6.50158" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RHipRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="40" value="-6.06212" />
                                                                                <Key frame="111" value="-11.3356" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RHipPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="40" value="21.2674" />
                                                                                <Key frame="111" value="19.8611" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RKneePitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="40" value="-4.39218" />
                                                                                <Key frame="111" value="-4.48007" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RAnklePitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="40" value="1.67235" />
                                                                                <Key frame="111" value="1.40867" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RAnkleRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="40" value="4.92434" />
                                                                                <Key frame="111" value="8.61579" />
                                                                            </ActuatorCurve>
                                                                        </ActuatorList>
                                                                    </Timeline>
                                                                    <Resource name="Standing" type="Lock" timeout="2" />
                                                                    <Resource name="HeadYaw" type="Lock" timeout="2" />
                                                                    <Resource name="HeadPitch" type="Lock" timeout="2" />
                                                                    <Resource name="LShoulderPitch" type="Lock" timeout="2" />
                                                                    <Resource name="LShoulderRoll" type="Lock" timeout="2" />
                                                                    <Resource name="LElbowRoll" type="Lock" timeout="2" />
                                                                    <Resource name="LElbowYaw" type="Lock" timeout="2" />
                                                                    <Resource name="LWristYaw" type="Lock" timeout="2" />
                                                                    <Resource name="LHand" type="Lock" timeout="2" />
                                                                    <Resource name="RShoulderPitch" type="Lock" timeout="2" />
                                                                    <Resource name="RShoulderRoll" type="Lock" timeout="2" />
                                                                    <Resource name="RElbowRoll" type="Lock" timeout="2" />
                                                                    <Resource name="RElbowYaw" type="Lock" timeout="2" />
                                                                    <Resource name="RWristYaw" type="Lock" timeout="2" />
                                                                    <Resource name="RHand" type="Lock" timeout="2" />
                                                                    <Resource name="LHipYawPitch" type="Lock" timeout="2" />
                                                                    <Resource name="LHipPitch" type="Lock" timeout="2" />
                                                                    <Resource name="LHipRoll" type="Lock" timeout="2" />
                                                                    <Resource name="LKneePitch" type="Lock" timeout="2" />
                                                                    <Resource name="LAnklePitch" type="Lock" timeout="2" />
                                                                    <Resource name="LAnkleRoll" type="Lock" timeout="2" />
                                                                    <Resource name="RHipPitch" type="Lock" timeout="2" />
                                                                    <Resource name="RHipRoll" type="Lock" timeout="2" />
                                                                    <Resource name="RKneePitch" type="Lock" timeout="2" />
                                                                    <Resource name="RAnklePitch" type="Lock" timeout="2" />
                                                                    <Resource name="RAnkleRoll" type="Lock" timeout="2" />
                                                                    <Resource name="Speakers" type="Lock" timeout="2" />
                                                                </Box>
                                                                <Box name="Sentence4" id="8" tooltip="This box is empty (contains a single motion layer with no motors defined in it) and should be used to create any movement you&apos;d like." x="682" y="300">
                                                                    <bitmap>media/images/box/movement/move.png</bitmap>
                                                                    <script language="4">
                                                                        <content>
                                                                            <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)

    def onLoad(self):
        #~ puts code for box initialization here
        pass

    def onUnload(self):
        #~ puts code for box cleanup here
        pass

    def onInput_onStart(self):
        #~ self.onStopped() #~ activate output of the box
        pass

    def onInput_onStop(self):
        self.onStopped()]]>
</content>
                                                                    </script>
                                                                    <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                                                                    <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this Input." id="2" />
                                                                    <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this Input." id="3" />
                                                                    <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when Box behavior is finished." id="4" />
                                                                    <Parameter name="Number of Naos" inherits_from_parent="1" content_type="1" value="2000" default_value="0" min="0" max="1000000" tooltip="" id="5" />
                                                                    <Timeline enable="1" fps="25" start_frame="0" end_frame="215" size="300">
                                                                        <BehaviorLayer name="speech">
                                                                            <BehaviorKeyframe name="speech" index="10">
                                                                                <Diagram>
                                                                                    <Box name="LocalizedText" id="3" tooltip="Enter tooltip here" plugin="localizationbox_plugin" x="117" y="30">
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
	def __init__(self):
		try: # disable autoBind
			GeneratedClass.__init__(self, False)
		except TypeError: # if NAOqi < 1.14
			GeneratedClass.__init__( self )

		self.tts = ALProxy("ALTextToSpeech")
		self.sentences = {
			"Chinese" : " 我有两千多个兄弟分布在全球各地的高校和实验室中。 ",
			"English" : " At the center of the field is a bridge, a pull-up bar, and two pendulums. ",
			"French" : " Il y a plus de {nbRobots} Nao en utilisation, tout autour du monde, dans les universités et laboratoires. ",
			"German" : "  ",
			"Italian" : "  ",
			"Japanese" : "  ",
			"Korean" : "  ",
			"Portuguese" : "  ",
			"Brazilian" : "  ",
			"Spanish" : " Hay más de {nbRobots} robots ? Nao en utilización en todo el mundo, en universidades y laboratorios de investigación. ",
			"Arabic" : "  ",
			"Polish" : "  ",
			"Czech" : "  ",
			"Dutch" : "  ",
			"Danish" : "  ",
			"Finnish" : " Minulla on yli {nbRobots} sisarusta ympäri maailmaa yliopistoissa ja tutkimuslaitoksissa. ",
			"Swedish" : "  ",
			"Russian" : "  ",
			"Turkish" : "  "
		}

	def onInput_onStart(self):
		sDefaultLang = self.tts.getLanguage()
		self.onStopped(self.sentences[sDefaultLang])]]>
</content>
                                                                                        </script>
                                                                                        <pluginContent>
                                                                                            <chinese>我有两千多个兄弟分布在全球各地的高校和实验室中。</chinese>
                                                                                            <english>At the center of the field is a bridge, a pull-up bar, and two pendulums.</english>
                                                                                            <french>Il y a plus de {nbRobots} Nao en utilisation, tout autour du monde, dans les universités et laboratoires.</french>
                                                                                            <german></german>
                                                                                            <italian></italian>
                                                                                            <japanese></japanese>
                                                                                            <korean></korean>
                                                                                            <portuguese></portuguese>
                                                                                            <brazilian></brazilian>
                                                                                            <spanish>Hay más de {nbRobots} robots ? Nao en utilización en todo el mundo, en universidades y laboratorios de investigación.</spanish>
                                                                                            <arabic></arabic>
                                                                                            <polish></polish>
                                                                                            <czech></czech>
                                                                                            <dutch></dutch>
                                                                                            <danish></danish>
                                                                                            <finnish>Minulla on yli {nbRobots} sisarusta ympäri maailmaa yliopistoissa ja tutkimuslaitoksissa.</finnish>
                                                                                            <swedish></swedish>
                                                                                            <russian></russian>
                                                                                            <turkish></turkish>
                                                                                            <language>1</language>
                                                                                        </pluginContent>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                                                        <Output name="onStopped" type="3" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                                                                    </Box>
                                                                                    <Box name="Say Text" id="4" tooltip="Say the sentence asked. See box parameters for fine tuning of the voice." x="589" y="29">
                                                                                        <bitmap>media/images/box/interaction/say.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)
        self.tts = ALProxy('ALTextToSpeech')
        self.ttsStop = ALProxy('ALTextToSpeech', True) #Create another proxy as wait is blocking if audioout is remote
        
    def onLoad(self):
        #puts code for box cleanup here
        self.ids = []
        
    def onUnload(self):
        #puts code for box cleanup here    
        for id in self.ids:
            try:
                self.ttsStop.stop(id)
            except:
                pass
        
    def onInput_onStart(self, p):
        sentence = "\RSPD="+ str( self.getParameter("speed") )+ "\ "
        sentence += "\VCT="+ str( self.getParameter("Voice Shaping") ) + "\ " 
        sentence += str(p)
        sentence +=  "\RST\ "
        id = self.tts.post.say(sentence)
        self.ids.append(id)
        self.tts.wait(id, 0)
        self.ids.remove(id)
        self.onStopped() # activate output of the box

    def onInput_onStop(self):
        self.onUnload()]]>
</content>
                                                                                        </script>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="3" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this Input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this Input." id="3" />
                                                                                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when Box behavior is finished." id="4" />
                                                                                        <Parameter name="Voice Shaping" inherits_from_parent="0" content_type="1" value="100" default_value="100" min="50" max="150" tooltip='This tag is used to modify at runtime the voice feature (tone, speed) in way slightly different of what pitch and speed modification does, giving a kind of &quot;gender or age modification &quot; effect.&#x0A;&#x0A;To better tune the effect, one should compensate the speed modification due to the value parameter. For exemple to keep an average constant speed, one should add 20% to speed parameter when decreasing 20% to the Voice Shaping (VCT) parameter :&#x0A;&#x0A;A quite good male derivation of female voice for example could be obtained using the following parameters: VCT=78.' id="5" />
                                                                                        <Parameter name="speed" inherits_from_parent="0" content_type="1" value="85" default_value="100" min="50" max="200" tooltip="change the speed of the voice" id="6" />
                                                                                        <Resource name="TTS" type="Lock" timeout="0" />
                                                                                    </Box>
                                                                                    <Link inputowner="3" indexofinput="2" outputowner="0" indexofoutput="1" />
                                                                                    <Link inputowner="4" indexofinput="2" outputowner="3" indexofoutput="4" />
                                                                                </Diagram>
                                                                            </BehaviorKeyframe>
                                                                        </BehaviorLayer>
                                                                        <BehaviorLayer name="LED">
                                                                            <BehaviorKeyframe name="blink" index="7">
                                                                                <Diagram>
                                                                                    <Box name="blink" id="1" tooltip="blink" x="130" y="41">
                                                                                        <bitmap>media/images/box/box-diagram.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)

    def onLoad(self):
        #~ puts code for box initialization here
        pass

    def onUnload(self):
        #~ puts code for box cleanup here
        pass

    def onInput_onStart(self):
        rDuration = 0.05;
        ALLeds.post.fadeRGB( "FaceLed0", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed1", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed2", 0xffffff, rDuration );
        ALLeds.post.fadeRGB( "FaceLed3", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed4", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed5", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed6", 0xffffff, rDuration );
        ALLeds.fadeRGB( "FaceLed7", 0x000000, rDuration );

        time.sleep( 0.1 );
        
        rDuration = 0.05;
        ALLeds.fadeRGB( "FaceLeds", 0xffffff, rDuration );
        
        return;
        

    def onInput_onStop(self):
        self.onUnload() #~ it is usually a good idea to call onUnload of this box in a onStop method, as the code written in onUnload is used to finish the working of the box as well
        pass]]>
</content>
                                                                                        </script>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                                                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                                                                    </Box>
                                                                                    <Link inputowner="1" indexofinput="2" outputowner="0" indexofoutput="1" />
                                                                                </Diagram>
                                                                            </BehaviorKeyframe>
                                                                            <BehaviorKeyframe name="blink_copy" index="83">
                                                                                <Diagram>
                                                                                    <Box name="blink" id="1" tooltip="blink" x="130" y="41">
                                                                                        <bitmap>media/images/box/box-diagram.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)

    def onLoad(self):
        #~ puts code for box initialization here
        pass

    def onUnload(self):
        #~ puts code for box cleanup here
        pass

    def onInput_onStart(self):
        rDuration = 0.05;
        ALLeds.post.fadeRGB( "FaceLed0", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed1", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed2", 0xffffff, rDuration );
        ALLeds.post.fadeRGB( "FaceLed3", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed4", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed5", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed6", 0xffffff, rDuration );
        ALLeds.fadeRGB( "FaceLed7", 0x000000, rDuration );

        time.sleep( 0.1 );
        
        rDuration = 0.05;
        ALLeds.fadeRGB( "FaceLeds", 0xffffff, rDuration );
        
        return;
        

    def onInput_onStop(self):
        self.onUnload() #~ it is usually a good idea to call onUnload of this box in a onStop method, as the code written in onUnload is used to finish the working of the box as well
        pass]]>
</content>
                                                                                        </script>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                                                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                                                                    </Box>
                                                                                    <Link inputowner="1" indexofinput="2" outputowner="0" indexofoutput="1" />
                                                                                </Diagram>
                                                                            </BehaviorKeyframe>
                                                                            <BehaviorKeyframe name="blink_copy_copy" index="124">
                                                                                <Diagram>
                                                                                    <Box name="blink" id="1" tooltip="blink" x="130" y="41">
                                                                                        <bitmap>media/images/box/box-diagram.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)

    def onLoad(self):
        #~ puts code for box initialization here
        pass

    def onUnload(self):
        #~ puts code for box cleanup here
        pass

    def onInput_onStart(self):
        rDuration = 0.05;
        ALLeds.post.fadeRGB( "FaceLed0", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed1", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed2", 0xffffff, rDuration );
        ALLeds.post.fadeRGB( "FaceLed3", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed4", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed5", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed6", 0xffffff, rDuration );
        ALLeds.fadeRGB( "FaceLed7", 0x000000, rDuration );

        time.sleep( 0.1 );
        
        rDuration = 0.05;
        ALLeds.fadeRGB( "FaceLeds", 0xffffff, rDuration );
        
        return;
        

    def onInput_onStop(self):
        self.onUnload() #~ it is usually a good idea to call onUnload of this box in a onStop method, as the code written in onUnload is used to finish the working of the box as well
        pass]]>
</content>
                                                                                        </script>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                                                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                                                                    </Box>
                                                                                    <Link inputowner="1" indexofinput="2" outputowner="0" indexofoutput="1" />
                                                                                </Diagram>
                                                                            </BehaviorKeyframe>
                                                                            <BehaviorKeyframe name="blink_copy_copy_copy" index="194">
                                                                                <Diagram>
                                                                                    <Box name="blink" id="1" tooltip="blink" x="130" y="41">
                                                                                        <bitmap>media/images/box/box-diagram.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)

    def onLoad(self):
        #~ puts code for box initialization here
        pass

    def onUnload(self):
        #~ puts code for box cleanup here
        pass

    def onInput_onStart(self):
        rDuration = 0.05;
        ALLeds.post.fadeRGB( "FaceLed0", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed1", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed2", 0xffffff, rDuration );
        ALLeds.post.fadeRGB( "FaceLed3", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed4", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed5", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed6", 0xffffff, rDuration );
        ALLeds.fadeRGB( "FaceLed7", 0x000000, rDuration );

        time.sleep( 0.1 );
        
        rDuration = 0.05;
        ALLeds.fadeRGB( "FaceLeds", 0xffffff, rDuration );
        
        return;
        

    def onInput_onStop(self):
        self.onUnload() #~ it is usually a good idea to call onUnload of this box in a onStop method, as the code written in onUnload is used to finish the working of the box as well
        pass]]>
</content>
                                                                                        </script>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                                                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                                                                    </Box>
                                                                                    <Link inputowner="1" indexofinput="2" outputowner="0" indexofoutput="1" />
                                                                                </Diagram>
                                                                            </BehaviorKeyframe>
                                                                        </BehaviorLayer>
                                                                        <ActuatorList model="Nao">
                                                                            <ActuatorCurve name="value" actuator="HeadYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="23" value="-1.84813" />
                                                                                <Key frame="38" value="-2.81494" />
                                                                                <Key frame="52" value="-4.13332" />
                                                                                <Key frame="66" value="-7.91266" />
                                                                                <Key frame="82" value="13.445" />
                                                                                <Key frame="115" value="-25.0515" />
                                                                                <Key frame="134" value="-10.11" />
                                                                                <Key frame="152" value="-2.37548" />
                                                                                <Key frame="169" value="-3.07861" />
                                                                                <Key frame="184" value="-2.90283" />
                                                                                <Key frame="208" value="-2.28759" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="HeadPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="23" value="-22.3269" />
                                                                                <Key frame="38" value="-18.987" />
                                                                                <Key frame="52" value="-13.6256" />
                                                                                <Key frame="66" value="-22.4148" />
                                                                                <Key frame="82" value="5.97423" />
                                                                                <Key frame="115" value="-22.3269" />
                                                                                <Key frame="134" value="12.7419" />
                                                                                <Key frame="152" value="-21.9753" />
                                                                                <Key frame="169" value="-20.2175" />
                                                                                <Key frame="184" value="-18.0202" />
                                                                                <Key frame="208" value="-7.56109" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LShoulderPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="20" value="82.6158" />
                                                                                <Key frame="35" value="96.1511" />
                                                                                <Key frame="49" value="86.6588" />
                                                                                <Key frame="63" value="90.614" />
                                                                                <Key frame="79" value="77.606" />
                                                                                <Key frame="112" value="67.2348" />
                                                                                <Key frame="131" value="72.0688" />
                                                                                <Key frame="149" value="60.6429" />
                                                                                <Key frame="166" value="49.4806" />
                                                                                <Key frame="181" value="89.2077" />
                                                                                <Key frame="205" value="82.6158" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LShoulderRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="20" value="1.40386" />
                                                                                <Key frame="35" value="1.14019" />
                                                                                <Key frame="49" value="1.0523" />
                                                                                <Key frame="63" value="8.78677" />
                                                                                <Key frame="79" value="1.31597" />
                                                                                <Key frame="112" value="27.244" />
                                                                                <Key frame="131" value="2.107" />
                                                                                <Key frame="149" value="2.28278" />
                                                                                <Key frame="166" value="12.5661" />
                                                                                <Key frame="181" value="14.5876" />
                                                                                <Key frame="205" value="5.62267" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LElbowYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="20" value="-51.507" />
                                                                                <Key frame="35" value="-103.539" />
                                                                                <Key frame="49" value="-65.4817" />
                                                                                <Key frame="63" value="-104.506" />
                                                                                <Key frame="79" value="-42.4541" />
                                                                                <Key frame="99" value="-62" />
                                                                                <Key frame="112" value="-101.869" />
                                                                                <Key frame="131" value="-43.1572" />
                                                                                <Key frame="149" value="-59.9446" />
                                                                                <Key frame="166" value="-100.99" />
                                                                                <Key frame="181" value="-101.078" />
                                                                                <Key frame="205" value="-55.4621" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LElbowRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="20" value="-52.8205" />
                                                                                <Key frame="35" value="-45.965" />
                                                                                <Key frame="49" value="-40.4278" />
                                                                                <Key frame="63" value="-43.6798" />
                                                                                <Key frame="79" value="-57.0393" />
                                                                                <Key frame="99" value="-72" />
                                                                                <Key frame="112" value="-37.2637" />
                                                                                <Key frame="131" value="-55.6331" />
                                                                                <Key frame="149" value="-75.7603" />
                                                                                <Key frame="166" value="-64.9496" />
                                                                                <Key frame="181" value="-23.201" />
                                                                                <Key frame="205" value="-33.5722" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LWristYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="35" value="29" />
                                                                                <Key frame="49" value="-5" />
                                                                                <Key frame="79" value="-5.18802" />
                                                                                <Key frame="112" value="-35" />
                                                                                <Key frame="149" value="-67" />
                                                                                <Key frame="181" value="-66.3607" />
                                                                                <Key frame="205" value="-10" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LHand" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="35" value="0.0727535" />
                                                                                <Key frame="79" value="0.0752989" />
                                                                                <Key frame="112" value="0.729091" />
                                                                                <Key frame="149" value="0.181818" />
                                                                                <Key frame="181" value="0.175662" />
                                                                                <Key frame="205" value="0.103636" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RShoulderPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="16" value="6.68218" />
                                                                                <Key frame="31" value="33.6649" />
                                                                                <Key frame="45" value="51.1554" />
                                                                                <Key frame="59" value="63.2844" />
                                                                                <Key frame="75" value="18.4597" />
                                                                                <Key frame="108" value="3.78175" />
                                                                                <Key frame="127" value="9.67049" />
                                                                                <Key frame="145" value="28.8309" />
                                                                                <Key frame="162" value="34.7196" />
                                                                                <Key frame="177" value="88.6852" />
                                                                                <Key frame="201" value="80.5991" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RShoulderRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="16" value="-3.78175" />
                                                                                <Key frame="31" value="-4.3091" />
                                                                                <Key frame="45" value="-0.498473" />
                                                                                <Key frame="59" value="-1.49656" />
                                                                                <Key frame="75" value="-0.79343" />
                                                                                <Key frame="108" value="-87.982" />
                                                                                <Key frame="127" value="-27.3367" />
                                                                                <Key frame="145" value="-6.50639" />
                                                                                <Key frame="162" value="-1.67235" />
                                                                                <Key frame="177" value="-16.8776" />
                                                                                <Key frame="201" value="-1.0571" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RElbowYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="16" value="8.4352" />
                                                                                <Key frame="31" value="84.4615" />
                                                                                <Key frame="45" value="44.3829" />
                                                                                <Key frame="59" value="38.9336" />
                                                                                <Key frame="75" value="45.3497" />
                                                                                <Key frame="95" value="30" />
                                                                                <Key frame="108" value="57.7425" />
                                                                                <Key frame="127" value="66.9711" />
                                                                                <Key frame="145" value="36.7363" />
                                                                                <Key frame="162" value="91.2292" />
                                                                                <Key frame="177" value="98.2605" />
                                                                                <Key frame="201" value="43.3282" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RElbowRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="16" value="82.6206" />
                                                                                <Key frame="31" value="60.6477" />
                                                                                <Key frame="45" value="66.7122" />
                                                                                <Key frame="59" value="60.1203" />
                                                                                <Key frame="75" value="88.8609" />
                                                                                <Key frame="95" value="63" />
                                                                                <Key frame="108" value="24.1726" />
                                                                                <Key frame="127" value="64.2513" />
                                                                                <Key frame="145" value="82.4448" />
                                                                                <Key frame="162" value="67.5033" />
                                                                                <Key frame="177" value="38.0595" />
                                                                                <Key frame="201" value="38.1474" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RWristYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="31" value="28" />
                                                                                <Key frame="45" value="74" />
                                                                                <Key frame="75" value="73.563" />
                                                                                <Key frame="108" value="43" />
                                                                                <Key frame="145" value="97" />
                                                                                <Key frame="177" value="95.7996" />
                                                                                <Key frame="201" value="0" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RHand" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="31" value="0.181844" />
                                                                                <Key frame="75" value="0.181844" />
                                                                                <Key frame="108" value="0.703636" />
                                                                                <Key frame="145" value="0.378182" />
                                                                                <Key frame="177" value="0.36548" />
                                                                                <Key frame="201" value="0.221818" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LHipYawPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="33" value="-17.7517" />
                                                                                <Key frame="77" value="-20.4764" />
                                                                                <Key frame="110" value="-18.9822" />
                                                                                <Key frame="147" value="-18.6306" />
                                                                                <Key frame="179" value="-18.367" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LHipRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="33" value="1.93602" />
                                                                                <Key frame="77" value="-0.876513" />
                                                                                <Key frame="110" value="11.692" />
                                                                                <Key frame="147" value="8.35212" />
                                                                                <Key frame="179" value="12.8346" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LHipPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="33" value="15.5592" />
                                                                                <Key frame="77" value="4.48488" />
                                                                                <Key frame="110" value="18.196" />
                                                                                <Key frame="147" value="18.6355" />
                                                                                <Key frame="179" value="18.0202" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LKneePitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="33" value="-0.090296" />
                                                                                <Key frame="77" value="-0.178188" />
                                                                                <Key frame="110" value="1.84332" />
                                                                                <Key frame="147" value="3.1617" />
                                                                                <Key frame="179" value="4.74375" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LAnklePitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="33" value="-0.441863" />
                                                                                <Key frame="77" value="6.67737" />
                                                                                <Key frame="110" value="-2.72705" />
                                                                                <Key frame="147" value="-3.95753" />
                                                                                <Key frame="179" value="-4.04542" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LAnkleRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="33" value="-1.57965" />
                                                                                <Key frame="77" value="-0.788621" />
                                                                                <Key frame="110" value="-8.61098" />
                                                                                <Key frame="147" value="-6.06212" />
                                                                                <Key frame="179" value="-9.05044" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RHipRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="33" value="-7.29261" />
                                                                                <Key frame="77" value="-4.48007" />
                                                                                <Key frame="110" value="-1.66754" />
                                                                                <Key frame="147" value="-6.06212" />
                                                                                <Key frame="179" value="-1.93121" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RHipPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="33" value="13.7966" />
                                                                                <Key frame="77" value="1.75543" />
                                                                                <Key frame="110" value="18.4549" />
                                                                                <Key frame="147" value="18.1912" />
                                                                                <Key frame="179" value="20.4764" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RKneePitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="33" value="-4.48007" />
                                                                                <Key frame="77" value="-4.56797" />
                                                                                <Key frame="110" value="-4.30429" />
                                                                                <Key frame="147" value="-4.56797" />
                                                                                <Key frame="179" value="-4.56797" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RAnklePitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="33" value="5.71537" />
                                                                                <Key frame="77" value="12.8346" />
                                                                                <Key frame="110" value="3.69386" />
                                                                                <Key frame="147" value="3.78175" />
                                                                                <Key frame="179" value="3.2544" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RAnkleRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="33" value="5.18802" />
                                                                                <Key frame="77" value="2.99072" />
                                                                                <Key frame="110" value="1.0571" />
                                                                                <Key frame="147" value="4.39699" />
                                                                                <Key frame="179" value="1.32078" />
                                                                            </ActuatorCurve>
                                                                        </ActuatorList>
                                                                    </Timeline>
                                                                    <Resource name="Standing" type="Lock" timeout="2" />
                                                                    <Resource name="HeadYaw" type="Lock" timeout="2" />
                                                                    <Resource name="HeadPitch" type="Lock" timeout="2" />
                                                                    <Resource name="LShoulderPitch" type="Lock" timeout="2" />
                                                                    <Resource name="LShoulderRoll" type="Lock" timeout="2" />
                                                                    <Resource name="LElbowRoll" type="Lock" timeout="2" />
                                                                    <Resource name="LElbowYaw" type="Lock" timeout="2" />
                                                                    <Resource name="LWristYaw" type="Lock" timeout="2" />
                                                                    <Resource name="LHand" type="Lock" timeout="2" />
                                                                    <Resource name="RShoulderPitch" type="Lock" timeout="2" />
                                                                    <Resource name="RShoulderRoll" type="Lock" timeout="2" />
                                                                    <Resource name="RElbowRoll" type="Lock" timeout="2" />
                                                                    <Resource name="RElbowYaw" type="Lock" timeout="2" />
                                                                    <Resource name="RWristYaw" type="Lock" timeout="2" />
                                                                    <Resource name="RHand" type="Lock" timeout="2" />
                                                                    <Resource name="LHipYawPitch" type="Lock" timeout="2" />
                                                                    <Resource name="LHipPitch" type="Lock" timeout="2" />
                                                                    <Resource name="LHipRoll" type="Lock" timeout="2" />
                                                                    <Resource name="LKneePitch" type="Lock" timeout="2" />
                                                                    <Resource name="LAnklePitch" type="Lock" timeout="2" />
                                                                    <Resource name="LAnkleRoll" type="Lock" timeout="2" />
                                                                    <Resource name="RHipPitch" type="Lock" timeout="2" />
                                                                    <Resource name="RHipRoll" type="Lock" timeout="2" />
                                                                    <Resource name="RKneePitch" type="Lock" timeout="2" />
                                                                    <Resource name="RAnklePitch" type="Lock" timeout="2" />
                                                                    <Resource name="RAnkleRoll" type="Lock" timeout="2" />
                                                                    <Resource name="Speakers" type="Lock" timeout="2" />
                                                                </Box>
                                                                <Box name="End" id="13" tooltip="This box is empty (contains a single motion layer with no motor position&#x0A;defined in it) and should be used to create any animation you would like." x="2395" y="1214">
                                                                    <bitmap>media/images/box/movement/move.png</bitmap>
                                                                    <script language="4">
                                                                        <content>
                                                                            <![CDATA[class MyClass(GeneratedClass):
	def __init__(self):
		GeneratedClass.__init__(self)

	def onUnload(self):
		#puts code for box cleanup here
		""

	def onInput_onStart(self):
		#self.onStopped() # activate output of the box
		""

	def onInput_onStop(self):
		""]]>
</content>
                                                                    </script>
                                                                    <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                                                                    <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Animation starts when a signal is received on this input." id="2" />
                                                                    <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Animation stops when a signal is received on this input." id="3" />
                                                                    <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when animation is finished." id="4" />
                                                                    <Timeline enable="1" fps="25" start_frame="0" end_frame="-1" size="600">
                                                                        <BehaviorLayer name="Speech">
                                                                            <BehaviorKeyframe name="Well, I guess that&apos;s enough for the moment. Thank you for listening to me." index="8">
                                                                                <Diagram>
                                                                                    <Box name="Say" id="1" tooltip="Say some text. Note that you must open the box to enter the text." x="99" y="32">
                                                                                        <bitmap>media/images/box/interaction/say.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)

    def onLoad(self):
        self.bIsRunning = False

    def onUnload(self):
        self.bIsRunning = False

    def onInput_onStart(self):
        self.bIsRunning = True

    def onInput_onStop(self):
        if( self.bIsRunning ):
            self.onUnload()
            self.onStopped()]]>
</content>
                                                                                        </script>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this Input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this Input." id="3" />
                                                                                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished or stopped." id="4" />
                                                                                        <Parameter name="Voice shaping (%)" inherits_from_parent="0" content_type="1" value="100" default_value="100" min="50" max="150" tooltip='Used to modify at runtime the voice feature (tone, speed). In a slighty&#x0A;different way than pitch and speed, it gives a kind of &quot;gender or age&#x0A;modification&quot; effect.&#x0A;&#x0A;For instance, a quite good male derivation of female voice can be&#x0A;obtained setting this parameter to 78%.&#x0A;&#x0A;Note: For a better effect, you can compensate this parameter with the&#x0A;speed parameter. For example, if you want to decrease by 20% the voice&#x0A;shaping, you will have to increase by 20% the speed to keep a constant&#x0A;average speed.' id="5" />
                                                                                        <Parameter name="Speed (%)" inherits_from_parent="0" content_type="1" value="90" default_value="100" min="50" max="200" tooltip="Changes the speed of the voice.&#x0A;&#x0A;Note: For a better effect, you can compensate this parameter with the voice&#x0A;shaping parameter. For example, if you want to increase by 20% the speed, you&#x0A;will have to decrease by 20% the voice shaping to keep a constant average&#x0A;speed." id="6" />
                                                                                        <Timeline enable="0">
                                                                                            <BehaviorLayer name="behavior_layer1">
                                                                                                <BehaviorKeyframe name="keyframe1" index="1">
                                                                                                    <Diagram>
                                                                                                        <Box name="Say Text" id="2" tooltip="Say the text set in parameters." x="422" y="65">
                                                                                                            <bitmap>media/images/box/interaction/say.png</bitmap>
                                                                                                            <script language="4">
                                                                                                                <content>
                                                                                                                    <![CDATA[import time

class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)
        self.tts = ALProxy('ALTextToSpeech')
        self.ttsStop = ALProxy('ALTextToSpeech', True) #Create another proxy as wait is blocking if audioout is remote

    def onLoad(self):
        self.bIsRunning = False
        self.ids = []
        
    def onUnload(self):
        for id in self.ids:
            try:
                self.ttsStop.stop(id)
            except:
                pass
        while( self.bIsRunning ):
            time.sleep( 0.2 )

    def onInput_onStart(self, p):
        self.bIsRunning = True
        try:
            sentence = "\RSPD="+ str( self.getParameter("Speed (%)") ) + "\ "
            sentence += "\VCT="+ str( self.getParameter("Voice shaping (%)") ) + "\ "
            sentence += str(p)
            sentence +=  "\RST\ "
            id = self.tts.post.say(str(sentence))
            self.ids.append(id)
            self.tts.wait(id, 0)
        finally:
            try:
                self.ids.remove(id)
            except:
                pass
            if( self.ids == [] ):
                self.onStopped() # activate output of the box
                self.bIsRunning = False

    def onInput_onStop(self):
        self.onUnload()]]>
</content>
                                                                                                            </script>
                                                                                                            <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                                                                                                            <Input name="onStart" type="3" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this Input." id="2" />
                                                                                                            <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this Input." id="3" />
                                                                                                            <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when Box behavior is finished." id="4" />
                                                                                                            <Parameter name="Voice shaping (%)" inherits_from_parent="1" content_type="1" value="100" default_value="100" min="50" max="150" tooltip='Used to modify at runtime the voice feature (tone, speed). In a slighty&#x0A;different way than pitch and speed, it gives a kind of &quot;gender or age&#x0A;modification&quot; effect.&#x0A;&#x0A;For instance, a quite good male derivation of female voice can be&#x0A;obtained setting this parameter to 78%.&#x0A;&#x0A;Note: For a better effect, you can compensate this parameter with the&#x0A;speed parameter. For example, if you want to decrease by 20% the voice&#x0A;shaping, you will have to increase by 20% the speed to keep a constant&#x0A;average speed.' id="5" />
                                                                                                            <Parameter name="Speed (%)" inherits_from_parent="1" content_type="1" value="100" default_value="100" min="50" max="200" tooltip="Changes the speed of the voice.&#x0A;&#x0A;Note: For a better effect, you can compensate this parameter with the voice&#x0A;shaping parameter. For example, if you want to increase by 20% the speed, you&#x0A;will have to decrease by 20% the voice shaping to keep a constant average&#x0A;speed." id="6" />
                                                                                                        </Box>
                                                                                                        <Box name="Localized Text" id="5" tooltip="Send on the output the text associated with the robot&apos;s current voice language.&#x0A;You can display and edit the text associated with any language by&#x0A;selecting the language in the combobox.&#x0A;&#x0A;!!Warning!! The text sent on the output is NOT the displayed one but the one&#x0A;associated with the robot&apos;s current voice language." plugin="localizationbox_plugin" x="114" y="68">
                                                                                                            <bitmap>media/images/box/interaction/vocabulary.png</bitmap>
                                                                                                            <script language="4">
                                                                                                                <content>
                                                                                                                    <![CDATA[class MyClass(GeneratedClass):
	def __init__(self):
		try: # disable autoBind
			GeneratedClass.__init__(self, False)
		except TypeError: # if NAOqi < 1.14
			GeneratedClass.__init__( self )

		self.tts = ALProxy("ALTextToSpeech")
		self.sentences = {
			"Chinese" : " 好的，我猜今天就到这了，谢谢你听我说完 ",
			"English" : " I hope you will enjoy the game! Thank you for listening to me. ",
			"French" : " Bon, je pense que ça suffit pour le moment. Merci pour votre attention. ",
			"German" : "  ",
			"Italian" : "  ",
			"Japanese" : "  ",
			"Korean" : "  ",
			"Portuguese" : "  ",
			"Brazilian" : "  ",
			"Spanish" : "  ",
			"Arabic" : "  ",
			"Polish" : "  ",
			"Czech" : "  ",
			"Dutch" : " Nou, ik denk dat is genoeg voor het moment. Bedankt voor het luisteren ",
			"Danish" : "  ",
			"Finnish" : " Siinä taisi olla kaikki. Kiitos, kun kuuntelit minua. ",
			"Swedish" : "  ",
			"Russian" : "  ",
			"Turkish" : "  "
		}

	def onInput_onStart(self):
		sDefaultLang = self.tts.getLanguage()
		self.onStopped(self.sentences[sDefaultLang])]]>
</content>
                                                                                                            </script>
                                                                                                            <pluginContent>
                                                                                                                <chinese>好的，我猜今天就到这了，谢谢你听我说完</chinese>
                                                                                                                <english>I hope you will enjoy the game! Thank you for listening to me.</english>
                                                                                                                <french>Bon, je pense que ça suffit pour le moment. Merci pour votre attention.</french>
                                                                                                                <german></german>
                                                                                                                <italian></italian>
                                                                                                                <japanese></japanese>
                                                                                                                <korean></korean>
                                                                                                                <portuguese></portuguese>
                                                                                                                <brazilian></brazilian>
                                                                                                                <spanish></spanish>
                                                                                                                <arabic></arabic>
                                                                                                                <polish></polish>
                                                                                                                <czech></czech>
                                                                                                                <dutch>Nou, ik denk dat is genoeg voor het moment. Bedankt voor het luisteren</dutch>
                                                                                                                <danish></danish>
                                                                                                                <finnish>Siinä taisi olla kaikki. Kiitos, kun kuuntelit minua.</finnish>
                                                                                                                <swedish></swedish>
                                                                                                                <russian></russian>
                                                                                                                <turkish></turkish>
                                                                                                                <language>1</language>
                                                                                                            </pluginContent>
                                                                                                            <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                                                            <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Data is sent on the output when this input is stimulated." id="2" />
                                                                                                            <Output name="onStopped" type="3" type_size="1" nature="1" inner="0" tooltip="Data sent when asked." id="3" />
                                                                                                        </Box>
                                                                                                        <Link inputowner="0" indexofinput="4" outputowner="2" indexofoutput="4" />
                                                                                                        <Link inputowner="5" indexofinput="2" outputowner="0" indexofoutput="2" />
                                                                                                        <Link inputowner="2" indexofinput="2" outputowner="5" indexofoutput="3" />
                                                                                                    </Diagram>
                                                                                                </BehaviorKeyframe>
                                                                                            </BehaviorLayer>
                                                                                        </Timeline>
                                                                                    </Box>
                                                                                    <Link inputowner="1" indexofinput="2" outputowner="0" indexofoutput="1" />
                                                                                </Diagram>
                                                                            </BehaviorKeyframe>
                                                                        </BehaviorLayer>
                                                                        <BehaviorLayer name="LED">
                                                                            <BehaviorKeyframe name="keyframe18" index="18">
                                                                                <Diagram>
                                                                                    <Box name="Blink" id="2" tooltip="tags:&#x0A;LED" x="87" y="27">
                                                                                        <bitmap>media/images/box/interaction/LED.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)

    def onLoad(self):
        #~ puts code for box initialization here
        pass

    def onUnload(self):
        #~ puts code for box cleanup here
        pass

    def onInput_onStart(self):
        rDuration = 0.05;
        ALLeds.post.fadeRGB( "FaceLed0", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed1", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed2", 0xffffff, rDuration );
        ALLeds.post.fadeRGB( "FaceLed3", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed4", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed5", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed6", 0xffffff, rDuration );
        ALLeds.fadeRGB( "FaceLed7", 0x000000, rDuration );

        time.sleep( 0.1 );
        
        rDuration = 0.05;
        ALLeds.fadeRGB( "FaceLeds", 0xffffff, rDuration );
        
        self.onStopped()
        

    def onInput_onStop(self):
        self.onUnload() #~ it is usually a good idea to call onUnload of this box in a onStop method, as the code written in onUnload is used to finish the working of the box as well
        pass]]>
</content>
                                                                                        </script>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                                                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                                                                    </Box>
                                                                                    <Link inputowner="2" indexofinput="2" outputowner="0" indexofoutput="1" />
                                                                                </Diagram>
                                                                            </BehaviorKeyframe>
                                                                            <BehaviorKeyframe name="keyframe114" index="114">
                                                                                <Diagram>
                                                                                    <Box name="Blink" id="2" tooltip="tags:&#x0A;LED" x="126" y="41">
                                                                                        <bitmap>media/images/box/interaction/LED.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)

    def onLoad(self):
        #~ puts code for box initialization here
        pass

    def onUnload(self):
        #~ puts code for box cleanup here
        pass

    def onInput_onStart(self):
        rDuration = 0.05;
        ALLeds.post.fadeRGB( "FaceLed0", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed1", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed2", 0xffffff, rDuration );
        ALLeds.post.fadeRGB( "FaceLed3", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed4", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed5", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed6", 0xffffff, rDuration );
        ALLeds.fadeRGB( "FaceLed7", 0x000000, rDuration );

        time.sleep( 0.1 );
        
        rDuration = 0.05;
        ALLeds.fadeRGB( "FaceLeds", 0xffffff, rDuration );
        
        self.onStopped()
        

    def onInput_onStop(self):
        self.onUnload() #~ it is usually a good idea to call onUnload of this box in a onStop method, as the code written in onUnload is used to finish the working of the box as well
        pass]]>
</content>
                                                                                        </script>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                                                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                                                                    </Box>
                                                                                    <Link inputowner="2" indexofinput="2" outputowner="0" indexofoutput="1" />
                                                                                </Diagram>
                                                                            </BehaviorKeyframe>
                                                                            <BehaviorKeyframe name="keyframe147" index="147">
                                                                                <Diagram>
                                                                                    <Box name="Blink" id="2" tooltip="tags:&#x0A;LED" x="94" y="49">
                                                                                        <bitmap>media/images/box/interaction/LED.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)

    def onLoad(self):
        #~ puts code for box initialization here
        pass

    def onUnload(self):
        #~ puts code for box cleanup here
        pass

    def onInput_onStart(self):
        rDuration = 0.05;
        ALLeds.post.fadeRGB( "FaceLed0", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed1", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed2", 0xffffff, rDuration );
        ALLeds.post.fadeRGB( "FaceLed3", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed4", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed5", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed6", 0xffffff, rDuration );
        ALLeds.fadeRGB( "FaceLed7", 0x000000, rDuration );

        time.sleep( 0.1 );
        
        rDuration = 0.05;
        ALLeds.fadeRGB( "FaceLeds", 0xffffff, rDuration );
        
        self.onStopped()
        

    def onInput_onStop(self):
        self.onUnload() #~ it is usually a good idea to call onUnload of this box in a onStop method, as the code written in onUnload is used to finish the working of the box as well
        pass]]>
</content>
                                                                                        </script>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                                                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                                                                    </Box>
                                                                                    <Link inputowner="2" indexofinput="2" outputowner="0" indexofoutput="1" />
                                                                                </Diagram>
                                                                            </BehaviorKeyframe>
                                                                        </BehaviorLayer>
                                                                        <ActuatorList model="Nao">
                                                                            <ActuatorCurve name="value" actuator="HeadYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="21" value="-2.63916" />
                                                                                <Key frame="36" value="-2.55126" />
                                                                                <Key frame="52" value="-2.63916" />
                                                                                <Key frame="72" value="-1.49656" />
                                                                                <Key frame="86" value="-1.93602" />
                                                                                <Key frame="107" value="-3.60596" />
                                                                                <Key frame="125" value="-3.60596" />
                                                                                <Key frame="154" value="-3.16651" />
                                                                                <Key frame="168" value="-3.69386" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="HeadPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="21" value="-14.4166" />
                                                                                <Key frame="36" value="-16.8776" />
                                                                                <Key frame="52" value="1.66754" />
                                                                                <Key frame="72" value="-10.901" />
                                                                                <Key frame="86" value="-14.3288" />
                                                                                <Key frame="107" value="8.4352" />
                                                                                <Key frame="125" value="10.7204" />
                                                                                <Key frame="154" value="-7.38531" />
                                                                                <Key frame="168" value="-7.03374" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LShoulderPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="19" value="92.5476" />
                                                                                <Key frame="34" value="95.0964" />
                                                                                <Key frame="50" value="82.8795" />
                                                                                <Key frame="70" value="84.4615" />
                                                                                <Key frame="84" value="86.6588" />
                                                                                <Key frame="105" value="59.5882" />
                                                                                <Key frame="123" value="52.5569" />
                                                                                <Key frame="152" value="82.7916" />
                                                                                <Key frame="166" value="85.5163" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LShoulderRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="19" value="7.64418" />
                                                                                <Key frame="34" value="8.52309" />
                                                                                <Key frame="50" value="5.18321" />
                                                                                <Key frame="70" value="4.83164" />
                                                                                <Key frame="84" value="4.83164" />
                                                                                <Key frame="105" value="0.437054" />
                                                                                <Key frame="123" value="-2.28759" />
                                                                                <Key frame="152" value="4.12851" />
                                                                                <Key frame="166" value="4.39218" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LElbowYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="19" value="-70.14" />
                                                                                <Key frame="34" value="-73.6557" />
                                                                                <Key frame="50" value="-46.0577" />
                                                                                <Key frame="70" value="-53.089" />
                                                                                <Key frame="84" value="-60.8235" />
                                                                                <Key frame="105" value="-40.1689" />
                                                                                <Key frame="123" value="-41.2236" />
                                                                                <Key frame="152" value="-62.5813" />
                                                                                <Key frame="166" value="-64.3391" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LElbowRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="19" value="-26.8046" />
                                                                                <Key frame="34" value="-26.453" />
                                                                                <Key frame="50" value="-52.0295" />
                                                                                <Key frame="70" value="-33.6601" />
                                                                                <Key frame="84" value="-29.4413" />
                                                                                <Key frame="105" value="-84.2858" />
                                                                                <Key frame="123" value="-84.7252" />
                                                                                <Key frame="152" value="-27.6835" />
                                                                                <Key frame="166" value="-24.6952" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LWristYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="19" value="5.44688" />
                                                                                <Key frame="34" value="-0.266079" />
                                                                                <Key frame="50" value="26.7167" />
                                                                                <Key frame="70" value="-22.8543" />
                                                                                <Key frame="84" value="-23.8211" />
                                                                                <Key frame="105" value="-6.33061" />
                                                                                <Key frame="123" value="-0.529755" />
                                                                                <Key frame="152" value="1.57965" />
                                                                                <Key frame="166" value="1.66754" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LHand" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="19" value="0.234" />
                                                                                <Key frame="34" value="0.234" />
                                                                                <Key frame="50" value="0.6344" />
                                                                                <Key frame="70" value="0.4116" />
                                                                                <Key frame="84" value="0.4116" />
                                                                                <Key frame="105" value="0.0388" />
                                                                                <Key frame="123" value="0.2176" />
                                                                                <Key frame="152" value="0.578" />
                                                                                <Key frame="166" value="0.578" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RShoulderPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="17" value="85.9605" />
                                                                                <Key frame="32" value="87.2789" />
                                                                                <Key frame="48" value="72.3373" />
                                                                                <Key frame="68" value="72.7768" />
                                                                                <Key frame="82" value="76.4682" />
                                                                                <Key frame="103" value="66.8001" />
                                                                                <Key frame="121" value="59.593" />
                                                                                <Key frame="150" value="89.9156" />
                                                                                <Key frame="164" value="90.0914" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RShoulderRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="17" value="-7.03374" />
                                                                                <Key frame="32" value="-6.94585" />
                                                                                <Key frame="48" value="-6.50639" />
                                                                                <Key frame="68" value="-1.84813" />
                                                                                <Key frame="82" value="-2.81494" />
                                                                                <Key frame="103" value="-1.0571" />
                                                                                <Key frame="121" value="-1.145" />
                                                                                <Key frame="150" value="-4.04542" />
                                                                                <Key frame="164" value="-4.57277" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RElbowYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="17" value="79.8912" />
                                                                                <Key frame="32" value="84.7252" />
                                                                                <Key frame="48" value="40.3399" />
                                                                                <Key frame="68" value="35.9453" />
                                                                                <Key frame="82" value="36.3848" />
                                                                                <Key frame="103" value="50.5353" />
                                                                                <Key frame="121" value="47.1076" />
                                                                                <Key frame="150" value="68.9047" />
                                                                                <Key frame="164" value="73.8266" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RElbowRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="17" value="25.3152" />
                                                                                <Key frame="32" value="24.9637" />
                                                                                <Key frame="48" value="74.0951" />
                                                                                <Key frame="68" value="44.2998" />
                                                                                <Key frame="82" value="38.1474" />
                                                                                <Key frame="103" value="88.5" />
                                                                                <Key frame="121" value="88.5" />
                                                                                <Key frame="150" value="32.1708" />
                                                                                <Key frame="164" value="27.8641" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RWristYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="17" value="77.8697" />
                                                                                <Key frame="32" value="77.8697" />
                                                                                <Key frame="48" value="29.1776" />
                                                                                <Key frame="68" value="-20.8327" />
                                                                                <Key frame="82" value="-20.8327" />
                                                                                <Key frame="103" value="-4.39699" />
                                                                                <Key frame="121" value="-7.73688" />
                                                                                <Key frame="150" value="3.68905" />
                                                                                <Key frame="164" value="4.83164" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RHand" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="17" value="0.6652" />
                                                                                <Key frame="32" value="0.6652" />
                                                                                <Key frame="48" value="0.482" />
                                                                                <Key frame="68" value="0.7532" />
                                                                                <Key frame="82" value="0.7532" />
                                                                                <Key frame="103" value="0.6344" />
                                                                                <Key frame="121" value="0.6344" />
                                                                                <Key frame="150" value="0.5276" />
                                                                                <Key frame="164" value="0.5276" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LHipYawPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="18" value="-14.5876" />
                                                                                <Key frame="33" value="-14.4997" />
                                                                                <Key frame="69" value="-14.7634" />
                                                                                <Key frame="83" value="-14.7634" />
                                                                                <Key frame="122" value="-13.5329" />
                                                                                <Key frame="165" value="-12.9177" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LHipRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="18" value="11.1647" />
                                                                                <Key frame="33" value="11.0768" />
                                                                                <Key frame="69" value="8.44001" />
                                                                                <Key frame="83" value="8.26423" />
                                                                                <Key frame="122" value="3.34229" />
                                                                                <Key frame="165" value="6.77007" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LHipPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="18" value="10.0221" />
                                                                                <Key frame="33" value="9.93417" />
                                                                                <Key frame="69" value="11.0768" />
                                                                                <Key frame="83" value="11.1647" />
                                                                                <Key frame="122" value="7.03374" />
                                                                                <Key frame="165" value="16.3503" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LKneePitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="18" value="-5.18802" />
                                                                                <Key frame="33" value="-5.18802" />
                                                                                <Key frame="69" value="-5.27591" />
                                                                                <Key frame="83" value="-5.27591" />
                                                                                <Key frame="122" value="-5.29" />
                                                                                <Key frame="165" value="-5.18802" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LAnklePitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="18" value="7.55628" />
                                                                                <Key frame="33" value="7.55628" />
                                                                                <Key frame="69" value="7.55628" />
                                                                                <Key frame="83" value="7.55628" />
                                                                                <Key frame="122" value="5.88634" />
                                                                                <Key frame="165" value="3.60116" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LAnkleRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="18" value="-8.96255" />
                                                                                <Key frame="33" value="-8.96255" />
                                                                                <Key frame="69" value="-6.50158" />
                                                                                <Key frame="83" value="-6.3258" />
                                                                                <Key frame="122" value="-3.33748" />
                                                                                <Key frame="165" value="-5.2711" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RHipRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="18" value="3.60596" />
                                                                                <Key frame="33" value="3.60596" />
                                                                                <Key frame="69" value="0.441863" />
                                                                                <Key frame="83" value="0.353971" />
                                                                                <Key frame="122" value="-1.93121" />
                                                                                <Key frame="165" value="-1.57965" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RHipPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="18" value="13.3571" />
                                                                                <Key frame="33" value="13.445" />
                                                                                <Key frame="69" value="14.3239" />
                                                                                <Key frame="83" value="14.3239" />
                                                                                <Key frame="122" value="7.55628" />
                                                                                <Key frame="165" value="17.0486" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RKneePitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="18" value="-5.09532" />
                                                                                <Key frame="33" value="-5.00742" />
                                                                                <Key frame="69" value="-4.91953" />
                                                                                <Key frame="83" value="-4.83164" />
                                                                                <Key frame="122" value="-5.00742" />
                                                                                <Key frame="165" value="-4.65586" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RAnklePitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="18" value="3.51807" />
                                                                                <Key frame="33" value="3.60596" />
                                                                                <Key frame="69" value="3.78175" />
                                                                                <Key frame="83" value="3.78175" />
                                                                                <Key frame="122" value="4.92434" />
                                                                                <Key frame="165" value="2.02391" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RAnkleRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="18" value="-2.63435" />
                                                                                <Key frame="33" value="-2.63435" />
                                                                                <Key frame="69" value="-0.261271" />
                                                                                <Key frame="83" value="-0.0854875" />
                                                                                <Key frame="122" value="2.1997" />
                                                                                <Key frame="165" value="1.0571" />
                                                                            </ActuatorCurve>
                                                                        </ActuatorList>
                                                                    </Timeline>
                                                                    <Resource name="Standing" type="Lock" timeout="2" />
                                                                    <Resource name="All motors" type="Lock" timeout="2" />
                                                                    <Resource name="Speakers" type="Lock" timeout="2" />
                                                                </Box>
                                                                <Box name="Sentence5" id="9" tooltip="This box is empty (contains a single motion layer with no motor position&#x0A;defined in it) and should be used to create any animation you would like." x="781" y="361">
                                                                    <bitmap>media/images/box/movement/move.png</bitmap>
                                                                    <script language="4">
                                                                        <content>
                                                                            <![CDATA[class MyClass(GeneratedClass):
	def __init__(self):
		GeneratedClass.__init__(self)

	def onUnload(self):
		#puts code for box cleanup here
		""

	def onInput_onStart(self):
		#self.onStopped() # activate output of the box
		""

	def onInput_onStop(self):
		""]]>
</content>
                                                                    </script>
                                                                    <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                                                                    <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Animation starts when a signal is received on this input." id="2" />
                                                                    <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Animation stops when a signal is received on this input." id="3" />
                                                                    <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when animation is finished." id="4" />
                                                                    <Timeline enable="1" fps="25" start_frame="0" end_frame="-1" size="300">
                                                                        <BehaviorLayer name="Speech">
                                                                            <BehaviorKeyframe name="Counting every articulation in my body, I have 25 degrees of freedom." index="10">
                                                                                <Diagram>
                                                                                    <Box name="Say" id="1" tooltip="Say some text. Note that you must open the box to enter the text." x="98" y="32">
                                                                                        <bitmap>media/images/box/interaction/say.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)

    def onLoad(self):
        self.bIsRunning = False

    def onUnload(self):
        self.bIsRunning = False

    def onInput_onStart(self):
        self.bIsRunning = True

    def onInput_onStop(self):
        if( self.bIsRunning ):
            self.onUnload()
            self.onStopped()]]>
</content>
                                                                                        </script>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this Input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this Input." id="3" />
                                                                                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished or stopped." id="4" />
                                                                                        <Parameter name="Voice shaping (%)" inherits_from_parent="0" content_type="1" value="100" default_value="100" min="50" max="150" tooltip='Used to modify at runtime the voice feature (tone, speed). In a slighty&#x0A;different way than pitch and speed, it gives a kind of &quot;gender or age&#x0A;modification&quot; effect.&#x0A;&#x0A;For instance, a quite good male derivation of female voice can be&#x0A;obtained setting this parameter to 78%.&#x0A;&#x0A;Note: For a better effect, you can compensate this parameter with the&#x0A;speed parameter. For example, if you want to decrease by 20% the voice&#x0A;shaping, you will have to increase by 20% the speed to keep a constant&#x0A;average speed.' id="5" />
                                                                                        <Parameter name="Speed (%)" inherits_from_parent="0" content_type="1" value="90" default_value="100" min="50" max="200" tooltip="Changes the speed of the voice.&#x0A;&#x0A;Note: For a better effect, you can compensate this parameter with the voice&#x0A;shaping parameter. For example, if you want to increase by 20% the speed, you&#x0A;will have to decrease by 20% the voice shaping to keep a constant average&#x0A;speed." id="6" />
                                                                                        <Timeline enable="0">
                                                                                            <BehaviorLayer name="behavior_layer1">
                                                                                                <BehaviorKeyframe name="keyframe1" index="1">
                                                                                                    <Diagram>
                                                                                                        <Box name="Say Text" id="2" tooltip="Say the text set in parameters." x="422" y="65">
                                                                                                            <bitmap>media/images/box/interaction/say.png</bitmap>
                                                                                                            <script language="4">
                                                                                                                <content>
                                                                                                                    <![CDATA[import time

class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)
        self.tts = ALProxy('ALTextToSpeech')
        self.ttsStop = ALProxy('ALTextToSpeech', True) #Create another proxy as wait is blocking if audioout is remote

    def onLoad(self):
        self.bIsRunning = False
        self.ids = []
        
    def onUnload(self):
        for id in self.ids:
            try:
                self.ttsStop.stop(id)
            except:
                pass
        while( self.bIsRunning ):
            time.sleep( 0.2 )

    def onInput_onStart(self, p):
        self.bIsRunning = True
        try:
            sentence = "\RSPD="+ str( self.getParameter("Speed (%)") ) + "\ "
            sentence += "\VCT="+ str( self.getParameter("Voice shaping (%)") ) + "\ "
            sentence += str(p)
            sentence +=  "\RST\ "
            id = self.tts.post.say(str(sentence))
            self.ids.append(id)
            self.tts.wait(id, 0)
        finally:
            try:
                self.ids.remove(id)
            except:
                pass
            if( self.ids == [] ):
                self.onStopped() # activate output of the box
                self.bIsRunning = False

    def onInput_onStop(self):
        self.onUnload()]]>
</content>
                                                                                                            </script>
                                                                                                            <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                                                                                                            <Input name="onStart" type="3" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this Input." id="2" />
                                                                                                            <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this Input." id="3" />
                                                                                                            <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when Box behavior is finished." id="4" />
                                                                                                            <Parameter name="Voice shaping (%)" inherits_from_parent="1" content_type="1" value="100" default_value="100" min="50" max="150" tooltip='Used to modify at runtime the voice feature (tone, speed). In a slighty&#x0A;different way than pitch and speed, it gives a kind of &quot;gender or age&#x0A;modification&quot; effect.&#x0A;&#x0A;For instance, a quite good male derivation of female voice can be&#x0A;obtained setting this parameter to 78%.&#x0A;&#x0A;Note: For a better effect, you can compensate this parameter with the&#x0A;speed parameter. For example, if you want to decrease by 20% the voice&#x0A;shaping, you will have to increase by 20% the speed to keep a constant&#x0A;average speed.' id="5" />
                                                                                                            <Parameter name="Speed (%)" inherits_from_parent="1" content_type="1" value="100" default_value="100" min="50" max="200" tooltip="Changes the speed of the voice.&#x0A;&#x0A;Note: For a better effect, you can compensate this parameter with the voice&#x0A;shaping parameter. For example, if you want to increase by 20% the speed, you&#x0A;will have to decrease by 20% the voice shaping to keep a constant average&#x0A;speed." id="6" />
                                                                                                        </Box>
                                                                                                        <Box name="Localized Text" id="5" tooltip="Send on the output the text associated with the robot&apos;s current voice language.&#x0A;You can display and edit the text associated with any language by&#x0A;selecting the language in the combobox.&#x0A;&#x0A;!!Warning!! The text sent on the output is NOT the displayed one but the one&#x0A;associated with the robot&apos;s current voice language." plugin="localizationbox_plugin" x="114" y="68">
                                                                                                            <bitmap>media/images/box/interaction/vocabulary.png</bitmap>
                                                                                                            <script language="4">
                                                                                                                <content>
                                                                                                                    <![CDATA[class MyClass(GeneratedClass):
	def __init__(self):
		try: # disable autoBind
			GeneratedClass.__init__(self, False)
		except TypeError: # if NAOqi < 1.14
			GeneratedClass.__init__( self )

		self.tts = ALProxy("ALTextToSpeech")
		self.sentences = {
			"Chinese" : " 计算全身的关节，我总共有25个自由度 ",
			"English" : " Each pendulum has four pendulum goal baskets and below it a floor scoring area. ",
			"French" : " En comptant toutes les articulation de mon corps, je dispose de 25 degrés de liberté. ",
			"German" : "  ",
			"Italian" : "  ",
			"Japanese" : "  ",
			"Korean" : "  ",
			"Portuguese" : "  ",
			"Brazilian" : "  ",
			"Spanish" : "  ",
			"Arabic" : "  ",
			"Polish" : "  ",
			"Czech" : "  ",
			"Dutch" : "  ",
			"Danish" : "  ",
			"Finnish" : " Jos kaikki niveleni ja liikkumaratani lasketaan, minulla on 25 vapausastetta. ",
			"Swedish" : "  ",
			"Russian" : "  ",
			"Turkish" : "  "
		}

	def onInput_onStart(self):
		sDefaultLang = self.tts.getLanguage()
		self.onStopped(self.sentences[sDefaultLang])]]>
</content>
                                                                                                            </script>
                                                                                                            <pluginContent>
                                                                                                                <chinese>计算全身的关节，我总共有25个自由度</chinese>
                                                                                                                <english>Each pendulum has four pendulum goal baskets and below it a floor scoring area.</english>
                                                                                                                <french>En comptant toutes les articulation de mon corps, je dispose de 25 degrés de liberté.</french>
                                                                                                                <german></german>
                                                                                                                <italian></italian>
                                                                                                                <japanese></japanese>
                                                                                                                <korean></korean>
                                                                                                                <portuguese></portuguese>
                                                                                                                <brazilian></brazilian>
                                                                                                                <spanish></spanish>
                                                                                                                <arabic></arabic>
                                                                                                                <polish></polish>
                                                                                                                <czech></czech>
                                                                                                                <dutch></dutch>
                                                                                                                <danish></danish>
                                                                                                                <finnish>Jos kaikki niveleni ja liikkumaratani lasketaan, minulla on 25 vapausastetta.</finnish>
                                                                                                                <swedish></swedish>
                                                                                                                <russian></russian>
                                                                                                                <turkish></turkish>
                                                                                                                <language>1</language>
                                                                                                            </pluginContent>
                                                                                                            <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                                                            <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Data is sent on the output when this input is stimulated." id="2" />
                                                                                                            <Output name="onStopped" type="3" type_size="1" nature="1" inner="0" tooltip="Data sent when asked." id="3" />
                                                                                                        </Box>
                                                                                                        <Link inputowner="0" indexofinput="4" outputowner="2" indexofoutput="4" />
                                                                                                        <Link inputowner="5" indexofinput="2" outputowner="0" indexofoutput="2" />
                                                                                                        <Link inputowner="2" indexofinput="2" outputowner="5" indexofoutput="3" />
                                                                                                    </Diagram>
                                                                                                </BehaviorKeyframe>
                                                                                            </BehaviorLayer>
                                                                                        </Timeline>
                                                                                    </Box>
                                                                                    <Link inputowner="1" indexofinput="2" outputowner="0" indexofoutput="1" />
                                                                                </Diagram>
                                                                            </BehaviorKeyframe>
                                                                        </BehaviorLayer>
                                                                        <BehaviorLayer name="LED">
                                                                            <BehaviorKeyframe name="keyframe6" index="6">
                                                                                <Diagram>
                                                                                    <Box name="Blink" id="2" tooltip="tags:&#x0A;LED" x="87" y="27">
                                                                                        <bitmap>media/images/box/interaction/LED.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)

    def onLoad(self):
        #~ puts code for box initialization here
        pass

    def onUnload(self):
        #~ puts code for box cleanup here
        pass

    def onInput_onStart(self):
        rDuration = 0.05;
        ALLeds.post.fadeRGB( "FaceLed0", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed1", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed2", 0xffffff, rDuration );
        ALLeds.post.fadeRGB( "FaceLed3", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed4", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed5", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed6", 0xffffff, rDuration );
        ALLeds.fadeRGB( "FaceLed7", 0x000000, rDuration );

        time.sleep( 0.1 );
        
        rDuration = 0.05;
        ALLeds.fadeRGB( "FaceLeds", 0xffffff, rDuration );
        
        self.onStopped()
        

    def onInput_onStop(self):
        self.onUnload() #~ it is usually a good idea to call onUnload of this box in a onStop method, as the code written in onUnload is used to finish the working of the box as well
        pass]]>
</content>
                                                                                        </script>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                                                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                                                                    </Box>
                                                                                    <Link inputowner="2" indexofinput="2" outputowner="0" indexofoutput="1" />
                                                                                </Diagram>
                                                                            </BehaviorKeyframe>
                                                                            <BehaviorKeyframe name="keyframe109" index="109">
                                                                                <Diagram>
                                                                                    <Box name="Blink" id="2" tooltip="tags:&#x0A;LED" x="103" y="58">
                                                                                        <bitmap>media/images/box/interaction/LED.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)

    def onLoad(self):
        #~ puts code for box initialization here
        pass

    def onUnload(self):
        #~ puts code for box cleanup here
        pass

    def onInput_onStart(self):
        rDuration = 0.05;
        ALLeds.post.fadeRGB( "FaceLed0", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed1", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed2", 0xffffff, rDuration );
        ALLeds.post.fadeRGB( "FaceLed3", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed4", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed5", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed6", 0xffffff, rDuration );
        ALLeds.fadeRGB( "FaceLed7", 0x000000, rDuration );

        time.sleep( 0.1 );
        
        rDuration = 0.05;
        ALLeds.fadeRGB( "FaceLeds", 0xffffff, rDuration );
        
        self.onStopped()
        

    def onInput_onStop(self):
        self.onUnload() #~ it is usually a good idea to call onUnload of this box in a onStop method, as the code written in onUnload is used to finish the working of the box as well
        pass]]>
</content>
                                                                                        </script>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                                                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                                                                    </Box>
                                                                                    <Link inputowner="2" indexofinput="2" outputowner="0" indexofoutput="1" />
                                                                                </Diagram>
                                                                            </BehaviorKeyframe>
                                                                            <BehaviorKeyframe name="keyframe145" index="145">
                                                                                <Diagram>
                                                                                    <Box name="Blink" id="2" tooltip="tags:&#x0A;LED" x="87" y="38">
                                                                                        <bitmap>media/images/box/interaction/LED.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)

    def onLoad(self):
        #~ puts code for box initialization here
        pass

    def onUnload(self):
        #~ puts code for box cleanup here
        pass

    def onInput_onStart(self):
        rDuration = 0.05;
        ALLeds.post.fadeRGB( "FaceLed0", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed1", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed2", 0xffffff, rDuration );
        ALLeds.post.fadeRGB( "FaceLed3", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed4", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed5", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed6", 0xffffff, rDuration );
        ALLeds.fadeRGB( "FaceLed7", 0x000000, rDuration );

        time.sleep( 0.1 );
        
        rDuration = 0.05;
        ALLeds.fadeRGB( "FaceLeds", 0xffffff, rDuration );
        
        self.onStopped()
        

    def onInput_onStop(self):
        self.onUnload() #~ it is usually a good idea to call onUnload of this box in a onStop method, as the code written in onUnload is used to finish the working of the box as well
        pass]]>
</content>
                                                                                        </script>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                                                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                                                                    </Box>
                                                                                    <Link inputowner="2" indexofinput="2" outputowner="0" indexofoutput="1" />
                                                                                </Diagram>
                                                                            </BehaviorKeyframe>
                                                                        </BehaviorLayer>
                                                                        <ActuatorList model="Nao">
                                                                            <ActuatorCurve name="value" actuator="HeadYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="21" value="-4.92434" />
                                                                                <Key frame="42" value="-4.57277" />
                                                                                <Key frame="67" value="-4.57277" />
                                                                                <Key frame="88" value="-4.92434" />
                                                                                <Key frame="102" value="-9.67049" />
                                                                                <Key frame="120" value="-3.16651" />
                                                                                <Key frame="132" value="-4.39699" />
                                                                                <Key frame="148" value="-4.83645" />
                                                                                <Key frame="167" value="-4.74856" />
                                                                                <Key frame="187" value="-4.74856" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="HeadPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="21" value="5.35899" />
                                                                                <Key frame="42" value="-10.11" />
                                                                                <Key frame="67" value="-10.11" />
                                                                                <Key frame="88" value="-11.4283" />
                                                                                <Key frame="102" value="5.35899" />
                                                                                <Key frame="120" value="-8.08844" />
                                                                                <Key frame="132" value="-11.0768" />
                                                                                <Key frame="148" value="-0.178188" />
                                                                                <Key frame="167" value="-6.15482" />
                                                                                <Key frame="187" value="-8.5279" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LShoulderPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="19" value="65.5648" />
                                                                                <Key frame="40" value="46.4923" />
                                                                                <Key frame="65" value="49.3927" />
                                                                                <Key frame="86" value="54.7541" />
                                                                                <Key frame="100" value="51.3264" />
                                                                                <Key frame="118" value="63.6312" />
                                                                                <Key frame="130" value="68.9926" />
                                                                                <Key frame="146" value="65.4769" />
                                                                                <Key frame="165" value="88.8561" />
                                                                                <Key frame="185" value="92.4597" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LShoulderRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="19" value="-9.5826" />
                                                                                <Key frame="40" value="-18" />
                                                                                <Key frame="65" value="-18" />
                                                                                <Key frame="86" value="-17.4929" />
                                                                                <Key frame="100" value="-16.6139" />
                                                                                <Key frame="118" value="-3.60596" />
                                                                                <Key frame="130" value="-3.16651" />
                                                                                <Key frame="146" value="-2.81494" />
                                                                                <Key frame="165" value="-0.00240423" />
                                                                                <Key frame="185" value="1.75543" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LElbowYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="19" value="-62.6692" />
                                                                                <Key frame="40" value="-15.2077" />
                                                                                <Key frame="65" value="-17.0534" />
                                                                                <Key frame="86" value="-16.4382" />
                                                                                <Key frame="100" value="-55.7258" />
                                                                                <Key frame="118" value="-88.9488" />
                                                                                <Key frame="130" value="-93.2555" />
                                                                                <Key frame="146" value="-83.4117" />
                                                                                <Key frame="165" value="-88.9488" />
                                                                                <Key frame="185" value="-91.0582" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LElbowRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="19" value="-60.3792" />
                                                                                <Key frame="40" value="-63.7191" />
                                                                                <Key frame="65" value="-62.4886" />
                                                                                <Key frame="86" value="-63.2796" />
                                                                                <Key frame="100" value="-88.5" />
                                                                                <Key frame="118" value="-75.3208" />
                                                                                <Key frame="130" value="-71.7172" />
                                                                                <Key frame="146" value="-86.4831" />
                                                                                <Key frame="165" value="-56.3362" />
                                                                                <Key frame="185" value="-54.3147" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LWristYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="19" value="-35.8622" />
                                                                                <Key frame="40" value="33.9238" />
                                                                                <Key frame="65" value="32.957" />
                                                                                <Key frame="86" value="36.9121" />
                                                                                <Key frame="100" value="0.173379" />
                                                                                <Key frame="118" value="-60.5598" />
                                                                                <Key frame="130" value="-60.1203" />
                                                                                <Key frame="146" value="-46.1456" />
                                                                                <Key frame="165" value="-73.3041" />
                                                                                <Key frame="185" value="-73.1283" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LHand" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="19" value="0.998" />
                                                                                <Key frame="40" value="0.7376" />
                                                                                <Key frame="65" value="0.7388" />
                                                                                <Key frame="86" value="0.7396" />
                                                                                <Key frame="100" value="0.5" />
                                                                                <Key frame="118" value="0.7604" />
                                                                                <Key frame="130" value="0.7592" />
                                                                                <Key frame="146" value="0.5572" />
                                                                                <Key frame="165" value="0.6016" />
                                                                                <Key frame="185" value="0.6016" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RShoulderPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="17" value="74.0951" />
                                                                                <Key frame="38" value="64.3391" />
                                                                                <Key frame="63" value="70.4916" />
                                                                                <Key frame="84" value="69.7884" />
                                                                                <Key frame="98" value="82.5327" />
                                                                                <Key frame="116" value="90.0035" />
                                                                                <Key frame="128" value="91.8493" />
                                                                                <Key frame="144" value="81.5659" />
                                                                                <Key frame="163" value="95.3649" />
                                                                                <Key frame="183" value="99.5837" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RShoulderRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="17" value="0.261271" />
                                                                                <Key frame="38" value="2.72224" />
                                                                                <Key frame="63" value="3.95272" />
                                                                                <Key frame="84" value="3.51326" />
                                                                                <Key frame="98" value="3.42537" />
                                                                                <Key frame="116" value="-0.617646" />
                                                                                <Key frame="128" value="-0.178188" />
                                                                                <Key frame="144" value="0.876513" />
                                                                                <Key frame="163" value="0.964405" />
                                                                                <Key frame="183" value="0.437054" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RElbowYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="17" value="51.5021" />
                                                                                <Key frame="38" value="60.8187" />
                                                                                <Key frame="63" value="57.5667" />
                                                                                <Key frame="84" value="55.7209" />
                                                                                <Key frame="98" value="67.059" />
                                                                                <Key frame="116" value="80.4185" />
                                                                                <Key frame="128" value="87.9772" />
                                                                                <Key frame="144" value="83.9342" />
                                                                                <Key frame="163" value="93.4265" />
                                                                                <Key frame="183" value="96.0633" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RElbowRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="17" value="38.5869" />
                                                                                <Key frame="38" value="52.5617" />
                                                                                <Key frame="63" value="52.8253" />
                                                                                <Key frame="84" value="51.1554" />
                                                                                <Key frame="98" value="32.6981" />
                                                                                <Key frame="116" value="29.4461" />
                                                                                <Key frame="128" value="29.7977" />
                                                                                <Key frame="144" value="77.9624" />
                                                                                <Key frame="163" value="61.9661" />
                                                                                <Key frame="183" value="56.9562" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RWristYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="17" value="-24.7" />
                                                                                <Key frame="38" value="-55.9894" />
                                                                                <Key frame="51" value="-1.6" />
                                                                                <Key frame="63" value="-51.4191" />
                                                                                <Key frame="84" value="-55.55" />
                                                                                <Key frame="98" value="-24.8758" />
                                                                                <Key frame="116" value="-4.92434" />
                                                                                <Key frame="128" value="-5.01223" />
                                                                                <Key frame="144" value="36.7363" />
                                                                                <Key frame="163" value="53.1721" />
                                                                                <Key frame="183" value="53.3479" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RHand" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="17" value="0.4088" />
                                                                                <Key frame="38" value="0.4088" />
                                                                                <Key frame="51" value="0.5" />
                                                                                <Key frame="63" value="0.254" />
                                                                                <Key frame="84" value="0.256" />
                                                                                <Key frame="98" value="0.256" />
                                                                                <Key frame="116" value="0.256" />
                                                                                <Key frame="128" value="0.256" />
                                                                                <Key frame="144" value="0.6308" />
                                                                                <Key frame="163" value="0.7384" />
                                                                                <Key frame="183" value="0.7384" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LHipYawPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="39" value="-11.863" />
                                                                                <Key frame="64" value="-11.863" />
                                                                                <Key frame="85" value="-11.863" />
                                                                                <Key frame="117" value="-12.5661" />
                                                                                <Key frame="129" value="-12.4782" />
                                                                                <Key frame="164" value="-12.3024" />
                                                                                <Key frame="184" value="-12.3024" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LHipRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="39" value="3.69386" />
                                                                                <Key frame="64" value="3.69386" />
                                                                                <Key frame="85" value="3.69386" />
                                                                                <Key frame="117" value="7.20953" />
                                                                                <Key frame="129" value="7.29742" />
                                                                                <Key frame="164" value="9.75839" />
                                                                                <Key frame="184" value="9.75839" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LHipPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="39" value="15.0319" />
                                                                                <Key frame="64" value="15.0319" />
                                                                                <Key frame="85" value="15.0319" />
                                                                                <Key frame="117" value="12.9225" />
                                                                                <Key frame="129" value="13.0104" />
                                                                                <Key frame="164" value="13.2741" />
                                                                                <Key frame="184" value="13.1862" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LKneePitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="39" value="-5.18802" />
                                                                                <Key frame="64" value="-5.27591" />
                                                                                <Key frame="85" value="-5.18802" />
                                                                                <Key frame="117" value="-5.01223" />
                                                                                <Key frame="129" value="-5.01223" />
                                                                                <Key frame="164" value="-5.01223" />
                                                                                <Key frame="184" value="-4.66067" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LAnklePitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="39" value="4.83164" />
                                                                                <Key frame="64" value="4.83164" />
                                                                                <Key frame="85" value="4.91953" />
                                                                                <Key frame="117" value="6.06212" />
                                                                                <Key frame="129" value="6.06212" />
                                                                                <Key frame="164" value="6.50158" />
                                                                                <Key frame="184" value="6.50158" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LAnkleRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="39" value="-2.72224" />
                                                                                <Key frame="64" value="-2.72224" />
                                                                                <Key frame="85" value="-2.72224" />
                                                                                <Key frame="117" value="-5.62267" />
                                                                                <Key frame="129" value="-5.62267" />
                                                                                <Key frame="164" value="-7.55628" />
                                                                                <Key frame="184" value="-7.64418" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RHipRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="39" value="-4.39218" />
                                                                                <Key frame="64" value="-4.39218" />
                                                                                <Key frame="85" value="-4.39218" />
                                                                                <Key frame="117" value="-0.173379" />
                                                                                <Key frame="129" value="-0.0854875" />
                                                                                <Key frame="164" value="2.37548" />
                                                                                <Key frame="184" value="2.37548" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RHipPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="39" value="15.3786" />
                                                                                <Key frame="64" value="15.4665" />
                                                                                <Key frame="85" value="15.3786" />
                                                                                <Key frame="117" value="15.3786" />
                                                                                <Key frame="129" value="15.3786" />
                                                                                <Key frame="164" value="16.2576" />
                                                                                <Key frame="184" value="16.4333" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RKneePitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="39" value="-4.2164" />
                                                                                <Key frame="64" value="-4.12851" />
                                                                                <Key frame="85" value="-4.04062" />
                                                                                <Key frame="117" value="-4.56797" />
                                                                                <Key frame="129" value="-4.48007" />
                                                                                <Key frame="164" value="-4.39218" />
                                                                                <Key frame="184" value="-4.2164" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RAnklePitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="39" value="2.1997" />
                                                                                <Key frame="64" value="2.46337" />
                                                                                <Key frame="85" value="2.55126" />
                                                                                <Key frame="117" value="2.28759" />
                                                                                <Key frame="129" value="2.37548" />
                                                                                <Key frame="164" value="2.46337" />
                                                                                <Key frame="184" value="2.55126" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RAnkleRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="39" value="3.2544" />
                                                                                <Key frame="64" value="3.2544" />
                                                                                <Key frame="85" value="3.2544" />
                                                                                <Key frame="117" value="0.00240423" />
                                                                                <Key frame="129" value="0.00240423" />
                                                                                <Key frame="164" value="-2.107" />
                                                                                <Key frame="184" value="-2.107" />
                                                                            </ActuatorCurve>
                                                                        </ActuatorList>
                                                                    </Timeline>
                                                                    <Resource name="Standing" type="Lock" timeout="2" />
                                                                    <Resource name="All motors" type="Lock" timeout="2" />
                                                                    <Resource name="Speakers" type="Lock" timeout="2" />
                                                                </Box>
                                                                <Box name="Sentence6" id="12" tooltip="This box is empty (contains a single motion layer with no motors defined in it) and should be used to create any movement you&apos;d like." x="890" y="419">
                                                                    <bitmap>media/images/box/movement/move.png</bitmap>
                                                                    <script language="4">
                                                                        <content>
                                                                            <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)

    def onLoad(self):
        #~ puts code for box initialization here
        pass

    def onUnload(self):
        #~ puts code for box cleanup here
        pass

    def onInput_onStart(self):
        #~ self.onStopped() #~ activate output of the box
        pass

    def onInput_onStop(self):
        self.onStopped()]]>
</content>
                                                                    </script>
                                                                    <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                                                                    <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this Input." id="2" />
                                                                    <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this Input." id="3" />
                                                                    <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when Box behavior is finished." id="4" />
                                                                    <Parameter name="Number of Naos" inherits_from_parent="1" content_type="1" value="2000" default_value="0" min="0" max="1000000" tooltip="" id="5" />
                                                                    <Timeline enable="1" fps="25" start_frame="0" end_frame="215" size="300">
                                                                        <BehaviorLayer name="speech">
                                                                            <BehaviorKeyframe name="speech" index="10">
                                                                                <Diagram>
                                                                                    <Box name="LocalizedText" id="3" tooltip="Enter tooltip here" plugin="localizationbox_plugin" x="117" y="30">
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
	def __init__(self):
		try: # disable autoBind
			GeneratedClass.__init__(self, False)
		except TypeError: # if NAOqi < 1.14
			GeneratedClass.__init__( self )

		self.tts = ALProxy("ALTextToSpeech")
		self.sentences = {
			"Chinese" : " 我有两千多个兄弟分布在全球各地的高校和实验室中。 ",
			"English" : " An Infrared Beacon is randomly placed under one of the four pendulum goals. ",
			"French" : " Il y a plus de {nbRobots} Nao en utilisation, tout autour du monde, dans les universités et laboratoires. ",
			"German" : "  ",
			"Italian" : "  ",
			"Japanese" : "  ",
			"Korean" : "  ",
			"Portuguese" : "  ",
			"Brazilian" : "  ",
			"Spanish" : " Hay más de {nbRobots} robots ? Nao en utilización en todo el mundo, en universidades y laboratorios de investigación. ",
			"Arabic" : "  ",
			"Polish" : "  ",
			"Czech" : "  ",
			"Dutch" : "  ",
			"Danish" : "  ",
			"Finnish" : " Minulla on yli {nbRobots} sisarusta ympäri maailmaa yliopistoissa ja tutkimuslaitoksissa. ",
			"Swedish" : "  ",
			"Russian" : "  ",
			"Turkish" : "  "
		}

	def onInput_onStart(self):
		sDefaultLang = self.tts.getLanguage()
		self.onStopped(self.sentences[sDefaultLang])]]>
</content>
                                                                                        </script>
                                                                                        <pluginContent>
                                                                                            <chinese>我有两千多个兄弟分布在全球各地的高校和实验室中。</chinese>
                                                                                            <english>An Infrared Beacon is randomly placed under one of the four pendulum goals.</english>
                                                                                            <french>Il y a plus de {nbRobots} Nao en utilisation, tout autour du monde, dans les universités et laboratoires.</french>
                                                                                            <german></german>
                                                                                            <italian></italian>
                                                                                            <japanese></japanese>
                                                                                            <korean></korean>
                                                                                            <portuguese></portuguese>
                                                                                            <brazilian></brazilian>
                                                                                            <spanish>Hay más de {nbRobots} robots ? Nao en utilización en todo el mundo, en universidades y laboratorios de investigación.</spanish>
                                                                                            <arabic></arabic>
                                                                                            <polish></polish>
                                                                                            <czech></czech>
                                                                                            <dutch></dutch>
                                                                                            <danish></danish>
                                                                                            <finnish>Minulla on yli {nbRobots} sisarusta ympäri maailmaa yliopistoissa ja tutkimuslaitoksissa.</finnish>
                                                                                            <swedish></swedish>
                                                                                            <russian></russian>
                                                                                            <turkish></turkish>
                                                                                            <language>1</language>
                                                                                        </pluginContent>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                                                        <Output name="onStopped" type="3" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                                                                    </Box>
                                                                                    <Box name="Say Text" id="4" tooltip="Say the sentence asked. See box parameters for fine tuning of the voice." x="459" y="36">
                                                                                        <bitmap>media/images/box/interaction/say.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)
        self.tts = ALProxy('ALTextToSpeech')
        self.ttsStop = ALProxy('ALTextToSpeech', True) #Create another proxy as wait is blocking if audioout is remote
        
    def onLoad(self):
        #puts code for box cleanup here
        self.ids = []
        
    def onUnload(self):
        #puts code for box cleanup here    
        for id in self.ids:
            try:
                self.ttsStop.stop(id)
            except:
                pass
        
    def onInput_onStart(self, p):
        sentence = "\RSPD="+ str( self.getParameter("speed") )+ "\ "
        sentence += "\VCT="+ str( self.getParameter("Voice Shaping") ) + "\ " 
        sentence += str(p)
        sentence +=  "\RST\ "
        id = self.tts.post.say(sentence)
        self.ids.append(id)
        self.tts.wait(id, 0)
        self.ids.remove(id)
        self.onStopped() # activate output of the box

    def onInput_onStop(self):
        self.onUnload()]]>
</content>
                                                                                        </script>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="3" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this Input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this Input." id="3" />
                                                                                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when Box behavior is finished." id="4" />
                                                                                        <Parameter name="Voice Shaping" inherits_from_parent="0" content_type="1" value="100" default_value="100" min="50" max="150" tooltip='This tag is used to modify at runtime the voice feature (tone, speed) in way slightly different of what pitch and speed modification does, giving a kind of &quot;gender or age modification &quot; effect.&#x0A;&#x0A;To better tune the effect, one should compensate the speed modification due to the value parameter. For exemple to keep an average constant speed, one should add 20% to speed parameter when decreasing 20% to the Voice Shaping (VCT) parameter :&#x0A;&#x0A;A quite good male derivation of female voice for example could be obtained using the following parameters: VCT=78.' id="5" />
                                                                                        <Parameter name="speed" inherits_from_parent="0" content_type="1" value="85" default_value="100" min="50" max="200" tooltip="change the speed of the voice" id="6" />
                                                                                        <Resource name="TTS" type="Lock" timeout="0" />
                                                                                    </Box>
                                                                                    <Link inputowner="3" indexofinput="2" outputowner="0" indexofoutput="1" />
                                                                                    <Link inputowner="4" indexofinput="2" outputowner="3" indexofoutput="4" />
                                                                                </Diagram>
                                                                            </BehaviorKeyframe>
                                                                        </BehaviorLayer>
                                                                        <BehaviorLayer name="LED">
                                                                            <BehaviorKeyframe name="blink" index="7">
                                                                                <Diagram>
                                                                                    <Box name="blink" id="1" tooltip="blink" x="130" y="41">
                                                                                        <bitmap>media/images/box/box-diagram.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)

    def onLoad(self):
        #~ puts code for box initialization here
        pass

    def onUnload(self):
        #~ puts code for box cleanup here
        pass

    def onInput_onStart(self):
        rDuration = 0.05;
        ALLeds.post.fadeRGB( "FaceLed0", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed1", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed2", 0xffffff, rDuration );
        ALLeds.post.fadeRGB( "FaceLed3", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed4", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed5", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed6", 0xffffff, rDuration );
        ALLeds.fadeRGB( "FaceLed7", 0x000000, rDuration );

        time.sleep( 0.1 );
        
        rDuration = 0.05;
        ALLeds.fadeRGB( "FaceLeds", 0xffffff, rDuration );
        
        return;
        

    def onInput_onStop(self):
        self.onUnload() #~ it is usually a good idea to call onUnload of this box in a onStop method, as the code written in onUnload is used to finish the working of the box as well
        pass]]>
</content>
                                                                                        </script>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                                                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                                                                    </Box>
                                                                                    <Link inputowner="1" indexofinput="2" outputowner="0" indexofoutput="1" />
                                                                                </Diagram>
                                                                            </BehaviorKeyframe>
                                                                            <BehaviorKeyframe name="blink_copy" index="83">
                                                                                <Diagram>
                                                                                    <Box name="blink" id="1" tooltip="blink" x="130" y="41">
                                                                                        <bitmap>media/images/box/box-diagram.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)

    def onLoad(self):
        #~ puts code for box initialization here
        pass

    def onUnload(self):
        #~ puts code for box cleanup here
        pass

    def onInput_onStart(self):
        rDuration = 0.05;
        ALLeds.post.fadeRGB( "FaceLed0", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed1", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed2", 0xffffff, rDuration );
        ALLeds.post.fadeRGB( "FaceLed3", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed4", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed5", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed6", 0xffffff, rDuration );
        ALLeds.fadeRGB( "FaceLed7", 0x000000, rDuration );

        time.sleep( 0.1 );
        
        rDuration = 0.05;
        ALLeds.fadeRGB( "FaceLeds", 0xffffff, rDuration );
        
        return;
        

    def onInput_onStop(self):
        self.onUnload() #~ it is usually a good idea to call onUnload of this box in a onStop method, as the code written in onUnload is used to finish the working of the box as well
        pass]]>
</content>
                                                                                        </script>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                                                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                                                                    </Box>
                                                                                    <Link inputowner="1" indexofinput="2" outputowner="0" indexofoutput="1" />
                                                                                </Diagram>
                                                                            </BehaviorKeyframe>
                                                                            <BehaviorKeyframe name="blink_copy_copy" index="124">
                                                                                <Diagram>
                                                                                    <Box name="blink" id="1" tooltip="blink" x="130" y="41">
                                                                                        <bitmap>media/images/box/box-diagram.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)

    def onLoad(self):
        #~ puts code for box initialization here
        pass

    def onUnload(self):
        #~ puts code for box cleanup here
        pass

    def onInput_onStart(self):
        rDuration = 0.05;
        ALLeds.post.fadeRGB( "FaceLed0", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed1", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed2", 0xffffff, rDuration );
        ALLeds.post.fadeRGB( "FaceLed3", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed4", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed5", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed6", 0xffffff, rDuration );
        ALLeds.fadeRGB( "FaceLed7", 0x000000, rDuration );

        time.sleep( 0.1 );
        
        rDuration = 0.05;
        ALLeds.fadeRGB( "FaceLeds", 0xffffff, rDuration );
        
        return;
        

    def onInput_onStop(self):
        self.onUnload() #~ it is usually a good idea to call onUnload of this box in a onStop method, as the code written in onUnload is used to finish the working of the box as well
        pass]]>
</content>
                                                                                        </script>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                                                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                                                                    </Box>
                                                                                    <Link inputowner="1" indexofinput="2" outputowner="0" indexofoutput="1" />
                                                                                </Diagram>
                                                                            </BehaviorKeyframe>
                                                                            <BehaviorKeyframe name="blink_copy_copy_copy" index="194">
                                                                                <Diagram>
                                                                                    <Box name="blink" id="1" tooltip="blink" x="130" y="41">
                                                                                        <bitmap>media/images/box/box-diagram.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)

    def onLoad(self):
        #~ puts code for box initialization here
        pass

    def onUnload(self):
        #~ puts code for box cleanup here
        pass

    def onInput_onStart(self):
        rDuration = 0.05;
        ALLeds.post.fadeRGB( "FaceLed0", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed1", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed2", 0xffffff, rDuration );
        ALLeds.post.fadeRGB( "FaceLed3", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed4", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed5", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed6", 0xffffff, rDuration );
        ALLeds.fadeRGB( "FaceLed7", 0x000000, rDuration );

        time.sleep( 0.1 );
        
        rDuration = 0.05;
        ALLeds.fadeRGB( "FaceLeds", 0xffffff, rDuration );
        
        return;
        

    def onInput_onStop(self):
        self.onUnload() #~ it is usually a good idea to call onUnload of this box in a onStop method, as the code written in onUnload is used to finish the working of the box as well
        pass]]>
</content>
                                                                                        </script>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                                                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                                                                    </Box>
                                                                                    <Link inputowner="1" indexofinput="2" outputowner="0" indexofoutput="1" />
                                                                                </Diagram>
                                                                            </BehaviorKeyframe>
                                                                        </BehaviorLayer>
                                                                        <ActuatorList model="Nao">
                                                                            <ActuatorCurve name="value" actuator="HeadYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="23" value="-1.84813" />
                                                                                <Key frame="38" value="-2.81494" />
                                                                                <Key frame="52" value="-4.13332" />
                                                                                <Key frame="66" value="-7.91266" />
                                                                                <Key frame="82" value="13.445" />
                                                                                <Key frame="115" value="-25.0515" />
                                                                                <Key frame="134" value="-10.11" />
                                                                                <Key frame="152" value="-2.37548" />
                                                                                <Key frame="169" value="-3.07861" />
                                                                                <Key frame="184" value="-2.90283" />
                                                                                <Key frame="208" value="-2.28759" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="HeadPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="23" value="-22.3269" />
                                                                                <Key frame="38" value="-18.987" />
                                                                                <Key frame="52" value="-13.6256" />
                                                                                <Key frame="66" value="-22.4148" />
                                                                                <Key frame="82" value="5.97423" />
                                                                                <Key frame="115" value="-22.3269" />
                                                                                <Key frame="134" value="12.7419" />
                                                                                <Key frame="152" value="-21.9753" />
                                                                                <Key frame="169" value="-20.2175" />
                                                                                <Key frame="184" value="-18.0202" />
                                                                                <Key frame="208" value="-7.56109" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LShoulderPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="20" value="82.6158" />
                                                                                <Key frame="35" value="96.1511" />
                                                                                <Key frame="49" value="86.6588" />
                                                                                <Key frame="63" value="90.614" />
                                                                                <Key frame="79" value="77.606" />
                                                                                <Key frame="112" value="67.2348" />
                                                                                <Key frame="131" value="72.0688" />
                                                                                <Key frame="149" value="60.6429" />
                                                                                <Key frame="166" value="49.4806" />
                                                                                <Key frame="181" value="89.2077" />
                                                                                <Key frame="205" value="82.6158" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LShoulderRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="20" value="1.40386" />
                                                                                <Key frame="35" value="1.14019" />
                                                                                <Key frame="49" value="1.0523" />
                                                                                <Key frame="63" value="8.78677" />
                                                                                <Key frame="79" value="1.31597" />
                                                                                <Key frame="112" value="27.244" />
                                                                                <Key frame="131" value="2.107" />
                                                                                <Key frame="149" value="2.28278" />
                                                                                <Key frame="166" value="12.5661" />
                                                                                <Key frame="181" value="14.5876" />
                                                                                <Key frame="205" value="5.62267" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LElbowYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="20" value="-51.507" />
                                                                                <Key frame="35" value="-103.539" />
                                                                                <Key frame="49" value="-65.4817" />
                                                                                <Key frame="63" value="-104.506" />
                                                                                <Key frame="79" value="-42.4541" />
                                                                                <Key frame="99" value="-62" />
                                                                                <Key frame="112" value="-101.869" />
                                                                                <Key frame="131" value="-43.1572" />
                                                                                <Key frame="149" value="-59.9446" />
                                                                                <Key frame="166" value="-100.99" />
                                                                                <Key frame="181" value="-101.078" />
                                                                                <Key frame="205" value="-55.4621" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LElbowRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="20" value="-52.8205" />
                                                                                <Key frame="35" value="-45.965" />
                                                                                <Key frame="49" value="-40.4278" />
                                                                                <Key frame="63" value="-43.6798" />
                                                                                <Key frame="79" value="-57.0393" />
                                                                                <Key frame="99" value="-72" />
                                                                                <Key frame="112" value="-37.2637" />
                                                                                <Key frame="131" value="-55.6331" />
                                                                                <Key frame="149" value="-75.7603" />
                                                                                <Key frame="166" value="-64.9496" />
                                                                                <Key frame="181" value="-23.201" />
                                                                                <Key frame="205" value="-33.5722" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LWristYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="35" value="29" />
                                                                                <Key frame="49" value="-5" />
                                                                                <Key frame="79" value="-5.18802" />
                                                                                <Key frame="112" value="-35" />
                                                                                <Key frame="149" value="-67" />
                                                                                <Key frame="181" value="-66.3607" />
                                                                                <Key frame="205" value="-10" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LHand" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="35" value="0.0727535" />
                                                                                <Key frame="79" value="0.0752989" />
                                                                                <Key frame="112" value="0.729091" />
                                                                                <Key frame="149" value="0.181818" />
                                                                                <Key frame="181" value="0.175662" />
                                                                                <Key frame="205" value="0.103636" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RShoulderPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="16" value="6.68218" />
                                                                                <Key frame="31" value="33.6649" />
                                                                                <Key frame="45" value="51.1554" />
                                                                                <Key frame="59" value="63.2844" />
                                                                                <Key frame="75" value="18.4597" />
                                                                                <Key frame="108" value="3.78175" />
                                                                                <Key frame="127" value="9.67049" />
                                                                                <Key frame="145" value="28.8309" />
                                                                                <Key frame="162" value="34.7196" />
                                                                                <Key frame="177" value="88.6852" />
                                                                                <Key frame="201" value="80.5991" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RShoulderRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="16" value="-3.78175" />
                                                                                <Key frame="31" value="-4.3091" />
                                                                                <Key frame="45" value="-0.498473" />
                                                                                <Key frame="59" value="-1.49656" />
                                                                                <Key frame="75" value="-0.79343" />
                                                                                <Key frame="108" value="-87.982" />
                                                                                <Key frame="127" value="-27.3367" />
                                                                                <Key frame="145" value="-6.50639" />
                                                                                <Key frame="162" value="-1.67235" />
                                                                                <Key frame="177" value="-16.8776" />
                                                                                <Key frame="201" value="-1.0571" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RElbowYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="16" value="8.4352" />
                                                                                <Key frame="31" value="84.4615" />
                                                                                <Key frame="45" value="44.3829" />
                                                                                <Key frame="59" value="38.9336" />
                                                                                <Key frame="75" value="45.3497" />
                                                                                <Key frame="95" value="30" />
                                                                                <Key frame="108" value="57.7425" />
                                                                                <Key frame="127" value="66.9711" />
                                                                                <Key frame="145" value="36.7363" />
                                                                                <Key frame="162" value="91.2292" />
                                                                                <Key frame="177" value="98.2605" />
                                                                                <Key frame="201" value="43.3282" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RElbowRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="16" value="82.6206" />
                                                                                <Key frame="31" value="60.6477" />
                                                                                <Key frame="45" value="66.7122" />
                                                                                <Key frame="59" value="60.1203" />
                                                                                <Key frame="75" value="88.8609" />
                                                                                <Key frame="95" value="63" />
                                                                                <Key frame="108" value="24.1726" />
                                                                                <Key frame="127" value="64.2513" />
                                                                                <Key frame="145" value="82.4448" />
                                                                                <Key frame="162" value="67.5033" />
                                                                                <Key frame="177" value="38.0595" />
                                                                                <Key frame="201" value="38.1474" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RWristYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="31" value="28" />
                                                                                <Key frame="45" value="74" />
                                                                                <Key frame="75" value="73.563" />
                                                                                <Key frame="108" value="43" />
                                                                                <Key frame="145" value="97" />
                                                                                <Key frame="177" value="95.7996" />
                                                                                <Key frame="201" value="0" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RHand" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="31" value="0.181844" />
                                                                                <Key frame="75" value="0.181844" />
                                                                                <Key frame="108" value="0.703636" />
                                                                                <Key frame="145" value="0.378182" />
                                                                                <Key frame="177" value="0.36548" />
                                                                                <Key frame="201" value="0.221818" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LHipYawPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="33" value="-17.7517" />
                                                                                <Key frame="77" value="-20.4764" />
                                                                                <Key frame="110" value="-18.9822" />
                                                                                <Key frame="147" value="-18.6306" />
                                                                                <Key frame="179" value="-18.367" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LHipRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="33" value="1.93602" />
                                                                                <Key frame="77" value="-0.876513" />
                                                                                <Key frame="110" value="11.692" />
                                                                                <Key frame="147" value="8.35212" />
                                                                                <Key frame="179" value="12.8346" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LHipPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="33" value="15.5592" />
                                                                                <Key frame="77" value="4.48488" />
                                                                                <Key frame="110" value="18.196" />
                                                                                <Key frame="147" value="18.6355" />
                                                                                <Key frame="179" value="18.0202" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LKneePitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="33" value="-0.090296" />
                                                                                <Key frame="77" value="-0.178188" />
                                                                                <Key frame="110" value="1.84332" />
                                                                                <Key frame="147" value="3.1617" />
                                                                                <Key frame="179" value="4.74375" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LAnklePitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="33" value="-0.441863" />
                                                                                <Key frame="77" value="6.67737" />
                                                                                <Key frame="110" value="-2.72705" />
                                                                                <Key frame="147" value="-3.95753" />
                                                                                <Key frame="179" value="-4.04542" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LAnkleRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="33" value="-1.57965" />
                                                                                <Key frame="77" value="-0.788621" />
                                                                                <Key frame="110" value="-8.61098" />
                                                                                <Key frame="147" value="-6.06212" />
                                                                                <Key frame="179" value="-9.05044" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RHipRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="33" value="-7.29261" />
                                                                                <Key frame="77" value="-4.48007" />
                                                                                <Key frame="110" value="-1.66754" />
                                                                                <Key frame="147" value="-6.06212" />
                                                                                <Key frame="179" value="-1.93121" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RHipPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="33" value="13.7966" />
                                                                                <Key frame="77" value="1.75543" />
                                                                                <Key frame="110" value="18.4549" />
                                                                                <Key frame="147" value="18.1912" />
                                                                                <Key frame="179" value="20.4764" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RKneePitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="33" value="-4.48007" />
                                                                                <Key frame="77" value="-4.56797" />
                                                                                <Key frame="110" value="-4.30429" />
                                                                                <Key frame="147" value="-4.56797" />
                                                                                <Key frame="179" value="-4.56797" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RAnklePitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="33" value="5.71537" />
                                                                                <Key frame="77" value="12.8346" />
                                                                                <Key frame="110" value="3.69386" />
                                                                                <Key frame="147" value="3.78175" />
                                                                                <Key frame="179" value="3.2544" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RAnkleRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="33" value="5.18802" />
                                                                                <Key frame="77" value="2.99072" />
                                                                                <Key frame="110" value="1.0571" />
                                                                                <Key frame="147" value="4.39699" />
                                                                                <Key frame="179" value="1.32078" />
                                                                            </ActuatorCurve>
                                                                        </ActuatorList>
                                                                    </Timeline>
                                                                    <Resource name="Standing" type="Lock" timeout="2" />
                                                                    <Resource name="HeadYaw" type="Lock" timeout="2" />
                                                                    <Resource name="HeadPitch" type="Lock" timeout="2" />
                                                                    <Resource name="LShoulderPitch" type="Lock" timeout="2" />
                                                                    <Resource name="LShoulderRoll" type="Lock" timeout="2" />
                                                                    <Resource name="LElbowRoll" type="Lock" timeout="2" />
                                                                    <Resource name="LElbowYaw" type="Lock" timeout="2" />
                                                                    <Resource name="LWristYaw" type="Lock" timeout="2" />
                                                                    <Resource name="LHand" type="Lock" timeout="2" />
                                                                    <Resource name="RShoulderPitch" type="Lock" timeout="2" />
                                                                    <Resource name="RShoulderRoll" type="Lock" timeout="2" />
                                                                    <Resource name="RElbowRoll" type="Lock" timeout="2" />
                                                                    <Resource name="RElbowYaw" type="Lock" timeout="2" />
                                                                    <Resource name="RWristYaw" type="Lock" timeout="2" />
                                                                    <Resource name="RHand" type="Lock" timeout="2" />
                                                                    <Resource name="LHipYawPitch" type="Lock" timeout="2" />
                                                                    <Resource name="LHipPitch" type="Lock" timeout="2" />
                                                                    <Resource name="LHipRoll" type="Lock" timeout="2" />
                                                                    <Resource name="LKneePitch" type="Lock" timeout="2" />
                                                                    <Resource name="LAnklePitch" type="Lock" timeout="2" />
                                                                    <Resource name="LAnkleRoll" type="Lock" timeout="2" />
                                                                    <Resource name="RHipPitch" type="Lock" timeout="2" />
                                                                    <Resource name="RHipRoll" type="Lock" timeout="2" />
                                                                    <Resource name="RKneePitch" type="Lock" timeout="2" />
                                                                    <Resource name="RAnklePitch" type="Lock" timeout="2" />
                                                                    <Resource name="RAnkleRoll" type="Lock" timeout="2" />
                                                                    <Resource name="Speakers" type="Lock" timeout="2" />
                                                                </Box>
                                                                <Box name="Sentence7" id="7" tooltip="This box is empty (contains a single motion layer with no motors defined in it) and should be used to create any movement you&apos;d like." x="1022" y="477">
                                                                    <bitmap>media/images/box/movement/move.png</bitmap>
                                                                    <script language="4">
                                                                        <content>
                                                                            <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)

    def onLoad(self):
        #~ puts code for box initialization here
        pass

    def onUnload(self):
        #~ puts code for box cleanup here
        pass

    def onInput_onStart(self):
        #~ self.onStopped() #~ activate output of the box
        pass

    def onInput_onStop(self):
        self.onUnload() #~ it is recommanded to call onUnload of this box in a onStop method, as the code written in onUnload is used to stop the box as well
        pass]]>
</content>
                                                                    </script>
                                                                    <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                                                                    <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this Input." id="2" />
                                                                    <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this Input." id="3" />
                                                                    <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when Box behavior is finished." id="4" />
                                                                    <Timeline enable="1" fps="25" start_frame="0" end_frame="148" size="300">
                                                                        <BehaviorLayer name="speech">
                                                                            <BehaviorKeyframe name="speech" index="19">
                                                                                <Diagram>
                                                                                    <Box name="Say Text" id="2" tooltip="Say the sentence asked. See box parameters for fine tuning of the voice." x="390" y="15">
                                                                                        <bitmap>media/images/box/interaction/say.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)
        self.tts = ALProxy('ALTextToSpeech')
        self.ttsStop = ALProxy('ALTextToSpeech', True) #Create another proxy as wait is blocking if audioout is remote
        
    def onLoad(self):
        #puts code for box cleanup here
        self.ids = []
        
    def onUnload(self):
        #puts code for box cleanup here    
        for id in self.ids:
            try:
                self.ttsStop.stop(id)
            except:
                pass
        
    def onInput_onStart(self, p):
        sentence = "\RSPD="+ str( self.getParameter("speed") )+ "\ "
        sentence += "\VCT="+ str( self.getParameter("Voice Shaping") ) + "\ " 
        sentence += str(p)
        sentence +=  "\RST\ "
        id = self.tts.post.say(sentence)
        self.ids.append(id)
        self.tts.wait(id, 0)
        self.ids.remove(id)
        self.onStopped() # activate output of the box

    def onInput_onStop(self):
        self.onUnload()]]>
</content>
                                                                                        </script>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="3" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this Input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this Input." id="3" />
                                                                                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when Box behavior is finished." id="4" />
                                                                                        <Parameter name="Voice Shaping" inherits_from_parent="0" content_type="1" value="100" default_value="100" min="50" max="150" tooltip='This tag is used to modify at runtime the voice feature (tone, speed) in way slightly different of what pitch and speed modification does, giving a kind of &quot;gender or age modification &quot; effect.&#x0A;&#x0A;To better tune the effect, one should compensate the speed modification due to the value parameter. For exemple to keep an average constant speed, one should add 20% to speed parameter when decreasing 20% to the Voice Shaping (VCT) parameter :&#x0A;&#x0A;A quite good male derivation of female voice for example could be obtained using the following parameters: VCT=78.' id="5" />
                                                                                        <Parameter name="speed" inherits_from_parent="0" content_type="1" value="85" default_value="100" min="50" max="200" tooltip="change the speed of the voice" id="6" />
                                                                                        <Resource name="TTS" type="Lock" timeout="0" />
                                                                                    </Box>
                                                                                    <Box name="LocalizedText" id="3" tooltip="Enter tooltip here" plugin="localizationbox_plugin" x="88" y="20">
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
	def __init__(self):
		try: # disable autoBind
			GeneratedClass.__init__(self, False)
		except TypeError: # if NAOqi < 1.14
			GeneratedClass.__init__( self )

		self.tts = ALProxy("ALTextToSpeech")
		self.sentences = {
			"Chinese" : " \\RSPD=110\\我是人形机器人，由阿尔德巴兰机器人公司设计。 ",
			"English" : " Each robot alliance also has their own flagpole. ",
			"French" : " Je suis un raubaut humanoïde, imaginé et fabriqué en France. ",
			"German" : "  ",
			"Italian" : "  ",
			"Japanese" : "  ",
			"Korean" : "  ",
			"Portuguese" : "  ",
			"Brazilian" : "  ",
			"Spanish" : " Soy un robot humanoide, diseñado y fabricado en Francia. ",
			"Arabic" : "  ",
			"Polish" : "  ",
			"Czech" : "  ",
			"Dutch" : "  ",
			"Danish" : "  ",
			"Finnish" : " \\RSPD=110\\ Olen humanoidirobotti, \\RSPD=100\\ jonka on rakentanut \\RSPD=115\\ ranskalainen \\RSPD=110\\ yritys nimeltä \\RSPD=105\\ Aldebaran. ",
			"Swedish" : "  ",
			"Russian" : "  ",
			"Turkish" : "  "
		}

	def onInput_onStart(self):
		sDefaultLang = self.tts.getLanguage()
		self.onStopped(self.sentences[sDefaultLang])]]>
</content>
                                                                                        </script>
                                                                                        <pluginContent>
                                                                                            <chinese>\RSPD=110\我是人形机器人，由阿尔德巴兰机器人公司设计。</chinese>
                                                                                            <english>Each robot alliance also has their own flagpole.</english>
                                                                                            <french>Je suis un raubaut humanoïde, imaginé et fabriqué en France.</french>
                                                                                            <german></german>
                                                                                            <italian></italian>
                                                                                            <japanese></japanese>
                                                                                            <korean></korean>
                                                                                            <portuguese></portuguese>
                                                                                            <brazilian></brazilian>
                                                                                            <spanish>Soy un robot humanoide, diseñado y fabricado en Francia.</spanish>
                                                                                            <arabic></arabic>
                                                                                            <polish></polish>
                                                                                            <czech></czech>
                                                                                            <dutch></dutch>
                                                                                            <danish></danish>
                                                                                            <finnish>\RSPD=110\ Olen humanoidirobotti, \RSPD=100\ jonka on rakentanut \RSPD=115\ ranskalainen \RSPD=110\ yritys nimeltä \RSPD=105\ Aldebaran.</finnish>
                                                                                            <swedish></swedish>
                                                                                            <russian></russian>
                                                                                            <turkish></turkish>
                                                                                            <language>1</language>
                                                                                        </pluginContent>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                                                        <Output name="onStopped" type="3" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                                                                    </Box>
                                                                                    <Link inputowner="3" indexofinput="2" outputowner="0" indexofoutput="1" />
                                                                                    <Link inputowner="2" indexofinput="2" outputowner="3" indexofoutput="4" />
                                                                                </Diagram>
                                                                            </BehaviorKeyframe>
                                                                        </BehaviorLayer>
                                                                        <BehaviorLayer name="LED">
                                                                            <BehaviorKeyframe name="blink" index="13">
                                                                                <Diagram>
                                                                                    <Box name="blink" id="1" tooltip="blink" x="130" y="41">
                                                                                        <bitmap>media/images/box/box-diagram.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)

    def onLoad(self):
        #~ puts code for box initialization here
        pass

    def onUnload(self):
        #~ puts code for box cleanup here
        pass

    def onInput_onStart(self):
        rDuration = 0.05;
        ALLeds.post.fadeRGB( "FaceLed0", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed1", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed2", 0xffffff, rDuration );
        ALLeds.post.fadeRGB( "FaceLed3", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed4", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed5", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed6", 0xffffff, rDuration );
        ALLeds.fadeRGB( "FaceLed7", 0x000000, rDuration );

        time.sleep( 0.1 );
        
        rDuration = 0.05;
        ALLeds.fadeRGB( "FaceLeds", 0xffffff, rDuration );
        
        return;
        

    def onInput_onStop(self):
        self.onUnload() #~ it is usually a good idea to call onUnload of this box in a onStop method, as the code written in onUnload is used to finish the working of the box as well
        pass]]>
</content>
                                                                                        </script>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                                                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                                                                    </Box>
                                                                                    <Link inputowner="1" indexofinput="2" outputowner="0" indexofoutput="1" />
                                                                                </Diagram>
                                                                            </BehaviorKeyframe>
                                                                        </BehaviorLayer>
                                                                        <ActuatorList model="Nao">
                                                                            <ActuatorCurve name="value" actuator="HeadYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="23" value="-18.2839" />
                                                                                <Key frame="40" value="-19.9538" />
                                                                                <Key frame="56" value="-33.0497" />
                                                                                <Key frame="74" value="-3.34229" />
                                                                                <Key frame="89" value="-3.78175" />
                                                                                <Key frame="102" value="-4.92434" />
                                                                                <Key frame="116" value="-3.95753" />
                                                                                <Key frame="140" value="-6.33061" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="HeadPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="23" value="9.92936" />
                                                                                <Key frame="40" value="19.949" />
                                                                                <Key frame="56" value="27.3319" />
                                                                                <Key frame="74" value="-18.3718" />
                                                                                <Key frame="89" value="-19.5144" />
                                                                                <Key frame="102" value="-0.00240423" />
                                                                                <Key frame="116" value="-15.9108" />
                                                                                <Key frame="140" value="-16.9655" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LShoulderPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="20" value="82.8795" />
                                                                                <Key frame="37" value="96.8543" />
                                                                                <Key frame="53" value="91.1413" />
                                                                                <Key frame="71" value="90.3503" />
                                                                                <Key frame="86" value="68.5531" />
                                                                                <Key frame="99" value="70.9262" />
                                                                                <Key frame="113" value="84.4615" />
                                                                                <Key frame="137" value="83.6705" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LShoulderRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="20" value="25.4862" />
                                                                                <Key frame="37" value="13.7966" />
                                                                                <Key frame="53" value="13.0056" />
                                                                                <Key frame="71" value="2.19489" />
                                                                                <Key frame="86" value="1.93121" />
                                                                                <Key frame="99" value="1.14019" />
                                                                                <Key frame="113" value="1.14019" />
                                                                                <Key frame="137" value="1.0523" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LElbowYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="20" value="-64.6028" />
                                                                                <Key frame="37" value="-70.3158" />
                                                                                <Key frame="53" value="-55.2863" />
                                                                                <Key frame="71" value="-102.308" />
                                                                                <Key frame="86" value="-56.5168" />
                                                                                <Key frame="99" value="-77.3471" />
                                                                                <Key frame="113" value="-89.3883" />
                                                                                <Key frame="137" value="-55.0226" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LElbowRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="20" value="-88.153" />
                                                                                <Key frame="37" value="-56.0725" />
                                                                                <Key frame="53" value="-65.8285" />
                                                                                <Key frame="71" value="-63.3675" />
                                                                                <Key frame="86" value="-82.0885" />
                                                                                <Key frame="99" value="-73.1235" />
                                                                                <Key frame="113" value="-46.4923" />
                                                                                <Key frame="137" value="-34.6269" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LWristYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="37" value="-20.3933" />
                                                                                <Key frame="71" value="-26.5457" />
                                                                                <Key frame="99" value="-56" />
                                                                                <Key frame="137" value="-8" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LHand" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="37" value="0.671296" />
                                                                                <Key frame="71" value="0.646933" />
                                                                                <Key frame="99" value="0.86" />
                                                                                <Key frame="137" value="0.234545" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RShoulderPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="16" value="61.2629" />
                                                                                <Key frame="33" value="38.8505" />
                                                                                <Key frame="49" value="33.4892" />
                                                                                <Key frame="67" value="60.5598" />
                                                                                <Key frame="82" value="67.0638" />
                                                                                <Key frame="95" value="69.1732" />
                                                                                <Key frame="109" value="70.6674" />
                                                                                <Key frame="133" value="91.8493" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RShoulderRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="16" value="-15.2077" />
                                                                                <Key frame="33" value="-18.8991" />
                                                                                <Key frame="49" value="-14.7682" />
                                                                                <Key frame="67" value="-27.3367" />
                                                                                <Key frame="82" value="-2.46337" />
                                                                                <Key frame="95" value="-3.2544" />
                                                                                <Key frame="109" value="-1.23289" />
                                                                                <Key frame="133" value="-1.49656" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RElbowYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="16" value="44.1192" />
                                                                                <Key frame="33" value="53.6994" />
                                                                                <Key frame="49" value="49.8322" />
                                                                                <Key frame="67" value="94.3933" />
                                                                                <Key frame="82" value="22.41" />
                                                                                <Key frame="95" value="39.9883" />
                                                                                <Key frame="109" value="41.5704" />
                                                                                <Key frame="133" value="69.0805" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RElbowRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="16" value="84.4664" />
                                                                                <Key frame="33" value="89.2125" />
                                                                                <Key frame="49" value="89.0367" />
                                                                                <Key frame="67" value="62.054" />
                                                                                <Key frame="82" value="51.6827" />
                                                                                <Key frame="95" value="76.0287" />
                                                                                <Key frame="109" value="85.8726" />
                                                                                <Key frame="133" value="57.5715" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RWristYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="33" value="75" />
                                                                                <Key frame="67" value="74.6177" />
                                                                                <Key frame="95" value="51" />
                                                                                <Key frame="133" value="52.0295" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RHand" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="33" value="0.2" />
                                                                                <Key frame="67" value="0.198935" />
                                                                                <Key frame="95" value="0.156364" />
                                                                                <Key frame="133" value="0.154935" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LHipYawPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="35" value="-22.7616" />
                                                                                <Key frame="69" value="-18.1033" />
                                                                                <Key frame="97" value="-17.4881" />
                                                                                <Key frame="135" value="-17.4002" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LHipRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="35" value="0.79343" />
                                                                                <Key frame="69" value="7.03374" />
                                                                                <Key frame="97" value="10.6373" />
                                                                                <Key frame="135" value="5.27591" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LHipPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="35" value="14.0651" />
                                                                                <Key frame="69" value="17.0534" />
                                                                                <Key frame="97" value="17.0534" />
                                                                                <Key frame="135" value="17.0534" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LKneePitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="35" value="-5.10012" />
                                                                                <Key frame="69" value="-2.46337" />
                                                                                <Key frame="97" value="-1.76024" />
                                                                                <Key frame="135" value="-2.90283" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LAnklePitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="35" value="9.75358" />
                                                                                <Key frame="69" value="2.28278" />
                                                                                <Key frame="97" value="2.89802" />
                                                                                <Key frame="135" value="3.1617" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LAnkleRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="35" value="-1.22808" />
                                                                                <Key frame="69" value="-5.88634" />
                                                                                <Key frame="97" value="-8.25942" />
                                                                                <Key frame="135" value="-4.83164" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RHipRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="35" value="-15.906" />
                                                                                <Key frame="69" value="-9.75358" />
                                                                                <Key frame="97" value="-6.76526" />
                                                                                <Key frame="135" value="-11.863" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RHipPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="35" value="7.46839" />
                                                                                <Key frame="69" value="18.9822" />
                                                                                <Key frame="97" value="20.0369" />
                                                                                <Key frame="135" value="17.4002" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RKneePitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="35" value="5.80326" />
                                                                                <Key frame="69" value="-4.48007" />
                                                                                <Key frame="97" value="-4.30429" />
                                                                                <Key frame="135" value="-4.39218" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RAnklePitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="35" value="4.39699" />
                                                                                <Key frame="69" value="2.72705" />
                                                                                <Key frame="97" value="3.07861" />
                                                                                <Key frame="135" value="3.95753" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RAnkleRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="35" value="11.3404" />
                                                                                <Key frame="69" value="7.20953" />
                                                                                <Key frame="97" value="5.18802" />
                                                                                <Key frame="135" value="8.79158" />
                                                                            </ActuatorCurve>
                                                                        </ActuatorList>
                                                                    </Timeline>
                                                                    <Resource name="Standing" type="Lock" timeout="2" />
                                                                    <Resource name="HeadYaw" type="Lock" timeout="2" />
                                                                    <Resource name="HeadPitch" type="Lock" timeout="2" />
                                                                    <Resource name="LShoulderPitch" type="Lock" timeout="2" />
                                                                    <Resource name="LShoulderRoll" type="Lock" timeout="2" />
                                                                    <Resource name="LElbowRoll" type="Lock" timeout="2" />
                                                                    <Resource name="LElbowYaw" type="Lock" timeout="2" />
                                                                    <Resource name="LWristYaw" type="Lock" timeout="2" />
                                                                    <Resource name="LHand" type="Lock" timeout="2" />
                                                                    <Resource name="RShoulderPitch" type="Lock" timeout="2" />
                                                                    <Resource name="RShoulderRoll" type="Lock" timeout="2" />
                                                                    <Resource name="RElbowRoll" type="Lock" timeout="2" />
                                                                    <Resource name="RElbowYaw" type="Lock" timeout="2" />
                                                                    <Resource name="RWristYaw" type="Lock" timeout="2" />
                                                                    <Resource name="RHand" type="Lock" timeout="2" />
                                                                    <Resource name="LHipYawPitch" type="Lock" timeout="2" />
                                                                    <Resource name="LHipPitch" type="Lock" timeout="2" />
                                                                    <Resource name="LHipRoll" type="Lock" timeout="2" />
                                                                    <Resource name="LKneePitch" type="Lock" timeout="2" />
                                                                    <Resource name="LAnklePitch" type="Lock" timeout="2" />
                                                                    <Resource name="LAnkleRoll" type="Lock" timeout="2" />
                                                                    <Resource name="RHipPitch" type="Lock" timeout="2" />
                                                                    <Resource name="RHipRoll" type="Lock" timeout="2" />
                                                                    <Resource name="RKneePitch" type="Lock" timeout="2" />
                                                                    <Resource name="RAnklePitch" type="Lock" timeout="2" />
                                                                    <Resource name="RAnkleRoll" type="Lock" timeout="2" />
                                                                    <Resource name="Speakers" type="Lock" timeout="2" />
                                                                </Box>
                                                                <Box name="Sentence8" id="10" tooltip="This box is empty (contains a single motion layer with no motors defined in it) and should be used to create any movement you&apos;d like." x="1133" y="545">
                                                                    <bitmap>media/images/box/movement/move.png</bitmap>
                                                                    <script language="4">
                                                                        <content>
                                                                            <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)

    def onLoad(self):
        #~ puts code for box initialization here
        pass

    def onUnload(self):
        #~ puts code for box cleanup here
        pass

    def onInput_onStart(self):
        #~ self.onStopped() #~ activate output of the box
        pass

    def onInput_onStop(self):
        self.onUnload() #~ it is recommanded to call onUnload of this box in a onStop method, as the code written in onUnload is used to stop the box as well
        pass]]>
</content>
                                                                    </script>
                                                                    <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                                                                    <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this Input." id="2" />
                                                                    <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this Input." id="3" />
                                                                    <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when Box behavior is finished." id="4" />
                                                                    <Timeline enable="1" fps="25" start_frame="0" end_frame="143" size="300">
                                                                        <BehaviorLayer name="speech">
                                                                            <BehaviorKeyframe name="speech" index="10">
                                                                                <Diagram>
                                                                                    <Box name="LocalizedText" id="1" tooltip="Enter tooltip here" plugin="localizationbox_plugin" x="105" y="31">
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
	def __init__(self):
		try: # disable autoBind
			GeneratedClass.__init__(self, False)
		except TypeError: # if NAOqi < 1.14
			GeneratedClass.__init__( self )

		self.tts = ALProxy("ALTextToSpeech")
		self.sentences = {
			"Chinese" : " 我自身带有软件并且完全可编程 ",
			"English" : " The scoring Elements in this game are yellow plastic blocks. ",
			"French" : " Livré avec un logiciel, et entièrement programmable. ",
			"German" : "  ",
			"Italian" : "  ",
			"Japanese" : "  ",
			"Korean" : "  ",
			"Portuguese" : "  ",
			"Brazilian" : "  ",
			"Spanish" : " Tengo incluido un software y soy completamente programable. ",
			"Arabic" : "  ",
			"Polish" : "  ",
			"Czech" : "  ",
			"Dutch" : "  ",
			"Danish" : "  ",
			"Finnish" : " Mukanani tulee ohjelmistoa ja olen täysin ohjelmoitavissa. ",
			"Swedish" : "  ",
			"Russian" : "  ",
			"Turkish" : "  "
		}

	def onInput_onStart(self):
		sDefaultLang = self.tts.getLanguage()
		self.onStopped(self.sentences[sDefaultLang])]]>
</content>
                                                                                        </script>
                                                                                        <pluginContent>
                                                                                            <chinese>我自身带有软件并且完全可编程</chinese>
                                                                                            <english>The scoring Elements in this game are yellow plastic blocks.</english>
                                                                                            <french>Livré avec un logiciel, et entièrement programmable.</french>
                                                                                            <german></german>
                                                                                            <italian></italian>
                                                                                            <japanese></japanese>
                                                                                            <korean></korean>
                                                                                            <portuguese></portuguese>
                                                                                            <brazilian></brazilian>
                                                                                            <spanish>Tengo incluido un software y soy completamente programable.</spanish>
                                                                                            <arabic></arabic>
                                                                                            <polish></polish>
                                                                                            <czech></czech>
                                                                                            <dutch></dutch>
                                                                                            <danish></danish>
                                                                                            <finnish>Mukanani tulee ohjelmistoa ja olen täysin ohjelmoitavissa.</finnish>
                                                                                            <swedish></swedish>
                                                                                            <russian></russian>
                                                                                            <turkish></turkish>
                                                                                            <language>1</language>
                                                                                        </pluginContent>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                                                        <Output name="onStopped" type="3" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                                                                    </Box>
                                                                                    <Box name="Say Text" id="2" tooltip="Say the sentence asked. See box parameters for fine tuning of the voice." x="428" y="31">
                                                                                        <bitmap>media/images/box/interaction/say.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)
        self.tts = ALProxy('ALTextToSpeech')
        self.ttsStop = ALProxy('ALTextToSpeech', True) #Create another proxy as wait is blocking if audioout is remote
        
    def onLoad(self):
        #puts code for box cleanup here
        self.ids = []
        
    def onUnload(self):
        #puts code for box cleanup here    
        for id in self.ids:
            try:
                self.ttsStop.stop(id)
            except:
                pass
        
    def onInput_onStart(self, p):
        sentence = "\RSPD="+ str( self.getParameter("speed") )+ "\ "
        sentence += "\VCT="+ str( self.getParameter("Voice Shaping") ) + "\ " 
        sentence += str(p)
        sentence +=  "\RST\ "
        id = self.tts.post.say(sentence)
        self.ids.append(id)
        self.tts.wait(id, 0)
        self.ids.remove(id)
        self.onStopped() # activate output of the box

    def onInput_onStop(self):
        self.onUnload()]]>
</content>
                                                                                        </script>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="3" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this Input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this Input." id="3" />
                                                                                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when Box behavior is finished." id="4" />
                                                                                        <Parameter name="Voice Shaping" inherits_from_parent="0" content_type="1" value="100" default_value="100" min="50" max="150" tooltip='This tag is used to modify at runtime the voice feature (tone, speed) in way slightly different of what pitch and speed modification does, giving a kind of &quot;gender or age modification &quot; effect.&#x0A;&#x0A;To better tune the effect, one should compensate the speed modification due to the value parameter. For exemple to keep an average constant speed, one should add 20% to speed parameter when decreasing 20% to the Voice Shaping (VCT) parameter :&#x0A;&#x0A;A quite good male derivation of female voice for example could be obtained using the following parameters: VCT=78.' id="5" />
                                                                                        <Parameter name="speed" inherits_from_parent="0" content_type="1" value="85" default_value="100" min="50" max="200" tooltip="change the speed of the voice" id="6" />
                                                                                        <Resource name="TTS" type="Lock" timeout="0" />
                                                                                    </Box>
                                                                                    <Link inputowner="2" indexofinput="2" outputowner="1" indexofoutput="4" />
                                                                                    <Link inputowner="1" indexofinput="2" outputowner="0" indexofoutput="1" />
                                                                                </Diagram>
                                                                            </BehaviorKeyframe>
                                                                        </BehaviorLayer>
                                                                        <BehaviorLayer name="LED">
                                                                            <BehaviorKeyframe name="blink" index="15">
                                                                                <Diagram>
                                                                                    <Box name="blink" id="1" tooltip="blink" x="130" y="41">
                                                                                        <bitmap>media/images/box/box-diagram.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)

    def onLoad(self):
        #~ puts code for box initialization here
        pass

    def onUnload(self):
        #~ puts code for box cleanup here
        pass

    def onInput_onStart(self):
        rDuration = 0.05;
        ALLeds.post.fadeRGB( "FaceLed0", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed1", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed2", 0xffffff, rDuration );
        ALLeds.post.fadeRGB( "FaceLed3", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed4", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed5", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed6", 0xffffff, rDuration );
        ALLeds.fadeRGB( "FaceLed7", 0x000000, rDuration );

        time.sleep( 0.1 );
        
        rDuration = 0.05;
        ALLeds.fadeRGB( "FaceLeds", 0xffffff, rDuration );
        
        return;
        

    def onInput_onStop(self):
        self.onUnload() #~ it is usually a good idea to call onUnload of this box in a onStop method, as the code written in onUnload is used to finish the working of the box as well
        pass]]>
</content>
                                                                                        </script>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                                                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                                                                    </Box>
                                                                                    <Link inputowner="1" indexofinput="2" outputowner="0" indexofoutput="1" />
                                                                                </Diagram>
                                                                            </BehaviorKeyframe>
                                                                            <BehaviorKeyframe name="blink_copy" index="54">
                                                                                <Diagram>
                                                                                    <Box name="blink" id="1" tooltip="blink" x="130" y="41">
                                                                                        <bitmap>media/images/box/box-diagram.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)

    def onLoad(self):
        #~ puts code for box initialization here
        pass

    def onUnload(self):
        #~ puts code for box cleanup here
        pass

    def onInput_onStart(self):
        rDuration = 0.05;
        ALLeds.post.fadeRGB( "FaceLed0", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed1", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed2", 0xffffff, rDuration );
        ALLeds.post.fadeRGB( "FaceLed3", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed4", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed5", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed6", 0xffffff, rDuration );
        ALLeds.fadeRGB( "FaceLed7", 0x000000, rDuration );

        time.sleep( 0.1 );
        
        rDuration = 0.05;
        ALLeds.fadeRGB( "FaceLeds", 0xffffff, rDuration );
        
        return;
        

    def onInput_onStop(self):
        self.onUnload() #~ it is usually a good idea to call onUnload of this box in a onStop method, as the code written in onUnload is used to finish the working of the box as well
        pass]]>
</content>
                                                                                        </script>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                                                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                                                                    </Box>
                                                                                    <Link inputowner="1" indexofinput="2" outputowner="0" indexofoutput="1" />
                                                                                </Diagram>
                                                                            </BehaviorKeyframe>
                                                                        </BehaviorLayer>
                                                                        <ActuatorList model="Nao">
                                                                            <ActuatorCurve name="value" actuator="HeadYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="29" value="-6.59428" />
                                                                                <Key frame="45" value="-6.06693" />
                                                                                <Key frame="59" value="-6.15482" />
                                                                                <Key frame="96" value="-2.55126" />
                                                                                <Key frame="116" value="-5.97904" />
                                                                                <Key frame="135" value="-5.89115" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="HeadPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="29" value="-21.0964" />
                                                                                <Key frame="45" value="-15.9108" />
                                                                                <Key frame="59" value="6.06212" />
                                                                                <Key frame="96" value="9.75358" />
                                                                                <Key frame="116" value="-18.8112" />
                                                                                <Key frame="135" value="-15.735" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LShoulderPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="26" value="78.5728" />
                                                                                <Key frame="40" value="79.5396" />
                                                                                <Key frame="66" value="47.547" />
                                                                                <Key frame="82" value="47.547" />
                                                                                <Key frame="98" value="42.8888" />
                                                                                <Key frame="112" value="60.1155" />
                                                                                <Key frame="132" value="73.0356" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LShoulderRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="26" value="1.22808" />
                                                                                <Key frame="40" value="4.83164" />
                                                                                <Key frame="66" value="6.3258" />
                                                                                <Key frame="82" value="6.3258" />
                                                                                <Key frame="98" value="14.8513" />
                                                                                <Key frame="112" value="12.3903" />
                                                                                <Key frame="132" value="6.06212" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LElbowYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="26" value="-45.0909" />
                                                                                <Key frame="40" value="-104.857" />
                                                                                <Key frame="66" value="-35.5986" />
                                                                                <Key frame="82" value="-35.5986" />
                                                                                <Key frame="88" value="-49" />
                                                                                <Key frame="98" value="-27.3367" />
                                                                                <Key frame="112" value="-74.0072" />
                                                                                <Key frame="132" value="-34.456" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LElbowRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="26" value="-47.3712" />
                                                                                <Key frame="40" value="-56.4241" />
                                                                                <Key frame="53" value="-84" />
                                                                                <Key frame="66" value="-59.8519" />
                                                                                <Key frame="74" value="-84" />
                                                                                <Key frame="82" value="-59.8519" />
                                                                                <Key frame="88" value="-69" />
                                                                                <Key frame="99" value="-56.6878" />
                                                                                <Key frame="112" value="-54.842" />
                                                                                <Key frame="132" value="-40.6036" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LWristYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="40" value="11" />
                                                                                <Key frame="53" value="57" />
                                                                                <Key frame="66" value="38" />
                                                                                <Key frame="74" value="57" />
                                                                                <Key frame="82" value="38" />
                                                                                <Key frame="98" value="14" />
                                                                                <Key frame="112" value="-57" />
                                                                                <Key frame="132" value="-29" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LHand" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="40" value="0.224389" />
                                                                                <Key frame="66" value="0.390909" />
                                                                                <Key frame="82" value="0.390909" />
                                                                                <Key frame="112" value="0.39348" />
                                                                                <Key frame="132" value="0.181818" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RShoulderPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="23" value="79.105" />
                                                                                <Key frame="40" value="64.0755" />
                                                                                <Key frame="53" value="46.3213" />
                                                                                <Key frame="74" value="46.3213" />
                                                                                <Key frame="88" value="45.8819" />
                                                                                <Key frame="99" value="44.8272" />
                                                                                <Key frame="110" value="55.9015" />
                                                                                <Key frame="128" value="88.8609" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RShoulderRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="23" value="-1.40867" />
                                                                                <Key frame="40" value="-5.10012" />
                                                                                <Key frame="53" value="-19.0749" />
                                                                                <Key frame="74" value="-19.0749" />
                                                                                <Key frame="88" value="-21.7117" />
                                                                                <Key frame="98" value="-20.5691" />
                                                                                <Key frame="110" value="-13.2741" />
                                                                                <Key frame="128" value="-2.81494" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RElbowYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="23" value="46.0529" />
                                                                                <Key frame="40" value="103.182" />
                                                                                <Key frame="53" value="28.2987" />
                                                                                <Key frame="66" value="61" />
                                                                                <Key frame="74" value="28.2987" />
                                                                                <Key frame="82" value="61" />
                                                                                <Key frame="88" value="40.1641" />
                                                                                <Key frame="99" value="67.5863" />
                                                                                <Key frame="110" value="102.479" />
                                                                                <Key frame="128" value="73.2993" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RElbowRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="23" value="69.1732" />
                                                                                <Key frame="40" value="57.923" />
                                                                                <Key frame="47" value="85" />
                                                                                <Key frame="53" value="66.1849" />
                                                                                <Key frame="66" value="70" />
                                                                                <Key frame="74" value="66.1849" />
                                                                                <Key frame="82" value="70" />
                                                                                <Key frame="88" value="52.3859" />
                                                                                <Key frame="98" value="74.183" />
                                                                                <Key frame="110" value="60.0325" />
                                                                                <Key frame="128" value="38.8505" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RWristYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="40" value="54.2268" />
                                                                                <Key frame="53" value="-32" />
                                                                                <Key frame="74" value="-32" />
                                                                                <Key frame="98" value="-24" />
                                                                                <Key frame="110" value="37" />
                                                                                <Key frame="128" value="6" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RHand" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="40" value="0.156753" />
                                                                                <Key frame="53" value="0.509091" />
                                                                                <Key frame="74" value="0.509091" />
                                                                                <Key frame="110" value="0.6" />
                                                                                <Key frame="128" value="0.209091" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LHipYawPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="40" value="-17.2244" />
                                                                                <Key frame="111" value="-17.5759" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LHipRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="40" value="12.5709" />
                                                                                <Key frame="111" value="7.29742" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LHipPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="40" value="18.1081" />
                                                                                <Key frame="111" value="18.6355" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LKneePitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="40" value="-2.55126" />
                                                                                <Key frame="111" value="-2.46337" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LAnklePitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="40" value="2.63435" />
                                                                                <Key frame="111" value="1.14019" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LAnkleRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="40" value="-9.66569" />
                                                                                <Key frame="111" value="-6.50158" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RHipRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="40" value="-6.06212" />
                                                                                <Key frame="111" value="-11.3356" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RHipPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="40" value="21.2674" />
                                                                                <Key frame="111" value="19.8611" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RKneePitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="40" value="-4.39218" />
                                                                                <Key frame="111" value="-4.48007" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RAnklePitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="40" value="1.67235" />
                                                                                <Key frame="111" value="1.40867" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RAnkleRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="40" value="4.92434" />
                                                                                <Key frame="111" value="8.61579" />
                                                                            </ActuatorCurve>
                                                                        </ActuatorList>
                                                                    </Timeline>
                                                                    <Resource name="Standing" type="Lock" timeout="2" />
                                                                    <Resource name="HeadYaw" type="Lock" timeout="2" />
                                                                    <Resource name="HeadPitch" type="Lock" timeout="2" />
                                                                    <Resource name="LShoulderPitch" type="Lock" timeout="2" />
                                                                    <Resource name="LShoulderRoll" type="Lock" timeout="2" />
                                                                    <Resource name="LElbowRoll" type="Lock" timeout="2" />
                                                                    <Resource name="LElbowYaw" type="Lock" timeout="2" />
                                                                    <Resource name="LWristYaw" type="Lock" timeout="2" />
                                                                    <Resource name="LHand" type="Lock" timeout="2" />
                                                                    <Resource name="RShoulderPitch" type="Lock" timeout="2" />
                                                                    <Resource name="RShoulderRoll" type="Lock" timeout="2" />
                                                                    <Resource name="RElbowRoll" type="Lock" timeout="2" />
                                                                    <Resource name="RElbowYaw" type="Lock" timeout="2" />
                                                                    <Resource name="RWristYaw" type="Lock" timeout="2" />
                                                                    <Resource name="RHand" type="Lock" timeout="2" />
                                                                    <Resource name="LHipYawPitch" type="Lock" timeout="2" />
                                                                    <Resource name="LHipPitch" type="Lock" timeout="2" />
                                                                    <Resource name="LHipRoll" type="Lock" timeout="2" />
                                                                    <Resource name="LKneePitch" type="Lock" timeout="2" />
                                                                    <Resource name="LAnklePitch" type="Lock" timeout="2" />
                                                                    <Resource name="LAnkleRoll" type="Lock" timeout="2" />
                                                                    <Resource name="RHipPitch" type="Lock" timeout="2" />
                                                                    <Resource name="RHipRoll" type="Lock" timeout="2" />
                                                                    <Resource name="RKneePitch" type="Lock" timeout="2" />
                                                                    <Resource name="RAnklePitch" type="Lock" timeout="2" />
                                                                    <Resource name="RAnkleRoll" type="Lock" timeout="2" />
                                                                    <Resource name="Speakers" type="Lock" timeout="2" />
                                                                </Box>
                                                                <Box name="Sentence9" id="11" tooltip="This box is empty (contains a single motion layer with no motors defined in it) and should be used to create any movement you&apos;d like." x="1240" y="594">
                                                                    <bitmap>media/images/box/movement/move.png</bitmap>
                                                                    <script language="4">
                                                                        <content>
                                                                            <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)

    def onLoad(self):
        #~ puts code for box initialization here
        pass

    def onUnload(self):
        #~ puts code for box cleanup here
        pass

    def onInput_onStart(self):
        #~ self.onStopped() #~ activate output of the box
        pass

    def onInput_onStop(self):
        self.onStopped()]]>
</content>
                                                                    </script>
                                                                    <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                                                                    <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this Input." id="2" />
                                                                    <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this Input." id="3" />
                                                                    <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when Box behavior is finished." id="4" />
                                                                    <Parameter name="Number of Naos" inherits_from_parent="1" content_type="1" value="2000" default_value="0" min="0" max="1000000" tooltip="" id="5" />
                                                                    <Timeline enable="1" fps="25" start_frame="0" end_frame="215" size="300">
                                                                        <BehaviorLayer name="speech">
                                                                            <BehaviorKeyframe name="speech" index="10">
                                                                                <Diagram>
                                                                                    <Box name="LocalizedText" id="3" tooltip="Enter tooltip here" plugin="localizationbox_plugin" x="117" y="30">
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
	def __init__(self):
		try: # disable autoBind
			GeneratedClass.__init__(self, False)
		except TypeError: # if NAOqi < 1.14
			GeneratedClass.__init__( self )

		self.tts = ALProxy("ALTextToSpeech")
		self.sentences = {
			"Chinese" : " 我有两千多个兄弟分布在全球各地的高校和实验室中。 ",
			"English" : " These blocks have to be deposited in the pendulum goal baskets or floor scoring areas. ",
			"French" : " Il y a plus de {nbRobots} Nao en utilisation, tout autour du monde, dans les universités et laboratoires. ",
			"German" : "  ",
			"Italian" : "  ",
			"Japanese" : "  ",
			"Korean" : "  ",
			"Portuguese" : "  ",
			"Brazilian" : "  ",
			"Spanish" : " Hay más de {nbRobots} robots ? Nao en utilización en todo el mundo, en universidades y laboratorios de investigación. ",
			"Arabic" : "  ",
			"Polish" : "  ",
			"Czech" : "  ",
			"Dutch" : "  ",
			"Danish" : "  ",
			"Finnish" : " Minulla on yli {nbRobots} sisarusta ympäri maailmaa yliopistoissa ja tutkimuslaitoksissa. ",
			"Swedish" : "  ",
			"Russian" : "  ",
			"Turkish" : "  "
		}

	def onInput_onStart(self):
		sDefaultLang = self.tts.getLanguage()
		self.onStopped(self.sentences[sDefaultLang])]]>
</content>
                                                                                        </script>
                                                                                        <pluginContent>
                                                                                            <chinese>我有两千多个兄弟分布在全球各地的高校和实验室中。</chinese>
                                                                                            <english>These blocks have to be deposited in the pendulum goal baskets or floor scoring areas.</english>
                                                                                            <french>Il y a plus de {nbRobots} Nao en utilisation, tout autour du monde, dans les universités et laboratoires.</french>
                                                                                            <german></german>
                                                                                            <italian></italian>
                                                                                            <japanese></japanese>
                                                                                            <korean></korean>
                                                                                            <portuguese></portuguese>
                                                                                            <brazilian></brazilian>
                                                                                            <spanish>Hay más de {nbRobots} robots ? Nao en utilización en todo el mundo, en universidades y laboratorios de investigación.</spanish>
                                                                                            <arabic></arabic>
                                                                                            <polish></polish>
                                                                                            <czech></czech>
                                                                                            <dutch></dutch>
                                                                                            <danish></danish>
                                                                                            <finnish>Minulla on yli {nbRobots} sisarusta ympäri maailmaa yliopistoissa ja tutkimuslaitoksissa.</finnish>
                                                                                            <swedish></swedish>
                                                                                            <russian></russian>
                                                                                            <turkish></turkish>
                                                                                            <language>1</language>
                                                                                        </pluginContent>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                                                        <Output name="onStopped" type="3" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                                                                    </Box>
                                                                                    <Box name="Say Text" id="4" tooltip="Say the sentence asked. See box parameters for fine tuning of the voice." x="589" y="29">
                                                                                        <bitmap>media/images/box/interaction/say.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)
        self.tts = ALProxy('ALTextToSpeech')
        self.ttsStop = ALProxy('ALTextToSpeech', True) #Create another proxy as wait is blocking if audioout is remote
        
    def onLoad(self):
        #puts code for box cleanup here
        self.ids = []
        
    def onUnload(self):
        #puts code for box cleanup here    
        for id in self.ids:
            try:
                self.ttsStop.stop(id)
            except:
                pass
        
    def onInput_onStart(self, p):
        sentence = "\RSPD="+ str( self.getParameter("speed") )+ "\ "
        sentence += "\VCT="+ str( self.getParameter("Voice Shaping") ) + "\ " 
        sentence += str(p)
        sentence +=  "\RST\ "
        id = self.tts.post.say(sentence)
        self.ids.append(id)
        self.tts.wait(id, 0)
        self.ids.remove(id)
        self.onStopped() # activate output of the box

    def onInput_onStop(self):
        self.onUnload()]]>
</content>
                                                                                        </script>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="3" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this Input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this Input." id="3" />
                                                                                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when Box behavior is finished." id="4" />
                                                                                        <Parameter name="Voice Shaping" inherits_from_parent="0" content_type="1" value="100" default_value="100" min="50" max="150" tooltip='This tag is used to modify at runtime the voice feature (tone, speed) in way slightly different of what pitch and speed modification does, giving a kind of &quot;gender or age modification &quot; effect.&#x0A;&#x0A;To better tune the effect, one should compensate the speed modification due to the value parameter. For exemple to keep an average constant speed, one should add 20% to speed parameter when decreasing 20% to the Voice Shaping (VCT) parameter :&#x0A;&#x0A;A quite good male derivation of female voice for example could be obtained using the following parameters: VCT=78.' id="5" />
                                                                                        <Parameter name="speed" inherits_from_parent="0" content_type="1" value="85" default_value="100" min="50" max="200" tooltip="change the speed of the voice" id="6" />
                                                                                        <Resource name="TTS" type="Lock" timeout="0" />
                                                                                    </Box>
                                                                                    <Box name="Gen. sentence" id="1" tooltip="" x="420" y="33">
                                                                                        <bitmap>media/images/box/box-diagram.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)

    def onLoad(self):
        #~ puts code for box initialization here
        pass

    def onUnload(self):
        #~ puts code for box cleanup here
        pass

    def onInput_onStart(self, p):
        self.onStopped(p.format(nbRobots = self.getParameter("Number of Naos")))
        pass]]>
</content>
                                                                                        </script>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="3" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                                        <Output name="onStopped" type="3" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="3" />
                                                                                    </Box>
                                                                                    <Link inputowner="3" indexofinput="2" outputowner="0" indexofoutput="1" />
                                                                                    <Link inputowner="1" indexofinput="2" outputowner="3" indexofoutput="4" />
                                                                                    <Link inputowner="4" indexofinput="2" outputowner="1" indexofoutput="3" />
                                                                                </Diagram>
                                                                            </BehaviorKeyframe>
                                                                        </BehaviorLayer>
                                                                        <BehaviorLayer name="LED">
                                                                            <BehaviorKeyframe name="blink" index="7">
                                                                                <Diagram>
                                                                                    <Box name="blink" id="1" tooltip="blink" x="130" y="41">
                                                                                        <bitmap>media/images/box/box-diagram.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)

    def onLoad(self):
        #~ puts code for box initialization here
        pass

    def onUnload(self):
        #~ puts code for box cleanup here
        pass

    def onInput_onStart(self):
        rDuration = 0.05;
        ALLeds.post.fadeRGB( "FaceLed0", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed1", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed2", 0xffffff, rDuration );
        ALLeds.post.fadeRGB( "FaceLed3", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed4", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed5", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed6", 0xffffff, rDuration );
        ALLeds.fadeRGB( "FaceLed7", 0x000000, rDuration );

        time.sleep( 0.1 );
        
        rDuration = 0.05;
        ALLeds.fadeRGB( "FaceLeds", 0xffffff, rDuration );
        
        return;
        

    def onInput_onStop(self):
        self.onUnload() #~ it is usually a good idea to call onUnload of this box in a onStop method, as the code written in onUnload is used to finish the working of the box as well
        pass]]>
</content>
                                                                                        </script>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                                                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                                                                    </Box>
                                                                                    <Link inputowner="1" indexofinput="2" outputowner="0" indexofoutput="1" />
                                                                                </Diagram>
                                                                            </BehaviorKeyframe>
                                                                            <BehaviorKeyframe name="blink_copy" index="83">
                                                                                <Diagram>
                                                                                    <Box name="blink" id="1" tooltip="blink" x="130" y="41">
                                                                                        <bitmap>media/images/box/box-diagram.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)

    def onLoad(self):
        #~ puts code for box initialization here
        pass

    def onUnload(self):
        #~ puts code for box cleanup here
        pass

    def onInput_onStart(self):
        rDuration = 0.05;
        ALLeds.post.fadeRGB( "FaceLed0", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed1", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed2", 0xffffff, rDuration );
        ALLeds.post.fadeRGB( "FaceLed3", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed4", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed5", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed6", 0xffffff, rDuration );
        ALLeds.fadeRGB( "FaceLed7", 0x000000, rDuration );

        time.sleep( 0.1 );
        
        rDuration = 0.05;
        ALLeds.fadeRGB( "FaceLeds", 0xffffff, rDuration );
        
        return;
        

    def onInput_onStop(self):
        self.onUnload() #~ it is usually a good idea to call onUnload of this box in a onStop method, as the code written in onUnload is used to finish the working of the box as well
        pass]]>
</content>
                                                                                        </script>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                                                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                                                                    </Box>
                                                                                    <Link inputowner="1" indexofinput="2" outputowner="0" indexofoutput="1" />
                                                                                </Diagram>
                                                                            </BehaviorKeyframe>
                                                                            <BehaviorKeyframe name="blink_copy_copy" index="124">
                                                                                <Diagram>
                                                                                    <Box name="blink" id="1" tooltip="blink" x="130" y="41">
                                                                                        <bitmap>media/images/box/box-diagram.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)

    def onLoad(self):
        #~ puts code for box initialization here
        pass

    def onUnload(self):
        #~ puts code for box cleanup here
        pass

    def onInput_onStart(self):
        rDuration = 0.05;
        ALLeds.post.fadeRGB( "FaceLed0", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed1", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed2", 0xffffff, rDuration );
        ALLeds.post.fadeRGB( "FaceLed3", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed4", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed5", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed6", 0xffffff, rDuration );
        ALLeds.fadeRGB( "FaceLed7", 0x000000, rDuration );

        time.sleep( 0.1 );
        
        rDuration = 0.05;
        ALLeds.fadeRGB( "FaceLeds", 0xffffff, rDuration );
        
        return;
        

    def onInput_onStop(self):
        self.onUnload() #~ it is usually a good idea to call onUnload of this box in a onStop method, as the code written in onUnload is used to finish the working of the box as well
        pass]]>
</content>
                                                                                        </script>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                                                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                                                                    </Box>
                                                                                    <Link inputowner="1" indexofinput="2" outputowner="0" indexofoutput="1" />
                                                                                </Diagram>
                                                                            </BehaviorKeyframe>
                                                                            <BehaviorKeyframe name="blink_copy_copy_copy" index="194">
                                                                                <Diagram>
                                                                                    <Box name="blink" id="1" tooltip="blink" x="130" y="41">
                                                                                        <bitmap>media/images/box/box-diagram.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)

    def onLoad(self):
        #~ puts code for box initialization here
        pass

    def onUnload(self):
        #~ puts code for box cleanup here
        pass

    def onInput_onStart(self):
        rDuration = 0.05;
        ALLeds.post.fadeRGB( "FaceLed0", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed1", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed2", 0xffffff, rDuration );
        ALLeds.post.fadeRGB( "FaceLed3", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed4", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed5", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed6", 0xffffff, rDuration );
        ALLeds.fadeRGB( "FaceLed7", 0x000000, rDuration );

        time.sleep( 0.1 );
        
        rDuration = 0.05;
        ALLeds.fadeRGB( "FaceLeds", 0xffffff, rDuration );
        
        return;
        

    def onInput_onStop(self):
        self.onUnload() #~ it is usually a good idea to call onUnload of this box in a onStop method, as the code written in onUnload is used to finish the working of the box as well
        pass]]>
</content>
                                                                                        </script>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                                                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                                                                    </Box>
                                                                                    <Link inputowner="1" indexofinput="2" outputowner="0" indexofoutput="1" />
                                                                                </Diagram>
                                                                            </BehaviorKeyframe>
                                                                        </BehaviorLayer>
                                                                        <ActuatorList model="Nao">
                                                                            <ActuatorCurve name="value" actuator="HeadYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="23" value="-1.84813" />
                                                                                <Key frame="38" value="-2.81494" />
                                                                                <Key frame="52" value="-4.13332" />
                                                                                <Key frame="66" value="-7.91266" />
                                                                                <Key frame="82" value="13.445" />
                                                                                <Key frame="115" value="-25.0515" />
                                                                                <Key frame="134" value="-10.11" />
                                                                                <Key frame="152" value="-2.37548" />
                                                                                <Key frame="169" value="-3.07861" />
                                                                                <Key frame="184" value="-2.90283" />
                                                                                <Key frame="208" value="-2.28759" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="HeadPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="23" value="-22.3269" />
                                                                                <Key frame="38" value="-18.987" />
                                                                                <Key frame="52" value="-13.6256" />
                                                                                <Key frame="66" value="-22.4148" />
                                                                                <Key frame="82" value="5.97423" />
                                                                                <Key frame="115" value="-22.3269" />
                                                                                <Key frame="134" value="12.7419" />
                                                                                <Key frame="152" value="-21.9753" />
                                                                                <Key frame="169" value="-20.2175" />
                                                                                <Key frame="184" value="-18.0202" />
                                                                                <Key frame="208" value="-7.56109" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LShoulderPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="20" value="82.6158" />
                                                                                <Key frame="35" value="96.1511" />
                                                                                <Key frame="49" value="86.6588" />
                                                                                <Key frame="63" value="90.614" />
                                                                                <Key frame="79" value="77.606" />
                                                                                <Key frame="112" value="67.2348" />
                                                                                <Key frame="131" value="72.0688" />
                                                                                <Key frame="149" value="60.6429" />
                                                                                <Key frame="166" value="49.4806" />
                                                                                <Key frame="181" value="89.2077" />
                                                                                <Key frame="205" value="82.6158" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LShoulderRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="20" value="1.40386" />
                                                                                <Key frame="35" value="1.14019" />
                                                                                <Key frame="49" value="1.0523" />
                                                                                <Key frame="63" value="8.78677" />
                                                                                <Key frame="79" value="1.31597" />
                                                                                <Key frame="112" value="27.244" />
                                                                                <Key frame="131" value="2.107" />
                                                                                <Key frame="149" value="2.28278" />
                                                                                <Key frame="166" value="12.5661" />
                                                                                <Key frame="181" value="14.5876" />
                                                                                <Key frame="205" value="5.62267" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LElbowYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="20" value="-51.507" />
                                                                                <Key frame="35" value="-103.539" />
                                                                                <Key frame="49" value="-65.4817" />
                                                                                <Key frame="63" value="-104.506" />
                                                                                <Key frame="79" value="-42.4541" />
                                                                                <Key frame="99" value="-62" />
                                                                                <Key frame="112" value="-101.869" />
                                                                                <Key frame="131" value="-43.1572" />
                                                                                <Key frame="149" value="-59.9446" />
                                                                                <Key frame="166" value="-100.99" />
                                                                                <Key frame="181" value="-101.078" />
                                                                                <Key frame="205" value="-55.4621" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LElbowRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="20" value="-52.8205" />
                                                                                <Key frame="35" value="-45.965" />
                                                                                <Key frame="49" value="-40.4278" />
                                                                                <Key frame="63" value="-43.6798" />
                                                                                <Key frame="79" value="-57.0393" />
                                                                                <Key frame="99" value="-72" />
                                                                                <Key frame="112" value="-37.2637" />
                                                                                <Key frame="131" value="-55.6331" />
                                                                                <Key frame="149" value="-75.7603" />
                                                                                <Key frame="166" value="-64.9496" />
                                                                                <Key frame="181" value="-23.201" />
                                                                                <Key frame="205" value="-33.5722" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LWristYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="35" value="29" />
                                                                                <Key frame="49" value="-5" />
                                                                                <Key frame="79" value="-5.18802" />
                                                                                <Key frame="112" value="-35" />
                                                                                <Key frame="149" value="-67" />
                                                                                <Key frame="181" value="-66.3607" />
                                                                                <Key frame="205" value="-10" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LHand" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="35" value="0.0727535" />
                                                                                <Key frame="79" value="0.0752989" />
                                                                                <Key frame="112" value="0.729091" />
                                                                                <Key frame="149" value="0.181818" />
                                                                                <Key frame="181" value="0.175662" />
                                                                                <Key frame="205" value="0.103636" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RShoulderPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="16" value="6.68218" />
                                                                                <Key frame="31" value="33.6649" />
                                                                                <Key frame="45" value="51.1554" />
                                                                                <Key frame="59" value="63.2844" />
                                                                                <Key frame="75" value="18.4597" />
                                                                                <Key frame="108" value="3.78175" />
                                                                                <Key frame="127" value="9.67049" />
                                                                                <Key frame="145" value="28.8309" />
                                                                                <Key frame="162" value="34.7196" />
                                                                                <Key frame="177" value="88.6852" />
                                                                                <Key frame="201" value="80.5991" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RShoulderRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="16" value="-3.78175" />
                                                                                <Key frame="31" value="-4.3091" />
                                                                                <Key frame="45" value="-0.498473" />
                                                                                <Key frame="59" value="-1.49656" />
                                                                                <Key frame="75" value="-0.79343" />
                                                                                <Key frame="108" value="-87.982" />
                                                                                <Key frame="127" value="-27.3367" />
                                                                                <Key frame="145" value="-6.50639" />
                                                                                <Key frame="162" value="-1.67235" />
                                                                                <Key frame="177" value="-16.8776" />
                                                                                <Key frame="201" value="-1.0571" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RElbowYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="16" value="8.4352" />
                                                                                <Key frame="31" value="84.4615" />
                                                                                <Key frame="45" value="44.3829" />
                                                                                <Key frame="59" value="38.9336" />
                                                                                <Key frame="75" value="45.3497" />
                                                                                <Key frame="95" value="30" />
                                                                                <Key frame="108" value="57.7425" />
                                                                                <Key frame="127" value="66.9711" />
                                                                                <Key frame="145" value="36.7363" />
                                                                                <Key frame="162" value="91.2292" />
                                                                                <Key frame="177" value="98.2605" />
                                                                                <Key frame="201" value="43.3282" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RElbowRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="16" value="82.6206" />
                                                                                <Key frame="31" value="60.6477" />
                                                                                <Key frame="45" value="66.7122" />
                                                                                <Key frame="59" value="60.1203" />
                                                                                <Key frame="75" value="88.8609" />
                                                                                <Key frame="95" value="63" />
                                                                                <Key frame="108" value="24.1726" />
                                                                                <Key frame="127" value="64.2513" />
                                                                                <Key frame="145" value="82.4448" />
                                                                                <Key frame="162" value="67.5033" />
                                                                                <Key frame="177" value="38.0595" />
                                                                                <Key frame="201" value="38.1474" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RWristYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="31" value="28" />
                                                                                <Key frame="45" value="74" />
                                                                                <Key frame="75" value="73.563" />
                                                                                <Key frame="108" value="43" />
                                                                                <Key frame="145" value="97" />
                                                                                <Key frame="177" value="95.7996" />
                                                                                <Key frame="201" value="0" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RHand" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="31" value="0.181844" />
                                                                                <Key frame="75" value="0.181844" />
                                                                                <Key frame="108" value="0.703636" />
                                                                                <Key frame="145" value="0.378182" />
                                                                                <Key frame="177" value="0.36548" />
                                                                                <Key frame="201" value="0.221818" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LHipYawPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="33" value="-17.7517" />
                                                                                <Key frame="77" value="-20.4764" />
                                                                                <Key frame="110" value="-18.9822" />
                                                                                <Key frame="147" value="-18.6306" />
                                                                                <Key frame="179" value="-18.367" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LHipRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="33" value="1.93602" />
                                                                                <Key frame="77" value="-0.876513" />
                                                                                <Key frame="110" value="11.692" />
                                                                                <Key frame="147" value="8.35212" />
                                                                                <Key frame="179" value="12.8346" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LHipPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="33" value="15.5592" />
                                                                                <Key frame="77" value="4.48488" />
                                                                                <Key frame="110" value="18.196" />
                                                                                <Key frame="147" value="18.6355" />
                                                                                <Key frame="179" value="18.0202" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LKneePitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="33" value="-0.090296" />
                                                                                <Key frame="77" value="-0.178188" />
                                                                                <Key frame="110" value="1.84332" />
                                                                                <Key frame="147" value="3.1617" />
                                                                                <Key frame="179" value="4.74375" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LAnklePitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="33" value="-0.441863" />
                                                                                <Key frame="77" value="6.67737" />
                                                                                <Key frame="110" value="-2.72705" />
                                                                                <Key frame="147" value="-3.95753" />
                                                                                <Key frame="179" value="-4.04542" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LAnkleRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="33" value="-1.57965" />
                                                                                <Key frame="77" value="-0.788621" />
                                                                                <Key frame="110" value="-8.61098" />
                                                                                <Key frame="147" value="-6.06212" />
                                                                                <Key frame="179" value="-9.05044" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RHipRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="33" value="-7.29261" />
                                                                                <Key frame="77" value="-4.48007" />
                                                                                <Key frame="110" value="-1.66754" />
                                                                                <Key frame="147" value="-6.06212" />
                                                                                <Key frame="179" value="-1.93121" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RHipPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="33" value="13.7966" />
                                                                                <Key frame="77" value="1.75543" />
                                                                                <Key frame="110" value="18.4549" />
                                                                                <Key frame="147" value="18.1912" />
                                                                                <Key frame="179" value="20.4764" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RKneePitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="33" value="-4.48007" />
                                                                                <Key frame="77" value="-4.56797" />
                                                                                <Key frame="110" value="-4.30429" />
                                                                                <Key frame="147" value="-4.56797" />
                                                                                <Key frame="179" value="-4.56797" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RAnklePitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="33" value="5.71537" />
                                                                                <Key frame="77" value="12.8346" />
                                                                                <Key frame="110" value="3.69386" />
                                                                                <Key frame="147" value="3.78175" />
                                                                                <Key frame="179" value="3.2544" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RAnkleRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="33" value="5.18802" />
                                                                                <Key frame="77" value="2.99072" />
                                                                                <Key frame="110" value="1.0571" />
                                                                                <Key frame="147" value="4.39699" />
                                                                                <Key frame="179" value="1.32078" />
                                                                            </ActuatorCurve>
                                                                        </ActuatorList>
                                                                    </Timeline>
                                                                    <Resource name="Standing" type="Lock" timeout="2" />
                                                                    <Resource name="HeadYaw" type="Lock" timeout="2" />
                                                                    <Resource name="HeadPitch" type="Lock" timeout="2" />
                                                                    <Resource name="LShoulderPitch" type="Lock" timeout="2" />
                                                                    <Resource name="LShoulderRoll" type="Lock" timeout="2" />
                                                                    <Resource name="LElbowRoll" type="Lock" timeout="2" />
                                                                    <Resource name="LElbowYaw" type="Lock" timeout="2" />
                                                                    <Resource name="LWristYaw" type="Lock" timeout="2" />
                                                                    <Resource name="LHand" type="Lock" timeout="2" />
                                                                    <Resource name="RShoulderPitch" type="Lock" timeout="2" />
                                                                    <Resource name="RShoulderRoll" type="Lock" timeout="2" />
                                                                    <Resource name="RElbowRoll" type="Lock" timeout="2" />
                                                                    <Resource name="RElbowYaw" type="Lock" timeout="2" />
                                                                    <Resource name="RWristYaw" type="Lock" timeout="2" />
                                                                    <Resource name="RHand" type="Lock" timeout="2" />
                                                                    <Resource name="LHipYawPitch" type="Lock" timeout="2" />
                                                                    <Resource name="LHipPitch" type="Lock" timeout="2" />
                                                                    <Resource name="LHipRoll" type="Lock" timeout="2" />
                                                                    <Resource name="LKneePitch" type="Lock" timeout="2" />
                                                                    <Resource name="LAnklePitch" type="Lock" timeout="2" />
                                                                    <Resource name="LAnkleRoll" type="Lock" timeout="2" />
                                                                    <Resource name="RHipPitch" type="Lock" timeout="2" />
                                                                    <Resource name="RHipRoll" type="Lock" timeout="2" />
                                                                    <Resource name="RKneePitch" type="Lock" timeout="2" />
                                                                    <Resource name="RAnklePitch" type="Lock" timeout="2" />
                                                                    <Resource name="RAnkleRoll" type="Lock" timeout="2" />
                                                                    <Resource name="Speakers" type="Lock" timeout="2" />
                                                                </Box>
                                                                <Box name="Sentence10" id="14" tooltip="This box is empty (contains a single motion layer with no motor position&#x0A;defined in it) and should be used to create any animation you would like." x="1347" y="650">
                                                                    <bitmap>media/images/box/movement/move.png</bitmap>
                                                                    <script language="4">
                                                                        <content>
                                                                            <![CDATA[class MyClass(GeneratedClass):
	def __init__(self):
		GeneratedClass.__init__(self)

	def onUnload(self):
		#puts code for box cleanup here
		""

	def onInput_onStart(self):
		#self.onStopped() # activate output of the box
		""

	def onInput_onStop(self):
		""]]>
</content>
                                                                    </script>
                                                                    <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                                                                    <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Animation starts when a signal is received on this input." id="2" />
                                                                    <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Animation stops when a signal is received on this input." id="3" />
                                                                    <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when animation is finished." id="4" />
                                                                    <Timeline enable="1" fps="25" start_frame="0" end_frame="-1" size="300">
                                                                        <BehaviorLayer name="Speech">
                                                                            <BehaviorKeyframe name="Counting every articulation in my body, I have 25 degrees of freedom." index="10">
                                                                                <Diagram>
                                                                                    <Box name="Say" id="1" tooltip="Say some text. Note that you must open the box to enter the text." x="98" y="32">
                                                                                        <bitmap>media/images/box/interaction/say.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)

    def onLoad(self):
        self.bIsRunning = False

    def onUnload(self):
        self.bIsRunning = False

    def onInput_onStart(self):
        self.bIsRunning = True

    def onInput_onStop(self):
        if( self.bIsRunning ):
            self.onUnload()
            self.onStopped()]]>
</content>
                                                                                        </script>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this Input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this Input." id="3" />
                                                                                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished or stopped." id="4" />
                                                                                        <Parameter name="Voice shaping (%)" inherits_from_parent="0" content_type="1" value="100" default_value="100" min="50" max="150" tooltip='Used to modify at runtime the voice feature (tone, speed). In a slighty&#x0A;different way than pitch and speed, it gives a kind of &quot;gender or age&#x0A;modification&quot; effect.&#x0A;&#x0A;For instance, a quite good male derivation of female voice can be&#x0A;obtained setting this parameter to 78%.&#x0A;&#x0A;Note: For a better effect, you can compensate this parameter with the&#x0A;speed parameter. For example, if you want to decrease by 20% the voice&#x0A;shaping, you will have to increase by 20% the speed to keep a constant&#x0A;average speed.' id="5" />
                                                                                        <Parameter name="Speed (%)" inherits_from_parent="0" content_type="1" value="90" default_value="100" min="50" max="200" tooltip="Changes the speed of the voice.&#x0A;&#x0A;Note: For a better effect, you can compensate this parameter with the voice&#x0A;shaping parameter. For example, if you want to increase by 20% the speed, you&#x0A;will have to decrease by 20% the voice shaping to keep a constant average&#x0A;speed." id="6" />
                                                                                        <Timeline enable="0">
                                                                                            <BehaviorLayer name="behavior_layer1">
                                                                                                <BehaviorKeyframe name="keyframe1" index="1">
                                                                                                    <Diagram>
                                                                                                        <Box name="Say Text" id="2" tooltip="Say the text set in parameters." x="422" y="65">
                                                                                                            <bitmap>media/images/box/interaction/say.png</bitmap>
                                                                                                            <script language="4">
                                                                                                                <content>
                                                                                                                    <![CDATA[import time

class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)
        self.tts = ALProxy('ALTextToSpeech')
        self.ttsStop = ALProxy('ALTextToSpeech', True) #Create another proxy as wait is blocking if audioout is remote

    def onLoad(self):
        self.bIsRunning = False
        self.ids = []
        
    def onUnload(self):
        for id in self.ids:
            try:
                self.ttsStop.stop(id)
            except:
                pass
        while( self.bIsRunning ):
            time.sleep( 0.2 )

    def onInput_onStart(self, p):
        self.bIsRunning = True
        try:
            sentence = "\RSPD="+ str( self.getParameter("Speed (%)") ) + "\ "
            sentence += "\VCT="+ str( self.getParameter("Voice shaping (%)") ) + "\ "
            sentence += str(p)
            sentence +=  "\RST\ "
            id = self.tts.post.say(str(sentence))
            self.ids.append(id)
            self.tts.wait(id, 0)
        finally:
            try:
                self.ids.remove(id)
            except:
                pass
            if( self.ids == [] ):
                self.onStopped() # activate output of the box
                self.bIsRunning = False

    def onInput_onStop(self):
        self.onUnload()]]>
</content>
                                                                                                            </script>
                                                                                                            <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                                                                                                            <Input name="onStart" type="3" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this Input." id="2" />
                                                                                                            <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this Input." id="3" />
                                                                                                            <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when Box behavior is finished." id="4" />
                                                                                                            <Parameter name="Voice shaping (%)" inherits_from_parent="1" content_type="1" value="100" default_value="100" min="50" max="150" tooltip='Used to modify at runtime the voice feature (tone, speed). In a slighty&#x0A;different way than pitch and speed, it gives a kind of &quot;gender or age&#x0A;modification&quot; effect.&#x0A;&#x0A;For instance, a quite good male derivation of female voice can be&#x0A;obtained setting this parameter to 78%.&#x0A;&#x0A;Note: For a better effect, you can compensate this parameter with the&#x0A;speed parameter. For example, if you want to decrease by 20% the voice&#x0A;shaping, you will have to increase by 20% the speed to keep a constant&#x0A;average speed.' id="5" />
                                                                                                            <Parameter name="Speed (%)" inherits_from_parent="1" content_type="1" value="100" default_value="100" min="50" max="200" tooltip="Changes the speed of the voice.&#x0A;&#x0A;Note: For a better effect, you can compensate this parameter with the voice&#x0A;shaping parameter. For example, if you want to increase by 20% the speed, you&#x0A;will have to decrease by 20% the voice shaping to keep a constant average&#x0A;speed." id="6" />
                                                                                                        </Box>
                                                                                                        <Box name="Localized Text" id="5" tooltip="Send on the output the text associated with the robot&apos;s current voice language.&#x0A;You can display and edit the text associated with any language by&#x0A;selecting the language in the combobox.&#x0A;&#x0A;!!Warning!! The text sent on the output is NOT the displayed one but the one&#x0A;associated with the robot&apos;s current voice language." plugin="localizationbox_plugin" x="114" y="68">
                                                                                                            <bitmap>media/images/box/interaction/vocabulary.png</bitmap>
                                                                                                            <script language="4">
                                                                                                                <content>
                                                                                                                    <![CDATA[class MyClass(GeneratedClass):
	def __init__(self):
		try: # disable autoBind
			GeneratedClass.__init__(self, False)
		except TypeError: # if NAOqi < 1.14
			GeneratedClass.__init__( self )

		self.tts = ALProxy("ALTextToSpeech")
		self.sentences = {
			"Chinese" : " 计算全身的关节，我总共有25个自由度 ",
			"English" : " Matches consist of a 30 second Autonomous period, followed by a 2 minute Driver Controlled period. ",
			"French" : " En comptant toutes les articulation de mon corps, je dispose de 25 degrés de liberté. ",
			"German" : "  ",
			"Italian" : "  ",
			"Japanese" : "  ",
			"Korean" : "  ",
			"Portuguese" : "  ",
			"Brazilian" : "  ",
			"Spanish" : "  ",
			"Arabic" : "  ",
			"Polish" : "  ",
			"Czech" : "  ",
			"Dutch" : "  ",
			"Danish" : "  ",
			"Finnish" : " Jos kaikki niveleni ja liikkumaratani lasketaan, minulla on 25 vapausastetta. ",
			"Swedish" : "  ",
			"Russian" : "  ",
			"Turkish" : "  "
		}

	def onInput_onStart(self):
		sDefaultLang = self.tts.getLanguage()
		self.onStopped(self.sentences[sDefaultLang])]]>
</content>
                                                                                                            </script>
                                                                                                            <pluginContent>
                                                                                                                <chinese>计算全身的关节，我总共有25个自由度</chinese>
                                                                                                                <english>Matches consist of a 30 second Autonomous period, followed by a 2 minute Driver Controlled period.</english>
                                                                                                                <french>En comptant toutes les articulation de mon corps, je dispose de 25 degrés de liberté.</french>
                                                                                                                <german></german>
                                                                                                                <italian></italian>
                                                                                                                <japanese></japanese>
                                                                                                                <korean></korean>
                                                                                                                <portuguese></portuguese>
                                                                                                                <brazilian></brazilian>
                                                                                                                <spanish></spanish>
                                                                                                                <arabic></arabic>
                                                                                                                <polish></polish>
                                                                                                                <czech></czech>
                                                                                                                <dutch></dutch>
                                                                                                                <danish></danish>
                                                                                                                <finnish>Jos kaikki niveleni ja liikkumaratani lasketaan, minulla on 25 vapausastetta.</finnish>
                                                                                                                <swedish></swedish>
                                                                                                                <russian></russian>
                                                                                                                <turkish></turkish>
                                                                                                                <language>1</language>
                                                                                                            </pluginContent>
                                                                                                            <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                                                            <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Data is sent on the output when this input is stimulated." id="2" />
                                                                                                            <Output name="onStopped" type="3" type_size="1" nature="1" inner="0" tooltip="Data sent when asked." id="3" />
                                                                                                        </Box>
                                                                                                        <Link inputowner="0" indexofinput="4" outputowner="2" indexofoutput="4" />
                                                                                                        <Link inputowner="5" indexofinput="2" outputowner="0" indexofoutput="2" />
                                                                                                        <Link inputowner="2" indexofinput="2" outputowner="5" indexofoutput="3" />
                                                                                                    </Diagram>
                                                                                                </BehaviorKeyframe>
                                                                                            </BehaviorLayer>
                                                                                        </Timeline>
                                                                                    </Box>
                                                                                    <Link inputowner="1" indexofinput="2" outputowner="0" indexofoutput="1" />
                                                                                </Diagram>
                                                                            </BehaviorKeyframe>
                                                                        </BehaviorLayer>
                                                                        <BehaviorLayer name="LED">
                                                                            <BehaviorKeyframe name="keyframe6" index="6">
                                                                                <Diagram>
                                                                                    <Box name="Blink" id="2" tooltip="tags:&#x0A;LED" x="87" y="27">
                                                                                        <bitmap>media/images/box/interaction/LED.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)

    def onLoad(self):
        #~ puts code for box initialization here
        pass

    def onUnload(self):
        #~ puts code for box cleanup here
        pass

    def onInput_onStart(self):
        rDuration = 0.05;
        ALLeds.post.fadeRGB( "FaceLed0", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed1", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed2", 0xffffff, rDuration );
        ALLeds.post.fadeRGB( "FaceLed3", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed4", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed5", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed6", 0xffffff, rDuration );
        ALLeds.fadeRGB( "FaceLed7", 0x000000, rDuration );

        time.sleep( 0.1 );
        
        rDuration = 0.05;
        ALLeds.fadeRGB( "FaceLeds", 0xffffff, rDuration );
        
        self.onStopped()
        

    def onInput_onStop(self):
        self.onUnload() #~ it is usually a good idea to call onUnload of this box in a onStop method, as the code written in onUnload is used to finish the working of the box as well
        pass]]>
</content>
                                                                                        </script>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                                                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                                                                    </Box>
                                                                                    <Link inputowner="2" indexofinput="2" outputowner="0" indexofoutput="1" />
                                                                                </Diagram>
                                                                            </BehaviorKeyframe>
                                                                            <BehaviorKeyframe name="keyframe109" index="109">
                                                                                <Diagram>
                                                                                    <Box name="Blink" id="2" tooltip="tags:&#x0A;LED" x="103" y="58">
                                                                                        <bitmap>media/images/box/interaction/LED.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)

    def onLoad(self):
        #~ puts code for box initialization here
        pass

    def onUnload(self):
        #~ puts code for box cleanup here
        pass

    def onInput_onStart(self):
        rDuration = 0.05;
        ALLeds.post.fadeRGB( "FaceLed0", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed1", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed2", 0xffffff, rDuration );
        ALLeds.post.fadeRGB( "FaceLed3", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed4", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed5", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed6", 0xffffff, rDuration );
        ALLeds.fadeRGB( "FaceLed7", 0x000000, rDuration );

        time.sleep( 0.1 );
        
        rDuration = 0.05;
        ALLeds.fadeRGB( "FaceLeds", 0xffffff, rDuration );
        
        self.onStopped()
        

    def onInput_onStop(self):
        self.onUnload() #~ it is usually a good idea to call onUnload of this box in a onStop method, as the code written in onUnload is used to finish the working of the box as well
        pass]]>
</content>
                                                                                        </script>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                                                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                                                                    </Box>
                                                                                    <Link inputowner="2" indexofinput="2" outputowner="0" indexofoutput="1" />
                                                                                </Diagram>
                                                                            </BehaviorKeyframe>
                                                                            <BehaviorKeyframe name="keyframe145" index="145">
                                                                                <Diagram>
                                                                                    <Box name="Blink" id="2" tooltip="tags:&#x0A;LED" x="87" y="38">
                                                                                        <bitmap>media/images/box/interaction/LED.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)

    def onLoad(self):
        #~ puts code for box initialization here
        pass

    def onUnload(self):
        #~ puts code for box cleanup here
        pass

    def onInput_onStart(self):
        rDuration = 0.05;
        ALLeds.post.fadeRGB( "FaceLed0", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed1", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed2", 0xffffff, rDuration );
        ALLeds.post.fadeRGB( "FaceLed3", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed4", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed5", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed6", 0xffffff, rDuration );
        ALLeds.fadeRGB( "FaceLed7", 0x000000, rDuration );

        time.sleep( 0.1 );
        
        rDuration = 0.05;
        ALLeds.fadeRGB( "FaceLeds", 0xffffff, rDuration );
        
        self.onStopped()
        

    def onInput_onStop(self):
        self.onUnload() #~ it is usually a good idea to call onUnload of this box in a onStop method, as the code written in onUnload is used to finish the working of the box as well
        pass]]>
</content>
                                                                                        </script>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                                                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                                                                    </Box>
                                                                                    <Link inputowner="2" indexofinput="2" outputowner="0" indexofoutput="1" />
                                                                                </Diagram>
                                                                            </BehaviorKeyframe>
                                                                        </BehaviorLayer>
                                                                        <ActuatorList model="Nao">
                                                                            <ActuatorCurve name="value" actuator="HeadYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="21" value="-4.92434" />
                                                                                <Key frame="42" value="-4.57277" />
                                                                                <Key frame="67" value="-4.57277" />
                                                                                <Key frame="88" value="-4.92434" />
                                                                                <Key frame="102" value="-9.67049" />
                                                                                <Key frame="120" value="-3.16651" />
                                                                                <Key frame="132" value="-4.39699" />
                                                                                <Key frame="148" value="-4.83645" />
                                                                                <Key frame="167" value="-4.74856" />
                                                                                <Key frame="187" value="-4.74856" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="HeadPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="21" value="5.35899" />
                                                                                <Key frame="42" value="-10.11" />
                                                                                <Key frame="67" value="-10.11" />
                                                                                <Key frame="88" value="-11.4283" />
                                                                                <Key frame="102" value="5.35899" />
                                                                                <Key frame="120" value="-8.08844" />
                                                                                <Key frame="132" value="-11.0768" />
                                                                                <Key frame="148" value="-0.178188" />
                                                                                <Key frame="167" value="-6.15482" />
                                                                                <Key frame="187" value="-8.5279" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LShoulderPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="19" value="65.5648" />
                                                                                <Key frame="40" value="46.4923" />
                                                                                <Key frame="65" value="49.3927" />
                                                                                <Key frame="86" value="54.7541" />
                                                                                <Key frame="100" value="51.3264" />
                                                                                <Key frame="118" value="63.6312" />
                                                                                <Key frame="130" value="68.9926" />
                                                                                <Key frame="146" value="65.4769" />
                                                                                <Key frame="165" value="88.8561" />
                                                                                <Key frame="185" value="92.4597" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LShoulderRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="19" value="-9.5826" />
                                                                                <Key frame="40" value="-18" />
                                                                                <Key frame="65" value="-18" />
                                                                                <Key frame="86" value="-17.4929" />
                                                                                <Key frame="100" value="-16.6139" />
                                                                                <Key frame="118" value="-3.60596" />
                                                                                <Key frame="130" value="-3.16651" />
                                                                                <Key frame="146" value="-2.81494" />
                                                                                <Key frame="165" value="-0.00240423" />
                                                                                <Key frame="185" value="1.75543" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LElbowYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="19" value="-62.6692" />
                                                                                <Key frame="40" value="-15.2077" />
                                                                                <Key frame="65" value="-17.0534" />
                                                                                <Key frame="86" value="-16.4382" />
                                                                                <Key frame="100" value="-55.7258" />
                                                                                <Key frame="118" value="-88.9488" />
                                                                                <Key frame="130" value="-93.2555" />
                                                                                <Key frame="146" value="-83.4117" />
                                                                                <Key frame="165" value="-88.9488" />
                                                                                <Key frame="185" value="-91.0582" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LElbowRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="19" value="-60.3792" />
                                                                                <Key frame="40" value="-63.7191" />
                                                                                <Key frame="65" value="-62.4886" />
                                                                                <Key frame="86" value="-63.2796" />
                                                                                <Key frame="100" value="-88.5" />
                                                                                <Key frame="118" value="-75.3208" />
                                                                                <Key frame="130" value="-71.7172" />
                                                                                <Key frame="146" value="-86.4831" />
                                                                                <Key frame="165" value="-56.3362" />
                                                                                <Key frame="185" value="-54.3147" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LWristYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="19" value="-35.8622" />
                                                                                <Key frame="40" value="33.9238" />
                                                                                <Key frame="65" value="32.957" />
                                                                                <Key frame="86" value="36.9121" />
                                                                                <Key frame="100" value="0.173379" />
                                                                                <Key frame="118" value="-60.5598" />
                                                                                <Key frame="130" value="-60.1203" />
                                                                                <Key frame="146" value="-46.1456" />
                                                                                <Key frame="165" value="-73.3041" />
                                                                                <Key frame="185" value="-73.1283" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LHand" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="19" value="0.998" />
                                                                                <Key frame="40" value="0.7376" />
                                                                                <Key frame="65" value="0.7388" />
                                                                                <Key frame="86" value="0.7396" />
                                                                                <Key frame="100" value="0.5" />
                                                                                <Key frame="118" value="0.7604" />
                                                                                <Key frame="130" value="0.7592" />
                                                                                <Key frame="146" value="0.5572" />
                                                                                <Key frame="165" value="0.6016" />
                                                                                <Key frame="185" value="0.6016" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RShoulderPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="17" value="74.0951" />
                                                                                <Key frame="38" value="64.3391" />
                                                                                <Key frame="63" value="70.4916" />
                                                                                <Key frame="84" value="69.7884" />
                                                                                <Key frame="98" value="82.5327" />
                                                                                <Key frame="116" value="90.0035" />
                                                                                <Key frame="128" value="91.8493" />
                                                                                <Key frame="144" value="81.5659" />
                                                                                <Key frame="163" value="95.3649" />
                                                                                <Key frame="183" value="99.5837" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RShoulderRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="17" value="0.261271" />
                                                                                <Key frame="38" value="2.72224" />
                                                                                <Key frame="63" value="3.95272" />
                                                                                <Key frame="84" value="3.51326" />
                                                                                <Key frame="98" value="3.42537" />
                                                                                <Key frame="116" value="-0.617646" />
                                                                                <Key frame="128" value="-0.178188" />
                                                                                <Key frame="144" value="0.876513" />
                                                                                <Key frame="163" value="0.964405" />
                                                                                <Key frame="183" value="0.437054" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RElbowYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="17" value="51.5021" />
                                                                                <Key frame="38" value="60.8187" />
                                                                                <Key frame="63" value="57.5667" />
                                                                                <Key frame="84" value="55.7209" />
                                                                                <Key frame="98" value="67.059" />
                                                                                <Key frame="116" value="80.4185" />
                                                                                <Key frame="128" value="87.9772" />
                                                                                <Key frame="144" value="83.9342" />
                                                                                <Key frame="163" value="93.4265" />
                                                                                <Key frame="183" value="96.0633" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RElbowRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="17" value="38.5869" />
                                                                                <Key frame="38" value="52.5617" />
                                                                                <Key frame="63" value="52.8253" />
                                                                                <Key frame="84" value="51.1554" />
                                                                                <Key frame="98" value="32.6981" />
                                                                                <Key frame="116" value="29.4461" />
                                                                                <Key frame="128" value="29.7977" />
                                                                                <Key frame="144" value="77.9624" />
                                                                                <Key frame="163" value="61.9661" />
                                                                                <Key frame="183" value="56.9562" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RWristYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="17" value="-24.7" />
                                                                                <Key frame="38" value="-55.9894" />
                                                                                <Key frame="51" value="-1.6" />
                                                                                <Key frame="63" value="-51.4191" />
                                                                                <Key frame="84" value="-55.55" />
                                                                                <Key frame="98" value="-24.8758" />
                                                                                <Key frame="116" value="-4.92434" />
                                                                                <Key frame="128" value="-5.01223" />
                                                                                <Key frame="144" value="36.7363" />
                                                                                <Key frame="163" value="53.1721" />
                                                                                <Key frame="183" value="53.3479" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RHand" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="17" value="0.4088" />
                                                                                <Key frame="38" value="0.4088" />
                                                                                <Key frame="51" value="0.5" />
                                                                                <Key frame="63" value="0.254" />
                                                                                <Key frame="84" value="0.256" />
                                                                                <Key frame="98" value="0.256" />
                                                                                <Key frame="116" value="0.256" />
                                                                                <Key frame="128" value="0.256" />
                                                                                <Key frame="144" value="0.6308" />
                                                                                <Key frame="163" value="0.7384" />
                                                                                <Key frame="183" value="0.7384" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LHipYawPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="39" value="-11.863" />
                                                                                <Key frame="64" value="-11.863" />
                                                                                <Key frame="85" value="-11.863" />
                                                                                <Key frame="117" value="-12.5661" />
                                                                                <Key frame="129" value="-12.4782" />
                                                                                <Key frame="164" value="-12.3024" />
                                                                                <Key frame="184" value="-12.3024" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LHipRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="39" value="3.69386" />
                                                                                <Key frame="64" value="3.69386" />
                                                                                <Key frame="85" value="3.69386" />
                                                                                <Key frame="117" value="7.20953" />
                                                                                <Key frame="129" value="7.29742" />
                                                                                <Key frame="164" value="9.75839" />
                                                                                <Key frame="184" value="9.75839" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LHipPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="39" value="15.0319" />
                                                                                <Key frame="64" value="15.0319" />
                                                                                <Key frame="85" value="15.0319" />
                                                                                <Key frame="117" value="12.9225" />
                                                                                <Key frame="129" value="13.0104" />
                                                                                <Key frame="164" value="13.2741" />
                                                                                <Key frame="184" value="13.1862" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LKneePitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="39" value="-5.18802" />
                                                                                <Key frame="64" value="-5.27591" />
                                                                                <Key frame="85" value="-5.18802" />
                                                                                <Key frame="117" value="-5.01223" />
                                                                                <Key frame="129" value="-5.01223" />
                                                                                <Key frame="164" value="-5.01223" />
                                                                                <Key frame="184" value="-4.66067" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LAnklePitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="39" value="4.83164" />
                                                                                <Key frame="64" value="4.83164" />
                                                                                <Key frame="85" value="4.91953" />
                                                                                <Key frame="117" value="6.06212" />
                                                                                <Key frame="129" value="6.06212" />
                                                                                <Key frame="164" value="6.50158" />
                                                                                <Key frame="184" value="6.50158" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LAnkleRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="39" value="-2.72224" />
                                                                                <Key frame="64" value="-2.72224" />
                                                                                <Key frame="85" value="-2.72224" />
                                                                                <Key frame="117" value="-5.62267" />
                                                                                <Key frame="129" value="-5.62267" />
                                                                                <Key frame="164" value="-7.55628" />
                                                                                <Key frame="184" value="-7.64418" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RHipRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="39" value="-4.39218" />
                                                                                <Key frame="64" value="-4.39218" />
                                                                                <Key frame="85" value="-4.39218" />
                                                                                <Key frame="117" value="-0.173379" />
                                                                                <Key frame="129" value="-0.0854875" />
                                                                                <Key frame="164" value="2.37548" />
                                                                                <Key frame="184" value="2.37548" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RHipPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="39" value="15.3786" />
                                                                                <Key frame="64" value="15.4665" />
                                                                                <Key frame="85" value="15.3786" />
                                                                                <Key frame="117" value="15.3786" />
                                                                                <Key frame="129" value="15.3786" />
                                                                                <Key frame="164" value="16.2576" />
                                                                                <Key frame="184" value="16.4333" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RKneePitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="39" value="-4.2164" />
                                                                                <Key frame="64" value="-4.12851" />
                                                                                <Key frame="85" value="-4.04062" />
                                                                                <Key frame="117" value="-4.56797" />
                                                                                <Key frame="129" value="-4.48007" />
                                                                                <Key frame="164" value="-4.39218" />
                                                                                <Key frame="184" value="-4.2164" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RAnklePitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="39" value="2.1997" />
                                                                                <Key frame="64" value="2.46337" />
                                                                                <Key frame="85" value="2.55126" />
                                                                                <Key frame="117" value="2.28759" />
                                                                                <Key frame="129" value="2.37548" />
                                                                                <Key frame="164" value="2.46337" />
                                                                                <Key frame="184" value="2.55126" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RAnkleRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="39" value="3.2544" />
                                                                                <Key frame="64" value="3.2544" />
                                                                                <Key frame="85" value="3.2544" />
                                                                                <Key frame="117" value="0.00240423" />
                                                                                <Key frame="129" value="0.00240423" />
                                                                                <Key frame="164" value="-2.107" />
                                                                                <Key frame="184" value="-2.107" />
                                                                            </ActuatorCurve>
                                                                        </ActuatorList>
                                                                    </Timeline>
                                                                    <Resource name="Standing" type="Lock" timeout="2" />
                                                                    <Resource name="All motors" type="Lock" timeout="2" />
                                                                    <Resource name="Speakers" type="Lock" timeout="2" />
                                                                </Box>
                                                                <Box name="Sentence11" id="15" tooltip="This box is empty (contains a single motion layer with no motors defined in it) and should be used to create any movement you&apos;d like." x="1446" y="722">
                                                                    <bitmap>media/images/box/movement/move.png</bitmap>
                                                                    <script language="4">
                                                                        <content>
                                                                            <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)

    def onLoad(self):
        #~ puts code for box initialization here
        pass

    def onUnload(self):
        #~ puts code for box cleanup here
        pass

    def onInput_onStart(self):
        #~ self.onStopped() #~ activate output of the box
        pass

    def onInput_onStop(self):
        self.onStopped()]]>
</content>
                                                                    </script>
                                                                    <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                                                                    <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this Input." id="2" />
                                                                    <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this Input." id="3" />
                                                                    <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when Box behavior is finished." id="4" />
                                                                    <Parameter name="Number of Naos" inherits_from_parent="1" content_type="1" value="2000" default_value="0" min="0" max="1000000" tooltip="" id="5" />
                                                                    <Timeline enable="1" fps="25" start_frame="0" end_frame="215" size="300">
                                                                        <BehaviorLayer name="speech">
                                                                            <BehaviorKeyframe name="speech" index="10">
                                                                                <Diagram>
                                                                                    <Box name="LocalizedText" id="3" tooltip="Enter tooltip here" plugin="localizationbox_plugin" x="117" y="30">
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
	def __init__(self):
		try: # disable autoBind
			GeneratedClass.__init__(self, False)
		except TypeError: # if NAOqi < 1.14
			GeneratedClass.__init__( self )

		self.tts = ALProxy("ALTextToSpeech")
		self.sentences = {
			"Chinese" : " 我有两千多个兄弟分布在全球各地的高校和实验室中。 ",
			"English" : " The Driver-Controlled period includes a 30 second End Game. ",
			"French" : " Il y a plus de {nbRobots} Nao en utilisation, tout autour du monde, dans les universités et laboratoires. ",
			"German" : "  ",
			"Italian" : "  ",
			"Japanese" : "  ",
			"Korean" : "  ",
			"Portuguese" : "  ",
			"Brazilian" : "  ",
			"Spanish" : " Hay más de {nbRobots} robots ? Nao en utilización en todo el mundo, en universidades y laboratorios de investigación. ",
			"Arabic" : "  ",
			"Polish" : "  ",
			"Czech" : "  ",
			"Dutch" : "  ",
			"Danish" : "  ",
			"Finnish" : " Minulla on yli {nbRobots} sisarusta ympäri maailmaa yliopistoissa ja tutkimuslaitoksissa. ",
			"Swedish" : "  ",
			"Russian" : "  ",
			"Turkish" : "  "
		}

	def onInput_onStart(self):
		sDefaultLang = self.tts.getLanguage()
		self.onStopped(self.sentences[sDefaultLang])]]>
</content>
                                                                                        </script>
                                                                                        <pluginContent>
                                                                                            <chinese>我有两千多个兄弟分布在全球各地的高校和实验室中。</chinese>
                                                                                            <english>The Driver-Controlled period includes a 30 second End Game.</english>
                                                                                            <french>Il y a plus de {nbRobots} Nao en utilisation, tout autour du monde, dans les universités et laboratoires.</french>
                                                                                            <german></german>
                                                                                            <italian></italian>
                                                                                            <japanese></japanese>
                                                                                            <korean></korean>
                                                                                            <portuguese></portuguese>
                                                                                            <brazilian></brazilian>
                                                                                            <spanish>Hay más de {nbRobots} robots ? Nao en utilización en todo el mundo, en universidades y laboratorios de investigación.</spanish>
                                                                                            <arabic></arabic>
                                                                                            <polish></polish>
                                                                                            <czech></czech>
                                                                                            <dutch></dutch>
                                                                                            <danish></danish>
                                                                                            <finnish>Minulla on yli {nbRobots} sisarusta ympäri maailmaa yliopistoissa ja tutkimuslaitoksissa.</finnish>
                                                                                            <swedish></swedish>
                                                                                            <russian></russian>
                                                                                            <turkish></turkish>
                                                                                            <language>1</language>
                                                                                        </pluginContent>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                                                        <Output name="onStopped" type="3" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                                                                    </Box>
                                                                                    <Box name="Say Text" id="4" tooltip="Say the sentence asked. See box parameters for fine tuning of the voice." x="589" y="29">
                                                                                        <bitmap>media/images/box/interaction/say.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)
        self.tts = ALProxy('ALTextToSpeech')
        self.ttsStop = ALProxy('ALTextToSpeech', True) #Create another proxy as wait is blocking if audioout is remote
        
    def onLoad(self):
        #puts code for box cleanup here
        self.ids = []
        
    def onUnload(self):
        #puts code for box cleanup here    
        for id in self.ids:
            try:
                self.ttsStop.stop(id)
            except:
                pass
        
    def onInput_onStart(self, p):
        sentence = "\RSPD="+ str( self.getParameter("speed") )+ "\ "
        sentence += "\VCT="+ str( self.getParameter("Voice Shaping") ) + "\ " 
        sentence += str(p)
        sentence +=  "\RST\ "
        id = self.tts.post.say(sentence)
        self.ids.append(id)
        self.tts.wait(id, 0)
        self.ids.remove(id)
        self.onStopped() # activate output of the box

    def onInput_onStop(self):
        self.onUnload()]]>
</content>
                                                                                        </script>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="3" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this Input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this Input." id="3" />
                                                                                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when Box behavior is finished." id="4" />
                                                                                        <Parameter name="Voice Shaping" inherits_from_parent="0" content_type="1" value="100" default_value="100" min="50" max="150" tooltip='This tag is used to modify at runtime the voice feature (tone, speed) in way slightly different of what pitch and speed modification does, giving a kind of &quot;gender or age modification &quot; effect.&#x0A;&#x0A;To better tune the effect, one should compensate the speed modification due to the value parameter. For exemple to keep an average constant speed, one should add 20% to speed parameter when decreasing 20% to the Voice Shaping (VCT) parameter :&#x0A;&#x0A;A quite good male derivation of female voice for example could be obtained using the following parameters: VCT=78.' id="5" />
                                                                                        <Parameter name="speed" inherits_from_parent="0" content_type="1" value="85" default_value="100" min="50" max="200" tooltip="change the speed of the voice" id="6" />
                                                                                        <Resource name="TTS" type="Lock" timeout="0" />
                                                                                    </Box>
                                                                                    <Box name="Gen. sentence" id="1" tooltip="" x="420" y="33">
                                                                                        <bitmap>media/images/box/box-diagram.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)

    def onLoad(self):
        #~ puts code for box initialization here
        pass

    def onUnload(self):
        #~ puts code for box cleanup here
        pass

    def onInput_onStart(self, p):
        self.onStopped(p.format(nbRobots = self.getParameter("Number of Naos")))
        pass]]>
</content>
                                                                                        </script>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="3" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                                        <Output name="onStopped" type="3" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="3" />
                                                                                    </Box>
                                                                                    <Link inputowner="3" indexofinput="2" outputowner="0" indexofoutput="1" />
                                                                                    <Link inputowner="1" indexofinput="2" outputowner="3" indexofoutput="4" />
                                                                                    <Link inputowner="4" indexofinput="2" outputowner="1" indexofoutput="3" />
                                                                                </Diagram>
                                                                            </BehaviorKeyframe>
                                                                        </BehaviorLayer>
                                                                        <BehaviorLayer name="LED">
                                                                            <BehaviorKeyframe name="blink" index="7">
                                                                                <Diagram>
                                                                                    <Box name="blink" id="1" tooltip="blink" x="130" y="41">
                                                                                        <bitmap>media/images/box/box-diagram.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)

    def onLoad(self):
        #~ puts code for box initialization here
        pass

    def onUnload(self):
        #~ puts code for box cleanup here
        pass

    def onInput_onStart(self):
        rDuration = 0.05;
        ALLeds.post.fadeRGB( "FaceLed0", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed1", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed2", 0xffffff, rDuration );
        ALLeds.post.fadeRGB( "FaceLed3", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed4", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed5", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed6", 0xffffff, rDuration );
        ALLeds.fadeRGB( "FaceLed7", 0x000000, rDuration );

        time.sleep( 0.1 );
        
        rDuration = 0.05;
        ALLeds.fadeRGB( "FaceLeds", 0xffffff, rDuration );
        
        return;
        

    def onInput_onStop(self):
        self.onUnload() #~ it is usually a good idea to call onUnload of this box in a onStop method, as the code written in onUnload is used to finish the working of the box as well
        pass]]>
</content>
                                                                                        </script>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                                                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                                                                    </Box>
                                                                                    <Link inputowner="1" indexofinput="2" outputowner="0" indexofoutput="1" />
                                                                                </Diagram>
                                                                            </BehaviorKeyframe>
                                                                            <BehaviorKeyframe name="blink_copy" index="83">
                                                                                <Diagram>
                                                                                    <Box name="blink" id="1" tooltip="blink" x="130" y="41">
                                                                                        <bitmap>media/images/box/box-diagram.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)

    def onLoad(self):
        #~ puts code for box initialization here
        pass

    def onUnload(self):
        #~ puts code for box cleanup here
        pass

    def onInput_onStart(self):
        rDuration = 0.05;
        ALLeds.post.fadeRGB( "FaceLed0", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed1", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed2", 0xffffff, rDuration );
        ALLeds.post.fadeRGB( "FaceLed3", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed4", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed5", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed6", 0xffffff, rDuration );
        ALLeds.fadeRGB( "FaceLed7", 0x000000, rDuration );

        time.sleep( 0.1 );
        
        rDuration = 0.05;
        ALLeds.fadeRGB( "FaceLeds", 0xffffff, rDuration );
        
        return;
        

    def onInput_onStop(self):
        self.onUnload() #~ it is usually a good idea to call onUnload of this box in a onStop method, as the code written in onUnload is used to finish the working of the box as well
        pass]]>
</content>
                                                                                        </script>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                                                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                                                                    </Box>
                                                                                    <Link inputowner="1" indexofinput="2" outputowner="0" indexofoutput="1" />
                                                                                </Diagram>
                                                                            </BehaviorKeyframe>
                                                                            <BehaviorKeyframe name="blink_copy_copy" index="124">
                                                                                <Diagram>
                                                                                    <Box name="blink" id="1" tooltip="blink" x="130" y="41">
                                                                                        <bitmap>media/images/box/box-diagram.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)

    def onLoad(self):
        #~ puts code for box initialization here
        pass

    def onUnload(self):
        #~ puts code for box cleanup here
        pass

    def onInput_onStart(self):
        rDuration = 0.05;
        ALLeds.post.fadeRGB( "FaceLed0", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed1", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed2", 0xffffff, rDuration );
        ALLeds.post.fadeRGB( "FaceLed3", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed4", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed5", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed6", 0xffffff, rDuration );
        ALLeds.fadeRGB( "FaceLed7", 0x000000, rDuration );

        time.sleep( 0.1 );
        
        rDuration = 0.05;
        ALLeds.fadeRGB( "FaceLeds", 0xffffff, rDuration );
        
        return;
        

    def onInput_onStop(self):
        self.onUnload() #~ it is usually a good idea to call onUnload of this box in a onStop method, as the code written in onUnload is used to finish the working of the box as well
        pass]]>
</content>
                                                                                        </script>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                                                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                                                                    </Box>
                                                                                    <Link inputowner="1" indexofinput="2" outputowner="0" indexofoutput="1" />
                                                                                </Diagram>
                                                                            </BehaviorKeyframe>
                                                                            <BehaviorKeyframe name="blink_copy_copy_copy" index="194">
                                                                                <Diagram>
                                                                                    <Box name="blink" id="1" tooltip="blink" x="130" y="41">
                                                                                        <bitmap>media/images/box/box-diagram.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)

    def onLoad(self):
        #~ puts code for box initialization here
        pass

    def onUnload(self):
        #~ puts code for box cleanup here
        pass

    def onInput_onStart(self):
        rDuration = 0.05;
        ALLeds.post.fadeRGB( "FaceLed0", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed1", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed2", 0xffffff, rDuration );
        ALLeds.post.fadeRGB( "FaceLed3", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed4", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed5", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed6", 0xffffff, rDuration );
        ALLeds.fadeRGB( "FaceLed7", 0x000000, rDuration );

        time.sleep( 0.1 );
        
        rDuration = 0.05;
        ALLeds.fadeRGB( "FaceLeds", 0xffffff, rDuration );
        
        return;
        

    def onInput_onStop(self):
        self.onUnload() #~ it is usually a good idea to call onUnload of this box in a onStop method, as the code written in onUnload is used to finish the working of the box as well
        pass]]>
</content>
                                                                                        </script>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                                                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                                                                    </Box>
                                                                                    <Link inputowner="1" indexofinput="2" outputowner="0" indexofoutput="1" />
                                                                                </Diagram>
                                                                            </BehaviorKeyframe>
                                                                        </BehaviorLayer>
                                                                        <ActuatorList model="Nao">
                                                                            <ActuatorCurve name="value" actuator="HeadYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="23" value="-1.84813" />
                                                                                <Key frame="38" value="-2.81494" />
                                                                                <Key frame="52" value="-4.13332" />
                                                                                <Key frame="66" value="-7.91266" />
                                                                                <Key frame="82" value="13.445" />
                                                                                <Key frame="115" value="-25.0515" />
                                                                                <Key frame="134" value="-10.11" />
                                                                                <Key frame="152" value="-2.37548" />
                                                                                <Key frame="169" value="-3.07861" />
                                                                                <Key frame="184" value="-2.90283" />
                                                                                <Key frame="208" value="-2.28759" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="HeadPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="23" value="-22.3269" />
                                                                                <Key frame="38" value="-18.987" />
                                                                                <Key frame="52" value="-13.6256" />
                                                                                <Key frame="66" value="-22.4148" />
                                                                                <Key frame="82" value="5.97423" />
                                                                                <Key frame="115" value="-22.3269" />
                                                                                <Key frame="134" value="12.7419" />
                                                                                <Key frame="152" value="-21.9753" />
                                                                                <Key frame="169" value="-20.2175" />
                                                                                <Key frame="184" value="-18.0202" />
                                                                                <Key frame="208" value="-7.56109" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LShoulderPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="20" value="82.6158" />
                                                                                <Key frame="35" value="96.1511" />
                                                                                <Key frame="49" value="86.6588" />
                                                                                <Key frame="63" value="90.614" />
                                                                                <Key frame="79" value="77.606" />
                                                                                <Key frame="112" value="67.2348" />
                                                                                <Key frame="131" value="72.0688" />
                                                                                <Key frame="149" value="60.6429" />
                                                                                <Key frame="166" value="49.4806" />
                                                                                <Key frame="181" value="89.2077" />
                                                                                <Key frame="205" value="82.6158" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LShoulderRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="20" value="1.40386" />
                                                                                <Key frame="35" value="1.14019" />
                                                                                <Key frame="49" value="1.0523" />
                                                                                <Key frame="63" value="8.78677" />
                                                                                <Key frame="79" value="1.31597" />
                                                                                <Key frame="112" value="27.244" />
                                                                                <Key frame="131" value="2.107" />
                                                                                <Key frame="149" value="2.28278" />
                                                                                <Key frame="166" value="12.5661" />
                                                                                <Key frame="181" value="14.5876" />
                                                                                <Key frame="205" value="5.62267" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LElbowYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="20" value="-51.507" />
                                                                                <Key frame="35" value="-103.539" />
                                                                                <Key frame="49" value="-65.4817" />
                                                                                <Key frame="63" value="-104.506" />
                                                                                <Key frame="79" value="-42.4541" />
                                                                                <Key frame="99" value="-62" />
                                                                                <Key frame="112" value="-101.869" />
                                                                                <Key frame="131" value="-43.1572" />
                                                                                <Key frame="149" value="-59.9446" />
                                                                                <Key frame="166" value="-100.99" />
                                                                                <Key frame="181" value="-101.078" />
                                                                                <Key frame="205" value="-55.4621" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LElbowRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="20" value="-52.8205" />
                                                                                <Key frame="35" value="-45.965" />
                                                                                <Key frame="49" value="-40.4278" />
                                                                                <Key frame="63" value="-43.6798" />
                                                                                <Key frame="79" value="-57.0393" />
                                                                                <Key frame="99" value="-72" />
                                                                                <Key frame="112" value="-37.2637" />
                                                                                <Key frame="131" value="-55.6331" />
                                                                                <Key frame="149" value="-75.7603" />
                                                                                <Key frame="166" value="-64.9496" />
                                                                                <Key frame="181" value="-23.201" />
                                                                                <Key frame="205" value="-33.5722" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LWristYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="35" value="29" />
                                                                                <Key frame="49" value="-5" />
                                                                                <Key frame="79" value="-5.18802" />
                                                                                <Key frame="112" value="-35" />
                                                                                <Key frame="149" value="-67" />
                                                                                <Key frame="181" value="-66.3607" />
                                                                                <Key frame="205" value="-10" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LHand" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="35" value="0.0727535" />
                                                                                <Key frame="79" value="0.0752989" />
                                                                                <Key frame="112" value="0.729091" />
                                                                                <Key frame="149" value="0.181818" />
                                                                                <Key frame="181" value="0.175662" />
                                                                                <Key frame="205" value="0.103636" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RShoulderPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="16" value="6.68218" />
                                                                                <Key frame="31" value="33.6649" />
                                                                                <Key frame="45" value="51.1554" />
                                                                                <Key frame="59" value="63.2844" />
                                                                                <Key frame="75" value="18.4597" />
                                                                                <Key frame="108" value="3.78175" />
                                                                                <Key frame="127" value="9.67049" />
                                                                                <Key frame="145" value="28.8309" />
                                                                                <Key frame="162" value="34.7196" />
                                                                                <Key frame="177" value="88.6852" />
                                                                                <Key frame="201" value="80.5991" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RShoulderRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="16" value="-3.78175" />
                                                                                <Key frame="31" value="-4.3091" />
                                                                                <Key frame="45" value="-0.498473" />
                                                                                <Key frame="59" value="-1.49656" />
                                                                                <Key frame="75" value="-0.79343" />
                                                                                <Key frame="108" value="-87.982" />
                                                                                <Key frame="127" value="-27.3367" />
                                                                                <Key frame="145" value="-6.50639" />
                                                                                <Key frame="162" value="-1.67235" />
                                                                                <Key frame="177" value="-16.8776" />
                                                                                <Key frame="201" value="-1.0571" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RElbowYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="16" value="8.4352" />
                                                                                <Key frame="31" value="84.4615" />
                                                                                <Key frame="45" value="44.3829" />
                                                                                <Key frame="59" value="38.9336" />
                                                                                <Key frame="75" value="45.3497" />
                                                                                <Key frame="95" value="30" />
                                                                                <Key frame="108" value="57.7425" />
                                                                                <Key frame="127" value="66.9711" />
                                                                                <Key frame="145" value="36.7363" />
                                                                                <Key frame="162" value="91.2292" />
                                                                                <Key frame="177" value="98.2605" />
                                                                                <Key frame="201" value="43.3282" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RElbowRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="16" value="82.6206" />
                                                                                <Key frame="31" value="60.6477" />
                                                                                <Key frame="45" value="66.7122" />
                                                                                <Key frame="59" value="60.1203" />
                                                                                <Key frame="75" value="88.8609" />
                                                                                <Key frame="95" value="63" />
                                                                                <Key frame="108" value="24.1726" />
                                                                                <Key frame="127" value="64.2513" />
                                                                                <Key frame="145" value="82.4448" />
                                                                                <Key frame="162" value="67.5033" />
                                                                                <Key frame="177" value="38.0595" />
                                                                                <Key frame="201" value="38.1474" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RWristYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="31" value="28" />
                                                                                <Key frame="45" value="74" />
                                                                                <Key frame="75" value="73.563" />
                                                                                <Key frame="108" value="43" />
                                                                                <Key frame="145" value="97" />
                                                                                <Key frame="177" value="95.7996" />
                                                                                <Key frame="201" value="0" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RHand" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="31" value="0.181844" />
                                                                                <Key frame="75" value="0.181844" />
                                                                                <Key frame="108" value="0.703636" />
                                                                                <Key frame="145" value="0.378182" />
                                                                                <Key frame="177" value="0.36548" />
                                                                                <Key frame="201" value="0.221818" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LHipYawPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="33" value="-17.7517" />
                                                                                <Key frame="77" value="-20.4764" />
                                                                                <Key frame="110" value="-18.9822" />
                                                                                <Key frame="147" value="-18.6306" />
                                                                                <Key frame="179" value="-18.367" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LHipRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="33" value="1.93602" />
                                                                                <Key frame="77" value="-0.876513" />
                                                                                <Key frame="110" value="11.692" />
                                                                                <Key frame="147" value="8.35212" />
                                                                                <Key frame="179" value="12.8346" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LHipPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="33" value="15.5592" />
                                                                                <Key frame="77" value="4.48488" />
                                                                                <Key frame="110" value="18.196" />
                                                                                <Key frame="147" value="18.6355" />
                                                                                <Key frame="179" value="18.0202" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LKneePitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="33" value="-0.090296" />
                                                                                <Key frame="77" value="-0.178188" />
                                                                                <Key frame="110" value="1.84332" />
                                                                                <Key frame="147" value="3.1617" />
                                                                                <Key frame="179" value="4.74375" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LAnklePitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="33" value="-0.441863" />
                                                                                <Key frame="77" value="6.67737" />
                                                                                <Key frame="110" value="-2.72705" />
                                                                                <Key frame="147" value="-3.95753" />
                                                                                <Key frame="179" value="-4.04542" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LAnkleRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="33" value="-1.57965" />
                                                                                <Key frame="77" value="-0.788621" />
                                                                                <Key frame="110" value="-8.61098" />
                                                                                <Key frame="147" value="-6.06212" />
                                                                                <Key frame="179" value="-9.05044" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RHipRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="33" value="-7.29261" />
                                                                                <Key frame="77" value="-4.48007" />
                                                                                <Key frame="110" value="-1.66754" />
                                                                                <Key frame="147" value="-6.06212" />
                                                                                <Key frame="179" value="-1.93121" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RHipPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="33" value="13.7966" />
                                                                                <Key frame="77" value="1.75543" />
                                                                                <Key frame="110" value="18.4549" />
                                                                                <Key frame="147" value="18.1912" />
                                                                                <Key frame="179" value="20.4764" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RKneePitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="33" value="-4.48007" />
                                                                                <Key frame="77" value="-4.56797" />
                                                                                <Key frame="110" value="-4.30429" />
                                                                                <Key frame="147" value="-4.56797" />
                                                                                <Key frame="179" value="-4.56797" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RAnklePitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="33" value="5.71537" />
                                                                                <Key frame="77" value="12.8346" />
                                                                                <Key frame="110" value="3.69386" />
                                                                                <Key frame="147" value="3.78175" />
                                                                                <Key frame="179" value="3.2544" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RAnkleRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="33" value="5.18802" />
                                                                                <Key frame="77" value="2.99072" />
                                                                                <Key frame="110" value="1.0571" />
                                                                                <Key frame="147" value="4.39699" />
                                                                                <Key frame="179" value="1.32078" />
                                                                            </ActuatorCurve>
                                                                        </ActuatorList>
                                                                    </Timeline>
                                                                    <Resource name="Standing" type="Lock" timeout="2" />
                                                                    <Resource name="HeadYaw" type="Lock" timeout="2" />
                                                                    <Resource name="HeadPitch" type="Lock" timeout="2" />
                                                                    <Resource name="LShoulderPitch" type="Lock" timeout="2" />
                                                                    <Resource name="LShoulderRoll" type="Lock" timeout="2" />
                                                                    <Resource name="LElbowRoll" type="Lock" timeout="2" />
                                                                    <Resource name="LElbowYaw" type="Lock" timeout="2" />
                                                                    <Resource name="LWristYaw" type="Lock" timeout="2" />
                                                                    <Resource name="LHand" type="Lock" timeout="2" />
                                                                    <Resource name="RShoulderPitch" type="Lock" timeout="2" />
                                                                    <Resource name="RShoulderRoll" type="Lock" timeout="2" />
                                                                    <Resource name="RElbowRoll" type="Lock" timeout="2" />
                                                                    <Resource name="RElbowYaw" type="Lock" timeout="2" />
                                                                    <Resource name="RWristYaw" type="Lock" timeout="2" />
                                                                    <Resource name="RHand" type="Lock" timeout="2" />
                                                                    <Resource name="LHipYawPitch" type="Lock" timeout="2" />
                                                                    <Resource name="LHipPitch" type="Lock" timeout="2" />
                                                                    <Resource name="LHipRoll" type="Lock" timeout="2" />
                                                                    <Resource name="LKneePitch" type="Lock" timeout="2" />
                                                                    <Resource name="LAnklePitch" type="Lock" timeout="2" />
                                                                    <Resource name="LAnkleRoll" type="Lock" timeout="2" />
                                                                    <Resource name="RHipPitch" type="Lock" timeout="2" />
                                                                    <Resource name="RHipRoll" type="Lock" timeout="2" />
                                                                    <Resource name="RKneePitch" type="Lock" timeout="2" />
                                                                    <Resource name="RAnklePitch" type="Lock" timeout="2" />
                                                                    <Resource name="RAnkleRoll" type="Lock" timeout="2" />
                                                                    <Resource name="Speakers" type="Lock" timeout="2" />
                                                                </Box>
                                                                <Box name="Sentence12" id="16" tooltip="This box is empty (contains a single motion layer with no motor position&#x0A;defined in it) and should be used to create any animation you would like." x="1552" y="776">
                                                                    <bitmap>media/images/box/movement/move.png</bitmap>
                                                                    <script language="4">
                                                                        <content>
                                                                            <![CDATA[class MyClass(GeneratedClass):
	def __init__(self):
		GeneratedClass.__init__(self)

	def onUnload(self):
		#puts code for box cleanup here
		""

	def onInput_onStart(self):
		#self.onStopped() # activate output of the box
		""

	def onInput_onStop(self):
		""]]>
</content>
                                                                    </script>
                                                                    <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                                                                    <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Animation starts when a signal is received on this input." id="2" />
                                                                    <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Animation stops when a signal is received on this input." id="3" />
                                                                    <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when animation is finished." id="4" />
                                                                    <Timeline enable="1" fps="25" start_frame="0" end_frame="-1" size="300">
                                                                        <BehaviorLayer name="Speech">
                                                                            <BehaviorKeyframe name="Counting every articulation in my body, I have 25 degrees of freedom." index="10">
                                                                                <Diagram>
                                                                                    <Box name="Say" id="1" tooltip="Say some text. Note that you must open the box to enter the text." x="98" y="32">
                                                                                        <bitmap>media/images/box/interaction/say.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)

    def onLoad(self):
        self.bIsRunning = False

    def onUnload(self):
        self.bIsRunning = False

    def onInput_onStart(self):
        self.bIsRunning = True

    def onInput_onStop(self):
        if( self.bIsRunning ):
            self.onUnload()
            self.onStopped()]]>
</content>
                                                                                        </script>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this Input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this Input." id="3" />
                                                                                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished or stopped." id="4" />
                                                                                        <Parameter name="Voice shaping (%)" inherits_from_parent="0" content_type="1" value="100" default_value="100" min="50" max="150" tooltip='Used to modify at runtime the voice feature (tone, speed). In a slighty&#x0A;different way than pitch and speed, it gives a kind of &quot;gender or age&#x0A;modification&quot; effect.&#x0A;&#x0A;For instance, a quite good male derivation of female voice can be&#x0A;obtained setting this parameter to 78%.&#x0A;&#x0A;Note: For a better effect, you can compensate this parameter with the&#x0A;speed parameter. For example, if you want to decrease by 20% the voice&#x0A;shaping, you will have to increase by 20% the speed to keep a constant&#x0A;average speed.' id="5" />
                                                                                        <Parameter name="Speed (%)" inherits_from_parent="0" content_type="1" value="90" default_value="100" min="50" max="200" tooltip="Changes the speed of the voice.&#x0A;&#x0A;Note: For a better effect, you can compensate this parameter with the voice&#x0A;shaping parameter. For example, if you want to increase by 20% the speed, you&#x0A;will have to decrease by 20% the voice shaping to keep a constant average&#x0A;speed." id="6" />
                                                                                        <Timeline enable="0">
                                                                                            <BehaviorLayer name="behavior_layer1">
                                                                                                <BehaviorKeyframe name="keyframe1" index="1">
                                                                                                    <Diagram>
                                                                                                        <Box name="Say Text" id="2" tooltip="Say the text set in parameters." x="422" y="65">
                                                                                                            <bitmap>media/images/box/interaction/say.png</bitmap>
                                                                                                            <script language="4">
                                                                                                                <content>
                                                                                                                    <![CDATA[import time

class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)
        self.tts = ALProxy('ALTextToSpeech')
        self.ttsStop = ALProxy('ALTextToSpeech', True) #Create another proxy as wait is blocking if audioout is remote

    def onLoad(self):
        self.bIsRunning = False
        self.ids = []
        
    def onUnload(self):
        for id in self.ids:
            try:
                self.ttsStop.stop(id)
            except:
                pass
        while( self.bIsRunning ):
            time.sleep( 0.2 )

    def onInput_onStart(self, p):
        self.bIsRunning = True
        try:
            sentence = "\RSPD="+ str( self.getParameter("Speed (%)") ) + "\ "
            sentence += "\VCT="+ str( self.getParameter("Voice shaping (%)") ) + "\ "
            sentence += str(p)
            sentence +=  "\RST\ "
            id = self.tts.post.say(str(sentence))
            self.ids.append(id)
            self.tts.wait(id, 0)
        finally:
            try:
                self.ids.remove(id)
            except:
                pass
            if( self.ids == [] ):
                self.onStopped() # activate output of the box
                self.bIsRunning = False

    def onInput_onStop(self):
        self.onUnload()]]>
</content>
                                                                                                            </script>
                                                                                                            <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                                                                                                            <Input name="onStart" type="3" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this Input." id="2" />
                                                                                                            <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this Input." id="3" />
                                                                                                            <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when Box behavior is finished." id="4" />
                                                                                                            <Parameter name="Voice shaping (%)" inherits_from_parent="1" content_type="1" value="100" default_value="100" min="50" max="150" tooltip='Used to modify at runtime the voice feature (tone, speed). In a slighty&#x0A;different way than pitch and speed, it gives a kind of &quot;gender or age&#x0A;modification&quot; effect.&#x0A;&#x0A;For instance, a quite good male derivation of female voice can be&#x0A;obtained setting this parameter to 78%.&#x0A;&#x0A;Note: For a better effect, you can compensate this parameter with the&#x0A;speed parameter. For example, if you want to decrease by 20% the voice&#x0A;shaping, you will have to increase by 20% the speed to keep a constant&#x0A;average speed.' id="5" />
                                                                                                            <Parameter name="Speed (%)" inherits_from_parent="1" content_type="1" value="100" default_value="100" min="50" max="200" tooltip="Changes the speed of the voice.&#x0A;&#x0A;Note: For a better effect, you can compensate this parameter with the voice&#x0A;shaping parameter. For example, if you want to increase by 20% the speed, you&#x0A;will have to decrease by 20% the voice shaping to keep a constant average&#x0A;speed." id="6" />
                                                                                                        </Box>
                                                                                                        <Box name="Localized Text" id="5" tooltip="Send on the output the text associated with the robot&apos;s current voice language.&#x0A;You can display and edit the text associated with any language by&#x0A;selecting the language in the combobox.&#x0A;&#x0A;!!Warning!! The text sent on the output is NOT the displayed one but the one&#x0A;associated with the robot&apos;s current voice language." plugin="localizationbox_plugin" x="114" y="68">
                                                                                                            <bitmap>media/images/box/interaction/vocabulary.png</bitmap>
                                                                                                            <script language="4">
                                                                                                                <content>
                                                                                                                    <![CDATA[class MyClass(GeneratedClass):
	def __init__(self):
		try: # disable autoBind
			GeneratedClass.__init__(self, False)
		except TypeError: # if NAOqi < 1.14
			GeneratedClass.__init__( self )

		self.tts = ALProxy("ALTextToSpeech")
		self.sentences = {
			"Chinese" : " 计算全身的关节，我总共有25个自由度 ",
			"English" : " Robots gain points in Autonomous by driving and parking partially or fully upon the the bridge. ",
			"French" : " En comptant toutes les articulation de mon corps, je dispose de 25 degrés de liberté. ",
			"German" : "  ",
			"Italian" : "  ",
			"Japanese" : "  ",
			"Korean" : "  ",
			"Portuguese" : "  ",
			"Brazilian" : "  ",
			"Spanish" : "  ",
			"Arabic" : "  ",
			"Polish" : "  ",
			"Czech" : "  ",
			"Dutch" : "  ",
			"Danish" : "  ",
			"Finnish" : " Jos kaikki niveleni ja liikkumaratani lasketaan, minulla on 25 vapausastetta. ",
			"Swedish" : "  ",
			"Russian" : "  ",
			"Turkish" : "  "
		}

	def onInput_onStart(self):
		sDefaultLang = self.tts.getLanguage()
		self.onStopped(self.sentences[sDefaultLang])]]>
</content>
                                                                                                            </script>
                                                                                                            <pluginContent>
                                                                                                                <chinese>计算全身的关节，我总共有25个自由度</chinese>
                                                                                                                <english>Robots gain points in Autonomous by driving and parking partially or fully upon the the bridge.</english>
                                                                                                                <french>En comptant toutes les articulation de mon corps, je dispose de 25 degrés de liberté.</french>
                                                                                                                <german></german>
                                                                                                                <italian></italian>
                                                                                                                <japanese></japanese>
                                                                                                                <korean></korean>
                                                                                                                <portuguese></portuguese>
                                                                                                                <brazilian></brazilian>
                                                                                                                <spanish></spanish>
                                                                                                                <arabic></arabic>
                                                                                                                <polish></polish>
                                                                                                                <czech></czech>
                                                                                                                <dutch></dutch>
                                                                                                                <danish></danish>
                                                                                                                <finnish>Jos kaikki niveleni ja liikkumaratani lasketaan, minulla on 25 vapausastetta.</finnish>
                                                                                                                <swedish></swedish>
                                                                                                                <russian></russian>
                                                                                                                <turkish></turkish>
                                                                                                                <language>1</language>
                                                                                                            </pluginContent>
                                                                                                            <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                                                            <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Data is sent on the output when this input is stimulated." id="2" />
                                                                                                            <Output name="onStopped" type="3" type_size="1" nature="1" inner="0" tooltip="Data sent when asked." id="3" />
                                                                                                        </Box>
                                                                                                        <Link inputowner="0" indexofinput="4" outputowner="2" indexofoutput="4" />
                                                                                                        <Link inputowner="5" indexofinput="2" outputowner="0" indexofoutput="2" />
                                                                                                        <Link inputowner="2" indexofinput="2" outputowner="5" indexofoutput="3" />
                                                                                                    </Diagram>
                                                                                                </BehaviorKeyframe>
                                                                                            </BehaviorLayer>
                                                                                        </Timeline>
                                                                                    </Box>
                                                                                    <Link inputowner="1" indexofinput="2" outputowner="0" indexofoutput="1" />
                                                                                </Diagram>
                                                                            </BehaviorKeyframe>
                                                                        </BehaviorLayer>
                                                                        <BehaviorLayer name="LED">
                                                                            <BehaviorKeyframe name="keyframe6" index="6">
                                                                                <Diagram>
                                                                                    <Box name="Blink" id="2" tooltip="tags:&#x0A;LED" x="87" y="27">
                                                                                        <bitmap>media/images/box/interaction/LED.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)

    def onLoad(self):
        #~ puts code for box initialization here
        pass

    def onUnload(self):
        #~ puts code for box cleanup here
        pass

    def onInput_onStart(self):
        rDuration = 0.05;
        ALLeds.post.fadeRGB( "FaceLed0", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed1", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed2", 0xffffff, rDuration );
        ALLeds.post.fadeRGB( "FaceLed3", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed4", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed5", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed6", 0xffffff, rDuration );
        ALLeds.fadeRGB( "FaceLed7", 0x000000, rDuration );

        time.sleep( 0.1 );
        
        rDuration = 0.05;
        ALLeds.fadeRGB( "FaceLeds", 0xffffff, rDuration );
        
        self.onStopped()
        

    def onInput_onStop(self):
        self.onUnload() #~ it is usually a good idea to call onUnload of this box in a onStop method, as the code written in onUnload is used to finish the working of the box as well
        pass]]>
</content>
                                                                                        </script>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                                                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                                                                    </Box>
                                                                                    <Link inputowner="2" indexofinput="2" outputowner="0" indexofoutput="1" />
                                                                                </Diagram>
                                                                            </BehaviorKeyframe>
                                                                            <BehaviorKeyframe name="keyframe109" index="109">
                                                                                <Diagram>
                                                                                    <Box name="Blink" id="2" tooltip="tags:&#x0A;LED" x="103" y="58">
                                                                                        <bitmap>media/images/box/interaction/LED.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)

    def onLoad(self):
        #~ puts code for box initialization here
        pass

    def onUnload(self):
        #~ puts code for box cleanup here
        pass

    def onInput_onStart(self):
        rDuration = 0.05;
        ALLeds.post.fadeRGB( "FaceLed0", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed1", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed2", 0xffffff, rDuration );
        ALLeds.post.fadeRGB( "FaceLed3", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed4", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed5", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed6", 0xffffff, rDuration );
        ALLeds.fadeRGB( "FaceLed7", 0x000000, rDuration );

        time.sleep( 0.1 );
        
        rDuration = 0.05;
        ALLeds.fadeRGB( "FaceLeds", 0xffffff, rDuration );
        
        self.onStopped()
        

    def onInput_onStop(self):
        self.onUnload() #~ it is usually a good idea to call onUnload of this box in a onStop method, as the code written in onUnload is used to finish the working of the box as well
        pass]]>
</content>
                                                                                        </script>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                                                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                                                                    </Box>
                                                                                    <Link inputowner="2" indexofinput="2" outputowner="0" indexofoutput="1" />
                                                                                </Diagram>
                                                                            </BehaviorKeyframe>
                                                                            <BehaviorKeyframe name="keyframe145" index="145">
                                                                                <Diagram>
                                                                                    <Box name="Blink" id="2" tooltip="tags:&#x0A;LED" x="87" y="38">
                                                                                        <bitmap>media/images/box/interaction/LED.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)

    def onLoad(self):
        #~ puts code for box initialization here
        pass

    def onUnload(self):
        #~ puts code for box cleanup here
        pass

    def onInput_onStart(self):
        rDuration = 0.05;
        ALLeds.post.fadeRGB( "FaceLed0", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed1", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed2", 0xffffff, rDuration );
        ALLeds.post.fadeRGB( "FaceLed3", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed4", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed5", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed6", 0xffffff, rDuration );
        ALLeds.fadeRGB( "FaceLed7", 0x000000, rDuration );

        time.sleep( 0.1 );
        
        rDuration = 0.05;
        ALLeds.fadeRGB( "FaceLeds", 0xffffff, rDuration );
        
        self.onStopped()
        

    def onInput_onStop(self):
        self.onUnload() #~ it is usually a good idea to call onUnload of this box in a onStop method, as the code written in onUnload is used to finish the working of the box as well
        pass]]>
</content>
                                                                                        </script>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                                                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                                                                    </Box>
                                                                                    <Link inputowner="2" indexofinput="2" outputowner="0" indexofoutput="1" />
                                                                                </Diagram>
                                                                            </BehaviorKeyframe>
                                                                        </BehaviorLayer>
                                                                        <ActuatorList model="Nao">
                                                                            <ActuatorCurve name="value" actuator="HeadYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="21" value="-4.92434" />
                                                                                <Key frame="42" value="-4.57277" />
                                                                                <Key frame="67" value="-4.57277" />
                                                                                <Key frame="88" value="-4.92434" />
                                                                                <Key frame="102" value="-9.67049" />
                                                                                <Key frame="120" value="-3.16651" />
                                                                                <Key frame="132" value="-4.39699" />
                                                                                <Key frame="148" value="-4.83645" />
                                                                                <Key frame="167" value="-4.74856" />
                                                                                <Key frame="187" value="-4.74856" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="HeadPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="21" value="5.35899" />
                                                                                <Key frame="42" value="-10.11" />
                                                                                <Key frame="67" value="-10.11" />
                                                                                <Key frame="88" value="-11.4283" />
                                                                                <Key frame="102" value="5.35899" />
                                                                                <Key frame="120" value="-8.08844" />
                                                                                <Key frame="132" value="-11.0768" />
                                                                                <Key frame="148" value="-0.178188" />
                                                                                <Key frame="167" value="-6.15482" />
                                                                                <Key frame="187" value="-8.5279" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LShoulderPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="19" value="65.5648" />
                                                                                <Key frame="40" value="46.4923" />
                                                                                <Key frame="65" value="49.3927" />
                                                                                <Key frame="86" value="54.7541" />
                                                                                <Key frame="100" value="51.3264" />
                                                                                <Key frame="118" value="63.6312" />
                                                                                <Key frame="130" value="68.9926" />
                                                                                <Key frame="146" value="65.4769" />
                                                                                <Key frame="165" value="88.8561" />
                                                                                <Key frame="185" value="92.4597" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LShoulderRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="19" value="-9.5826" />
                                                                                <Key frame="40" value="-18" />
                                                                                <Key frame="65" value="-18" />
                                                                                <Key frame="86" value="-17.4929" />
                                                                                <Key frame="100" value="-16.6139" />
                                                                                <Key frame="118" value="-3.60596" />
                                                                                <Key frame="130" value="-3.16651" />
                                                                                <Key frame="146" value="-2.81494" />
                                                                                <Key frame="165" value="-0.00240423" />
                                                                                <Key frame="185" value="1.75543" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LElbowYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="19" value="-62.6692" />
                                                                                <Key frame="40" value="-15.2077" />
                                                                                <Key frame="65" value="-17.0534" />
                                                                                <Key frame="86" value="-16.4382" />
                                                                                <Key frame="100" value="-55.7258" />
                                                                                <Key frame="118" value="-88.9488" />
                                                                                <Key frame="130" value="-93.2555" />
                                                                                <Key frame="146" value="-83.4117" />
                                                                                <Key frame="165" value="-88.9488" />
                                                                                <Key frame="185" value="-91.0582" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LElbowRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="19" value="-60.3792" />
                                                                                <Key frame="40" value="-63.7191" />
                                                                                <Key frame="65" value="-62.4886" />
                                                                                <Key frame="86" value="-63.2796" />
                                                                                <Key frame="100" value="-88.5" />
                                                                                <Key frame="118" value="-75.3208" />
                                                                                <Key frame="130" value="-71.7172" />
                                                                                <Key frame="146" value="-86.4831" />
                                                                                <Key frame="165" value="-56.3362" />
                                                                                <Key frame="185" value="-54.3147" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LWristYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="19" value="-35.8622" />
                                                                                <Key frame="40" value="33.9238" />
                                                                                <Key frame="65" value="32.957" />
                                                                                <Key frame="86" value="36.9121" />
                                                                                <Key frame="100" value="0.173379" />
                                                                                <Key frame="118" value="-60.5598" />
                                                                                <Key frame="130" value="-60.1203" />
                                                                                <Key frame="146" value="-46.1456" />
                                                                                <Key frame="165" value="-73.3041" />
                                                                                <Key frame="185" value="-73.1283" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LHand" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="19" value="0.998" />
                                                                                <Key frame="40" value="0.7376" />
                                                                                <Key frame="65" value="0.7388" />
                                                                                <Key frame="86" value="0.7396" />
                                                                                <Key frame="100" value="0.5" />
                                                                                <Key frame="118" value="0.7604" />
                                                                                <Key frame="130" value="0.7592" />
                                                                                <Key frame="146" value="0.5572" />
                                                                                <Key frame="165" value="0.6016" />
                                                                                <Key frame="185" value="0.6016" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RShoulderPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="17" value="74.0951" />
                                                                                <Key frame="38" value="64.3391" />
                                                                                <Key frame="63" value="70.4916" />
                                                                                <Key frame="84" value="69.7884" />
                                                                                <Key frame="98" value="82.5327" />
                                                                                <Key frame="116" value="90.0035" />
                                                                                <Key frame="128" value="91.8493" />
                                                                                <Key frame="144" value="81.5659" />
                                                                                <Key frame="163" value="95.3649" />
                                                                                <Key frame="183" value="99.5837" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RShoulderRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="17" value="0.261271" />
                                                                                <Key frame="38" value="2.72224" />
                                                                                <Key frame="63" value="3.95272" />
                                                                                <Key frame="84" value="3.51326" />
                                                                                <Key frame="98" value="3.42537" />
                                                                                <Key frame="116" value="-0.617646" />
                                                                                <Key frame="128" value="-0.178188" />
                                                                                <Key frame="144" value="0.876513" />
                                                                                <Key frame="163" value="0.964405" />
                                                                                <Key frame="183" value="0.437054" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RElbowYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="17" value="51.5021" />
                                                                                <Key frame="38" value="60.8187" />
                                                                                <Key frame="63" value="57.5667" />
                                                                                <Key frame="84" value="55.7209" />
                                                                                <Key frame="98" value="67.059" />
                                                                                <Key frame="116" value="80.4185" />
                                                                                <Key frame="128" value="87.9772" />
                                                                                <Key frame="144" value="83.9342" />
                                                                                <Key frame="163" value="93.4265" />
                                                                                <Key frame="183" value="96.0633" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RElbowRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="17" value="38.5869" />
                                                                                <Key frame="38" value="52.5617" />
                                                                                <Key frame="63" value="52.8253" />
                                                                                <Key frame="84" value="51.1554" />
                                                                                <Key frame="98" value="32.6981" />
                                                                                <Key frame="116" value="29.4461" />
                                                                                <Key frame="128" value="29.7977" />
                                                                                <Key frame="144" value="77.9624" />
                                                                                <Key frame="163" value="61.9661" />
                                                                                <Key frame="183" value="56.9562" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RWristYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="17" value="-24.7" />
                                                                                <Key frame="38" value="-55.9894" />
                                                                                <Key frame="51" value="-1.6" />
                                                                                <Key frame="63" value="-51.4191" />
                                                                                <Key frame="84" value="-55.55" />
                                                                                <Key frame="98" value="-24.8758" />
                                                                                <Key frame="116" value="-4.92434" />
                                                                                <Key frame="128" value="-5.01223" />
                                                                                <Key frame="144" value="36.7363" />
                                                                                <Key frame="163" value="53.1721" />
                                                                                <Key frame="183" value="53.3479" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RHand" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="17" value="0.4088" />
                                                                                <Key frame="38" value="0.4088" />
                                                                                <Key frame="51" value="0.5" />
                                                                                <Key frame="63" value="0.254" />
                                                                                <Key frame="84" value="0.256" />
                                                                                <Key frame="98" value="0.256" />
                                                                                <Key frame="116" value="0.256" />
                                                                                <Key frame="128" value="0.256" />
                                                                                <Key frame="144" value="0.6308" />
                                                                                <Key frame="163" value="0.7384" />
                                                                                <Key frame="183" value="0.7384" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LHipYawPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="39" value="-11.863" />
                                                                                <Key frame="64" value="-11.863" />
                                                                                <Key frame="85" value="-11.863" />
                                                                                <Key frame="117" value="-12.5661" />
                                                                                <Key frame="129" value="-12.4782" />
                                                                                <Key frame="164" value="-12.3024" />
                                                                                <Key frame="184" value="-12.3024" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LHipRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="39" value="3.69386" />
                                                                                <Key frame="64" value="3.69386" />
                                                                                <Key frame="85" value="3.69386" />
                                                                                <Key frame="117" value="7.20953" />
                                                                                <Key frame="129" value="7.29742" />
                                                                                <Key frame="164" value="9.75839" />
                                                                                <Key frame="184" value="9.75839" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LHipPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="39" value="15.0319" />
                                                                                <Key frame="64" value="15.0319" />
                                                                                <Key frame="85" value="15.0319" />
                                                                                <Key frame="117" value="12.9225" />
                                                                                <Key frame="129" value="13.0104" />
                                                                                <Key frame="164" value="13.2741" />
                                                                                <Key frame="184" value="13.1862" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LKneePitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="39" value="-5.18802" />
                                                                                <Key frame="64" value="-5.27591" />
                                                                                <Key frame="85" value="-5.18802" />
                                                                                <Key frame="117" value="-5.01223" />
                                                                                <Key frame="129" value="-5.01223" />
                                                                                <Key frame="164" value="-5.01223" />
                                                                                <Key frame="184" value="-4.66067" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LAnklePitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="39" value="4.83164" />
                                                                                <Key frame="64" value="4.83164" />
                                                                                <Key frame="85" value="4.91953" />
                                                                                <Key frame="117" value="6.06212" />
                                                                                <Key frame="129" value="6.06212" />
                                                                                <Key frame="164" value="6.50158" />
                                                                                <Key frame="184" value="6.50158" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LAnkleRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="39" value="-2.72224" />
                                                                                <Key frame="64" value="-2.72224" />
                                                                                <Key frame="85" value="-2.72224" />
                                                                                <Key frame="117" value="-5.62267" />
                                                                                <Key frame="129" value="-5.62267" />
                                                                                <Key frame="164" value="-7.55628" />
                                                                                <Key frame="184" value="-7.64418" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RHipRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="39" value="-4.39218" />
                                                                                <Key frame="64" value="-4.39218" />
                                                                                <Key frame="85" value="-4.39218" />
                                                                                <Key frame="117" value="-0.173379" />
                                                                                <Key frame="129" value="-0.0854875" />
                                                                                <Key frame="164" value="2.37548" />
                                                                                <Key frame="184" value="2.37548" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RHipPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="39" value="15.3786" />
                                                                                <Key frame="64" value="15.4665" />
                                                                                <Key frame="85" value="15.3786" />
                                                                                <Key frame="117" value="15.3786" />
                                                                                <Key frame="129" value="15.3786" />
                                                                                <Key frame="164" value="16.2576" />
                                                                                <Key frame="184" value="16.4333" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RKneePitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="39" value="-4.2164" />
                                                                                <Key frame="64" value="-4.12851" />
                                                                                <Key frame="85" value="-4.04062" />
                                                                                <Key frame="117" value="-4.56797" />
                                                                                <Key frame="129" value="-4.48007" />
                                                                                <Key frame="164" value="-4.39218" />
                                                                                <Key frame="184" value="-4.2164" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RAnklePitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="39" value="2.1997" />
                                                                                <Key frame="64" value="2.46337" />
                                                                                <Key frame="85" value="2.55126" />
                                                                                <Key frame="117" value="2.28759" />
                                                                                <Key frame="129" value="2.37548" />
                                                                                <Key frame="164" value="2.46337" />
                                                                                <Key frame="184" value="2.55126" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RAnkleRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="39" value="3.2544" />
                                                                                <Key frame="64" value="3.2544" />
                                                                                <Key frame="85" value="3.2544" />
                                                                                <Key frame="117" value="0.00240423" />
                                                                                <Key frame="129" value="0.00240423" />
                                                                                <Key frame="164" value="-2.107" />
                                                                                <Key frame="184" value="-2.107" />
                                                                            </ActuatorCurve>
                                                                        </ActuatorList>
                                                                    </Timeline>
                                                                    <Resource name="Standing" type="Lock" timeout="2" />
                                                                    <Resource name="All motors" type="Lock" timeout="2" />
                                                                    <Resource name="Speakers" type="Lock" timeout="2" />
                                                                </Box>
                                                                <Box name="Sentence13" id="17" tooltip="This box is empty (contains a single motion layer with no motors defined in it) and should be used to create any movement you&apos;d like." x="1670" y="845">
                                                                    <bitmap>media/images/box/movement/move.png</bitmap>
                                                                    <script language="4">
                                                                        <content>
                                                                            <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)

    def onLoad(self):
        #~ puts code for box initialization here
        pass

    def onUnload(self):
        #~ puts code for box cleanup here
        pass

    def onInput_onStart(self):
        #~ self.onStopped() #~ activate output of the box
        pass

    def onInput_onStop(self):
        self.onStopped()]]>
</content>
                                                                    </script>
                                                                    <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                                                                    <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this Input." id="2" />
                                                                    <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this Input." id="3" />
                                                                    <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when Box behavior is finished." id="4" />
                                                                    <Parameter name="Number of Naos" inherits_from_parent="1" content_type="1" value="2000" default_value="0" min="0" max="1000000" tooltip="" id="5" />
                                                                    <Timeline enable="1" fps="25" start_frame="0" end_frame="215" size="300">
                                                                        <BehaviorLayer name="speech">
                                                                            <BehaviorKeyframe name="speech" index="10">
                                                                                <Diagram>
                                                                                    <Box name="LocalizedText" id="3" tooltip="Enter tooltip here" plugin="localizationbox_plugin" x="117" y="30">
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
	def __init__(self):
		try: # disable autoBind
			GeneratedClass.__init__(self, False)
		except TypeError: # if NAOqi < 1.14
			GeneratedClass.__init__( self )

		self.tts = ALProxy("ALTextToSpeech")
		self.sentences = {
			"Chinese" : " 我有两千多个兄弟分布在全球各地的高校和实验室中。 ",
			"English" : " and also by placing blocks in the pendulum goals or in the floor-scoring area. ",
			"French" : " Il y a plus de {nbRobots} Nao en utilisation, tout autour du monde, dans les universités et laboratoires. ",
			"German" : "  ",
			"Italian" : "  ",
			"Japanese" : "  ",
			"Korean" : "  ",
			"Portuguese" : "  ",
			"Brazilian" : "  ",
			"Spanish" : " Hay más de {nbRobots} robots ? Nao en utilización en todo el mundo, en universidades y laboratorios de investigación. ",
			"Arabic" : "  ",
			"Polish" : "  ",
			"Czech" : "  ",
			"Dutch" : "  ",
			"Danish" : "  ",
			"Finnish" : " Minulla on yli {nbRobots} sisarusta ympäri maailmaa yliopistoissa ja tutkimuslaitoksissa. ",
			"Swedish" : "  ",
			"Russian" : "  ",
			"Turkish" : "  "
		}

	def onInput_onStart(self):
		sDefaultLang = self.tts.getLanguage()
		self.onStopped(self.sentences[sDefaultLang])]]>
</content>
                                                                                        </script>
                                                                                        <pluginContent>
                                                                                            <chinese>我有两千多个兄弟分布在全球各地的高校和实验室中。</chinese>
                                                                                            <english>and also by placing blocks in the pendulum goals or in the floor-scoring area.</english>
                                                                                            <french>Il y a plus de {nbRobots} Nao en utilisation, tout autour du monde, dans les universités et laboratoires.</french>
                                                                                            <german></german>
                                                                                            <italian></italian>
                                                                                            <japanese></japanese>
                                                                                            <korean></korean>
                                                                                            <portuguese></portuguese>
                                                                                            <brazilian></brazilian>
                                                                                            <spanish>Hay más de {nbRobots} robots ? Nao en utilización en todo el mundo, en universidades y laboratorios de investigación.</spanish>
                                                                                            <arabic></arabic>
                                                                                            <polish></polish>
                                                                                            <czech></czech>
                                                                                            <dutch></dutch>
                                                                                            <danish></danish>
                                                                                            <finnish>Minulla on yli {nbRobots} sisarusta ympäri maailmaa yliopistoissa ja tutkimuslaitoksissa.</finnish>
                                                                                            <swedish></swedish>
                                                                                            <russian></russian>
                                                                                            <turkish></turkish>
                                                                                            <language>1</language>
                                                                                        </pluginContent>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                                                        <Output name="onStopped" type="3" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                                                                    </Box>
                                                                                    <Box name="Say Text" id="4" tooltip="Say the sentence asked. See box parameters for fine tuning of the voice." x="589" y="29">
                                                                                        <bitmap>media/images/box/interaction/say.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)
        self.tts = ALProxy('ALTextToSpeech')
        self.ttsStop = ALProxy('ALTextToSpeech', True) #Create another proxy as wait is blocking if audioout is remote
        
    def onLoad(self):
        #puts code for box cleanup here
        self.ids = []
        
    def onUnload(self):
        #puts code for box cleanup here    
        for id in self.ids:
            try:
                self.ttsStop.stop(id)
            except:
                pass
        
    def onInput_onStart(self, p):
        sentence = "\RSPD="+ str( self.getParameter("speed") )+ "\ "
        sentence += "\VCT="+ str( self.getParameter("Voice Shaping") ) + "\ " 
        sentence += str(p)
        sentence +=  "\RST\ "
        id = self.tts.post.say(sentence)
        self.ids.append(id)
        self.tts.wait(id, 0)
        self.ids.remove(id)
        self.onStopped() # activate output of the box

    def onInput_onStop(self):
        self.onUnload()]]>
</content>
                                                                                        </script>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="3" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this Input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this Input." id="3" />
                                                                                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when Box behavior is finished." id="4" />
                                                                                        <Parameter name="Voice Shaping" inherits_from_parent="0" content_type="1" value="100" default_value="100" min="50" max="150" tooltip='This tag is used to modify at runtime the voice feature (tone, speed) in way slightly different of what pitch and speed modification does, giving a kind of &quot;gender or age modification &quot; effect.&#x0A;&#x0A;To better tune the effect, one should compensate the speed modification due to the value parameter. For exemple to keep an average constant speed, one should add 20% to speed parameter when decreasing 20% to the Voice Shaping (VCT) parameter :&#x0A;&#x0A;A quite good male derivation of female voice for example could be obtained using the following parameters: VCT=78.' id="5" />
                                                                                        <Parameter name="speed" inherits_from_parent="0" content_type="1" value="85" default_value="100" min="50" max="200" tooltip="change the speed of the voice" id="6" />
                                                                                        <Resource name="TTS" type="Lock" timeout="0" />
                                                                                    </Box>
                                                                                    <Box name="Gen. sentence" id="1" tooltip="" x="420" y="33">
                                                                                        <bitmap>media/images/box/box-diagram.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)

    def onLoad(self):
        #~ puts code for box initialization here
        pass

    def onUnload(self):
        #~ puts code for box cleanup here
        pass

    def onInput_onStart(self, p):
        self.onStopped(p.format(nbRobots = self.getParameter("Number of Naos")))
        pass]]>
</content>
                                                                                        </script>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="3" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                                        <Output name="onStopped" type="3" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="3" />
                                                                                    </Box>
                                                                                    <Link inputowner="3" indexofinput="2" outputowner="0" indexofoutput="1" />
                                                                                    <Link inputowner="1" indexofinput="2" outputowner="3" indexofoutput="4" />
                                                                                    <Link inputowner="4" indexofinput="2" outputowner="1" indexofoutput="3" />
                                                                                </Diagram>
                                                                            </BehaviorKeyframe>
                                                                        </BehaviorLayer>
                                                                        <BehaviorLayer name="LED">
                                                                            <BehaviorKeyframe name="blink" index="7">
                                                                                <Diagram>
                                                                                    <Box name="blink" id="1" tooltip="blink" x="130" y="41">
                                                                                        <bitmap>media/images/box/box-diagram.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)

    def onLoad(self):
        #~ puts code for box initialization here
        pass

    def onUnload(self):
        #~ puts code for box cleanup here
        pass

    def onInput_onStart(self):
        rDuration = 0.05;
        ALLeds.post.fadeRGB( "FaceLed0", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed1", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed2", 0xffffff, rDuration );
        ALLeds.post.fadeRGB( "FaceLed3", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed4", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed5", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed6", 0xffffff, rDuration );
        ALLeds.fadeRGB( "FaceLed7", 0x000000, rDuration );

        time.sleep( 0.1 );
        
        rDuration = 0.05;
        ALLeds.fadeRGB( "FaceLeds", 0xffffff, rDuration );
        
        return;
        

    def onInput_onStop(self):
        self.onUnload() #~ it is usually a good idea to call onUnload of this box in a onStop method, as the code written in onUnload is used to finish the working of the box as well
        pass]]>
</content>
                                                                                        </script>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                                                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                                                                    </Box>
                                                                                    <Link inputowner="1" indexofinput="2" outputowner="0" indexofoutput="1" />
                                                                                </Diagram>
                                                                            </BehaviorKeyframe>
                                                                            <BehaviorKeyframe name="blink_copy" index="83">
                                                                                <Diagram>
                                                                                    <Box name="blink" id="1" tooltip="blink" x="130" y="41">
                                                                                        <bitmap>media/images/box/box-diagram.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)

    def onLoad(self):
        #~ puts code for box initialization here
        pass

    def onUnload(self):
        #~ puts code for box cleanup here
        pass

    def onInput_onStart(self):
        rDuration = 0.05;
        ALLeds.post.fadeRGB( "FaceLed0", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed1", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed2", 0xffffff, rDuration );
        ALLeds.post.fadeRGB( "FaceLed3", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed4", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed5", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed6", 0xffffff, rDuration );
        ALLeds.fadeRGB( "FaceLed7", 0x000000, rDuration );

        time.sleep( 0.1 );
        
        rDuration = 0.05;
        ALLeds.fadeRGB( "FaceLeds", 0xffffff, rDuration );
        
        return;
        

    def onInput_onStop(self):
        self.onUnload() #~ it is usually a good idea to call onUnload of this box in a onStop method, as the code written in onUnload is used to finish the working of the box as well
        pass]]>
</content>
                                                                                        </script>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                                                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                                                                    </Box>
                                                                                    <Link inputowner="1" indexofinput="2" outputowner="0" indexofoutput="1" />
                                                                                </Diagram>
                                                                            </BehaviorKeyframe>
                                                                            <BehaviorKeyframe name="blink_copy_copy" index="124">
                                                                                <Diagram>
                                                                                    <Box name="blink" id="1" tooltip="blink" x="130" y="41">
                                                                                        <bitmap>media/images/box/box-diagram.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)

    def onLoad(self):
        #~ puts code for box initialization here
        pass

    def onUnload(self):
        #~ puts code for box cleanup here
        pass

    def onInput_onStart(self):
        rDuration = 0.05;
        ALLeds.post.fadeRGB( "FaceLed0", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed1", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed2", 0xffffff, rDuration );
        ALLeds.post.fadeRGB( "FaceLed3", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed4", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed5", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed6", 0xffffff, rDuration );
        ALLeds.fadeRGB( "FaceLed7", 0x000000, rDuration );

        time.sleep( 0.1 );
        
        rDuration = 0.05;
        ALLeds.fadeRGB( "FaceLeds", 0xffffff, rDuration );
        
        return;
        

    def onInput_onStop(self):
        self.onUnload() #~ it is usually a good idea to call onUnload of this box in a onStop method, as the code written in onUnload is used to finish the working of the box as well
        pass]]>
</content>
                                                                                        </script>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                                                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                                                                    </Box>
                                                                                    <Link inputowner="1" indexofinput="2" outputowner="0" indexofoutput="1" />
                                                                                </Diagram>
                                                                            </BehaviorKeyframe>
                                                                            <BehaviorKeyframe name="blink_copy_copy_copy" index="194">
                                                                                <Diagram>
                                                                                    <Box name="blink" id="1" tooltip="blink" x="130" y="41">
                                                                                        <bitmap>media/images/box/box-diagram.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)

    def onLoad(self):
        #~ puts code for box initialization here
        pass

    def onUnload(self):
        #~ puts code for box cleanup here
        pass

    def onInput_onStart(self):
        rDuration = 0.05;
        ALLeds.post.fadeRGB( "FaceLed0", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed1", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed2", 0xffffff, rDuration );
        ALLeds.post.fadeRGB( "FaceLed3", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed4", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed5", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed6", 0xffffff, rDuration );
        ALLeds.fadeRGB( "FaceLed7", 0x000000, rDuration );

        time.sleep( 0.1 );
        
        rDuration = 0.05;
        ALLeds.fadeRGB( "FaceLeds", 0xffffff, rDuration );
        
        return;
        

    def onInput_onStop(self):
        self.onUnload() #~ it is usually a good idea to call onUnload of this box in a onStop method, as the code written in onUnload is used to finish the working of the box as well
        pass]]>
</content>
                                                                                        </script>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                                                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                                                                    </Box>
                                                                                    <Link inputowner="1" indexofinput="2" outputowner="0" indexofoutput="1" />
                                                                                </Diagram>
                                                                            </BehaviorKeyframe>
                                                                        </BehaviorLayer>
                                                                        <ActuatorList model="Nao">
                                                                            <ActuatorCurve name="value" actuator="HeadYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="23" value="-1.84813" />
                                                                                <Key frame="38" value="-2.81494" />
                                                                                <Key frame="52" value="-4.13332" />
                                                                                <Key frame="66" value="-7.91266" />
                                                                                <Key frame="82" value="13.445" />
                                                                                <Key frame="115" value="-25.0515" />
                                                                                <Key frame="134" value="-10.11" />
                                                                                <Key frame="152" value="-2.37548" />
                                                                                <Key frame="169" value="-3.07861" />
                                                                                <Key frame="184" value="-2.90283" />
                                                                                <Key frame="208" value="-2.28759" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="HeadPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="23" value="-22.3269" />
                                                                                <Key frame="38" value="-18.987" />
                                                                                <Key frame="52" value="-13.6256" />
                                                                                <Key frame="66" value="-22.4148" />
                                                                                <Key frame="82" value="5.97423" />
                                                                                <Key frame="115" value="-22.3269" />
                                                                                <Key frame="134" value="12.7419" />
                                                                                <Key frame="152" value="-21.9753" />
                                                                                <Key frame="169" value="-20.2175" />
                                                                                <Key frame="184" value="-18.0202" />
                                                                                <Key frame="208" value="-7.56109" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LShoulderPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="20" value="82.6158" />
                                                                                <Key frame="35" value="96.1511" />
                                                                                <Key frame="49" value="86.6588" />
                                                                                <Key frame="63" value="90.614" />
                                                                                <Key frame="79" value="77.606" />
                                                                                <Key frame="112" value="67.2348" />
                                                                                <Key frame="131" value="72.0688" />
                                                                                <Key frame="149" value="60.6429" />
                                                                                <Key frame="166" value="49.4806" />
                                                                                <Key frame="181" value="89.2077" />
                                                                                <Key frame="205" value="82.6158" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LShoulderRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="20" value="1.40386" />
                                                                                <Key frame="35" value="1.14019" />
                                                                                <Key frame="49" value="1.0523" />
                                                                                <Key frame="63" value="8.78677" />
                                                                                <Key frame="79" value="1.31597" />
                                                                                <Key frame="112" value="27.244" />
                                                                                <Key frame="131" value="2.107" />
                                                                                <Key frame="149" value="2.28278" />
                                                                                <Key frame="166" value="12.5661" />
                                                                                <Key frame="181" value="14.5876" />
                                                                                <Key frame="205" value="5.62267" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LElbowYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="20" value="-51.507" />
                                                                                <Key frame="35" value="-103.539" />
                                                                                <Key frame="49" value="-65.4817" />
                                                                                <Key frame="63" value="-104.506" />
                                                                                <Key frame="79" value="-42.4541" />
                                                                                <Key frame="99" value="-62" />
                                                                                <Key frame="112" value="-101.869" />
                                                                                <Key frame="131" value="-43.1572" />
                                                                                <Key frame="149" value="-59.9446" />
                                                                                <Key frame="166" value="-100.99" />
                                                                                <Key frame="181" value="-101.078" />
                                                                                <Key frame="205" value="-55.4621" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LElbowRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="20" value="-52.8205" />
                                                                                <Key frame="35" value="-45.965" />
                                                                                <Key frame="49" value="-40.4278" />
                                                                                <Key frame="63" value="-43.6798" />
                                                                                <Key frame="79" value="-57.0393" />
                                                                                <Key frame="99" value="-72" />
                                                                                <Key frame="112" value="-37.2637" />
                                                                                <Key frame="131" value="-55.6331" />
                                                                                <Key frame="149" value="-75.7603" />
                                                                                <Key frame="166" value="-64.9496" />
                                                                                <Key frame="181" value="-23.201" />
                                                                                <Key frame="205" value="-33.5722" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LWristYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="35" value="29" />
                                                                                <Key frame="49" value="-5" />
                                                                                <Key frame="79" value="-5.18802" />
                                                                                <Key frame="112" value="-35" />
                                                                                <Key frame="149" value="-67" />
                                                                                <Key frame="181" value="-66.3607" />
                                                                                <Key frame="205" value="-10" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LHand" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="35" value="0.0727535" />
                                                                                <Key frame="79" value="0.0752989" />
                                                                                <Key frame="112" value="0.729091" />
                                                                                <Key frame="149" value="0.181818" />
                                                                                <Key frame="181" value="0.175662" />
                                                                                <Key frame="205" value="0.103636" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RShoulderPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="16" value="6.68218" />
                                                                                <Key frame="31" value="33.6649" />
                                                                                <Key frame="45" value="51.1554" />
                                                                                <Key frame="59" value="63.2844" />
                                                                                <Key frame="75" value="18.4597" />
                                                                                <Key frame="108" value="3.78175" />
                                                                                <Key frame="127" value="9.67049" />
                                                                                <Key frame="145" value="28.8309" />
                                                                                <Key frame="162" value="34.7196" />
                                                                                <Key frame="177" value="88.6852" />
                                                                                <Key frame="201" value="80.5991" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RShoulderRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="16" value="-3.78175" />
                                                                                <Key frame="31" value="-4.3091" />
                                                                                <Key frame="45" value="-0.498473" />
                                                                                <Key frame="59" value="-1.49656" />
                                                                                <Key frame="75" value="-0.79343" />
                                                                                <Key frame="108" value="-87.982" />
                                                                                <Key frame="127" value="-27.3367" />
                                                                                <Key frame="145" value="-6.50639" />
                                                                                <Key frame="162" value="-1.67235" />
                                                                                <Key frame="177" value="-16.8776" />
                                                                                <Key frame="201" value="-1.0571" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RElbowYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="16" value="8.4352" />
                                                                                <Key frame="31" value="84.4615" />
                                                                                <Key frame="45" value="44.3829" />
                                                                                <Key frame="59" value="38.9336" />
                                                                                <Key frame="75" value="45.3497" />
                                                                                <Key frame="95" value="30" />
                                                                                <Key frame="108" value="57.7425" />
                                                                                <Key frame="127" value="66.9711" />
                                                                                <Key frame="145" value="36.7363" />
                                                                                <Key frame="162" value="91.2292" />
                                                                                <Key frame="177" value="98.2605" />
                                                                                <Key frame="201" value="43.3282" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RElbowRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="16" value="82.6206" />
                                                                                <Key frame="31" value="60.6477" />
                                                                                <Key frame="45" value="66.7122" />
                                                                                <Key frame="59" value="60.1203" />
                                                                                <Key frame="75" value="88.8609" />
                                                                                <Key frame="95" value="63" />
                                                                                <Key frame="108" value="24.1726" />
                                                                                <Key frame="127" value="64.2513" />
                                                                                <Key frame="145" value="82.4448" />
                                                                                <Key frame="162" value="67.5033" />
                                                                                <Key frame="177" value="38.0595" />
                                                                                <Key frame="201" value="38.1474" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RWristYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="31" value="28" />
                                                                                <Key frame="45" value="74" />
                                                                                <Key frame="75" value="73.563" />
                                                                                <Key frame="108" value="43" />
                                                                                <Key frame="145" value="97" />
                                                                                <Key frame="177" value="95.7996" />
                                                                                <Key frame="201" value="0" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RHand" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="31" value="0.181844" />
                                                                                <Key frame="75" value="0.181844" />
                                                                                <Key frame="108" value="0.703636" />
                                                                                <Key frame="145" value="0.378182" />
                                                                                <Key frame="177" value="0.36548" />
                                                                                <Key frame="201" value="0.221818" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LHipYawPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="33" value="-17.7517" />
                                                                                <Key frame="77" value="-20.4764" />
                                                                                <Key frame="110" value="-18.9822" />
                                                                                <Key frame="147" value="-18.6306" />
                                                                                <Key frame="179" value="-18.367" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LHipRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="33" value="1.93602" />
                                                                                <Key frame="77" value="-0.876513" />
                                                                                <Key frame="110" value="11.692" />
                                                                                <Key frame="147" value="8.35212" />
                                                                                <Key frame="179" value="12.8346" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LHipPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="33" value="15.5592" />
                                                                                <Key frame="77" value="4.48488" />
                                                                                <Key frame="110" value="18.196" />
                                                                                <Key frame="147" value="18.6355" />
                                                                                <Key frame="179" value="18.0202" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LKneePitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="33" value="-0.090296" />
                                                                                <Key frame="77" value="-0.178188" />
                                                                                <Key frame="110" value="1.84332" />
                                                                                <Key frame="147" value="3.1617" />
                                                                                <Key frame="179" value="4.74375" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LAnklePitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="33" value="-0.441863" />
                                                                                <Key frame="77" value="6.67737" />
                                                                                <Key frame="110" value="-2.72705" />
                                                                                <Key frame="147" value="-3.95753" />
                                                                                <Key frame="179" value="-4.04542" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LAnkleRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="33" value="-1.57965" />
                                                                                <Key frame="77" value="-0.788621" />
                                                                                <Key frame="110" value="-8.61098" />
                                                                                <Key frame="147" value="-6.06212" />
                                                                                <Key frame="179" value="-9.05044" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RHipRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="33" value="-7.29261" />
                                                                                <Key frame="77" value="-4.48007" />
                                                                                <Key frame="110" value="-1.66754" />
                                                                                <Key frame="147" value="-6.06212" />
                                                                                <Key frame="179" value="-1.93121" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RHipPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="33" value="13.7966" />
                                                                                <Key frame="77" value="1.75543" />
                                                                                <Key frame="110" value="18.4549" />
                                                                                <Key frame="147" value="18.1912" />
                                                                                <Key frame="179" value="20.4764" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RKneePitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="33" value="-4.48007" />
                                                                                <Key frame="77" value="-4.56797" />
                                                                                <Key frame="110" value="-4.30429" />
                                                                                <Key frame="147" value="-4.56797" />
                                                                                <Key frame="179" value="-4.56797" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RAnklePitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="33" value="5.71537" />
                                                                                <Key frame="77" value="12.8346" />
                                                                                <Key frame="110" value="3.69386" />
                                                                                <Key frame="147" value="3.78175" />
                                                                                <Key frame="179" value="3.2544" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RAnkleRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="33" value="5.18802" />
                                                                                <Key frame="77" value="2.99072" />
                                                                                <Key frame="110" value="1.0571" />
                                                                                <Key frame="147" value="4.39699" />
                                                                                <Key frame="179" value="1.32078" />
                                                                            </ActuatorCurve>
                                                                        </ActuatorList>
                                                                    </Timeline>
                                                                    <Resource name="Standing" type="Lock" timeout="2" />
                                                                    <Resource name="HeadYaw" type="Lock" timeout="2" />
                                                                    <Resource name="HeadPitch" type="Lock" timeout="2" />
                                                                    <Resource name="LShoulderPitch" type="Lock" timeout="2" />
                                                                    <Resource name="LShoulderRoll" type="Lock" timeout="2" />
                                                                    <Resource name="LElbowRoll" type="Lock" timeout="2" />
                                                                    <Resource name="LElbowYaw" type="Lock" timeout="2" />
                                                                    <Resource name="LWristYaw" type="Lock" timeout="2" />
                                                                    <Resource name="LHand" type="Lock" timeout="2" />
                                                                    <Resource name="RShoulderPitch" type="Lock" timeout="2" />
                                                                    <Resource name="RShoulderRoll" type="Lock" timeout="2" />
                                                                    <Resource name="RElbowRoll" type="Lock" timeout="2" />
                                                                    <Resource name="RElbowYaw" type="Lock" timeout="2" />
                                                                    <Resource name="RWristYaw" type="Lock" timeout="2" />
                                                                    <Resource name="RHand" type="Lock" timeout="2" />
                                                                    <Resource name="LHipYawPitch" type="Lock" timeout="2" />
                                                                    <Resource name="LHipPitch" type="Lock" timeout="2" />
                                                                    <Resource name="LHipRoll" type="Lock" timeout="2" />
                                                                    <Resource name="LKneePitch" type="Lock" timeout="2" />
                                                                    <Resource name="LAnklePitch" type="Lock" timeout="2" />
                                                                    <Resource name="LAnkleRoll" type="Lock" timeout="2" />
                                                                    <Resource name="RHipPitch" type="Lock" timeout="2" />
                                                                    <Resource name="RHipRoll" type="Lock" timeout="2" />
                                                                    <Resource name="RKneePitch" type="Lock" timeout="2" />
                                                                    <Resource name="RAnklePitch" type="Lock" timeout="2" />
                                                                    <Resource name="RAnkleRoll" type="Lock" timeout="2" />
                                                                    <Resource name="Speakers" type="Lock" timeout="2" />
                                                                </Box>
                                                                <Box name="Sentence14" id="18" tooltip="This box is empty (contains a single motion layer with no motors defined in it) and should be used to create any movement you&apos;d like." x="1791" y="919">
                                                                    <bitmap>media/images/box/movement/move.png</bitmap>
                                                                    <script language="4">
                                                                        <content>
                                                                            <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)

    def onLoad(self):
        #~ puts code for box initialization here
        pass

    def onUnload(self):
        #~ puts code for box cleanup here
        pass

    def onInput_onStart(self):
        #~ self.onStopped() #~ activate output of the box
        pass

    def onInput_onStop(self):
        self.onUnload() #~ it is recommanded to call onUnload of this box in a onStop method, as the code written in onUnload is used to stop the box as well
        pass]]>
</content>
                                                                    </script>
                                                                    <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                                                                    <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this Input." id="2" />
                                                                    <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this Input." id="3" />
                                                                    <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when Box behavior is finished." id="4" />
                                                                    <Timeline enable="1" fps="25" start_frame="0" end_frame="148" size="300">
                                                                        <BehaviorLayer name="speech">
                                                                            <BehaviorKeyframe name="speech" index="19">
                                                                                <Diagram>
                                                                                    <Box name="Say Text" id="2" tooltip="Say the sentence asked. See box parameters for fine tuning of the voice." x="390" y="15">
                                                                                        <bitmap>media/images/box/interaction/say.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)
        self.tts = ALProxy('ALTextToSpeech')
        self.ttsStop = ALProxy('ALTextToSpeech', True) #Create another proxy as wait is blocking if audioout is remote
        
    def onLoad(self):
        #puts code for box cleanup here
        self.ids = []
        
    def onUnload(self):
        #puts code for box cleanup here    
        for id in self.ids:
            try:
                self.ttsStop.stop(id)
            except:
                pass
        
    def onInput_onStart(self, p):
        sentence = "\RSPD="+ str( self.getParameter("speed") )+ "\ "
        sentence += "\VCT="+ str( self.getParameter("Voice Shaping") ) + "\ " 
        sentence += str(p)
        sentence +=  "\RST\ "
        id = self.tts.post.say(sentence)
        self.ids.append(id)
        self.tts.wait(id, 0)
        self.ids.remove(id)
        self.onStopped() # activate output of the box

    def onInput_onStop(self):
        self.onUnload()]]>
</content>
                                                                                        </script>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="3" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this Input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this Input." id="3" />
                                                                                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when Box behavior is finished." id="4" />
                                                                                        <Parameter name="Voice Shaping" inherits_from_parent="0" content_type="1" value="100" default_value="100" min="50" max="150" tooltip='This tag is used to modify at runtime the voice feature (tone, speed) in way slightly different of what pitch and speed modification does, giving a kind of &quot;gender or age modification &quot; effect.&#x0A;&#x0A;To better tune the effect, one should compensate the speed modification due to the value parameter. For exemple to keep an average constant speed, one should add 20% to speed parameter when decreasing 20% to the Voice Shaping (VCT) parameter :&#x0A;&#x0A;A quite good male derivation of female voice for example could be obtained using the following parameters: VCT=78.' id="5" />
                                                                                        <Parameter name="speed" inherits_from_parent="0" content_type="1" value="85" default_value="100" min="50" max="200" tooltip="change the speed of the voice" id="6" />
                                                                                        <Resource name="TTS" type="Lock" timeout="0" />
                                                                                    </Box>
                                                                                    <Box name="LocalizedText" id="3" tooltip="Enter tooltip here" plugin="localizationbox_plugin" x="88" y="20">
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
	def __init__(self):
		try: # disable autoBind
			GeneratedClass.__init__(self, False)
		except TypeError: # if NAOqi < 1.14
			GeneratedClass.__init__( self )

		self.tts = ALProxy("ALTextToSpeech")
		self.sentences = {
			"Chinese" : " \\RSPD=110\\我是人形机器人，由阿尔德巴兰机器人公司设计。 ",
			"English" : " During the Driver-Controlled period, teams keep depositing yellow blocks. ",
			"French" : " Je suis un raubaut humanoïde, imaginé et fabriqué en France. ",
			"German" : "  ",
			"Italian" : "  ",
			"Japanese" : "  ",
			"Korean" : "  ",
			"Portuguese" : "  ",
			"Brazilian" : "  ",
			"Spanish" : " Soy un robot humanoide, diseñado y fabricado en Francia. ",
			"Arabic" : "  ",
			"Polish" : "  ",
			"Czech" : "  ",
			"Dutch" : "  ",
			"Danish" : "  ",
			"Finnish" : " \\RSPD=110\\ Olen humanoidirobotti, \\RSPD=100\\ jonka on rakentanut \\RSPD=115\\ ranskalainen \\RSPD=110\\ yritys nimeltä \\RSPD=105\\ Aldebaran. ",
			"Swedish" : "  ",
			"Russian" : "  ",
			"Turkish" : "  "
		}

	def onInput_onStart(self):
		sDefaultLang = self.tts.getLanguage()
		self.onStopped(self.sentences[sDefaultLang])]]>
</content>
                                                                                        </script>
                                                                                        <pluginContent>
                                                                                            <chinese>\RSPD=110\我是人形机器人，由阿尔德巴兰机器人公司设计。</chinese>
                                                                                            <english>During the Driver-Controlled period, teams keep depositing yellow blocks.</english>
                                                                                            <french>Je suis un raubaut humanoïde, imaginé et fabriqué en France.</french>
                                                                                            <german></german>
                                                                                            <italian></italian>
                                                                                            <japanese></japanese>
                                                                                            <korean></korean>
                                                                                            <portuguese></portuguese>
                                                                                            <brazilian></brazilian>
                                                                                            <spanish>Soy un robot humanoide, diseñado y fabricado en Francia.</spanish>
                                                                                            <arabic></arabic>
                                                                                            <polish></polish>
                                                                                            <czech></czech>
                                                                                            <dutch></dutch>
                                                                                            <danish></danish>
                                                                                            <finnish>\RSPD=110\ Olen humanoidirobotti, \RSPD=100\ jonka on rakentanut \RSPD=115\ ranskalainen \RSPD=110\ yritys nimeltä \RSPD=105\ Aldebaran.</finnish>
                                                                                            <swedish></swedish>
                                                                                            <russian></russian>
                                                                                            <turkish></turkish>
                                                                                            <language>1</language>
                                                                                        </pluginContent>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                                                        <Output name="onStopped" type="3" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                                                                    </Box>
                                                                                    <Link inputowner="3" indexofinput="2" outputowner="0" indexofoutput="1" />
                                                                                    <Link inputowner="2" indexofinput="2" outputowner="3" indexofoutput="4" />
                                                                                </Diagram>
                                                                            </BehaviorKeyframe>
                                                                        </BehaviorLayer>
                                                                        <BehaviorLayer name="LED">
                                                                            <BehaviorKeyframe name="blink" index="13">
                                                                                <Diagram>
                                                                                    <Box name="blink" id="1" tooltip="blink" x="130" y="41">
                                                                                        <bitmap>media/images/box/box-diagram.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)

    def onLoad(self):
        #~ puts code for box initialization here
        pass

    def onUnload(self):
        #~ puts code for box cleanup here
        pass

    def onInput_onStart(self):
        rDuration = 0.05;
        ALLeds.post.fadeRGB( "FaceLed0", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed1", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed2", 0xffffff, rDuration );
        ALLeds.post.fadeRGB( "FaceLed3", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed4", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed5", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed6", 0xffffff, rDuration );
        ALLeds.fadeRGB( "FaceLed7", 0x000000, rDuration );

        time.sleep( 0.1 );
        
        rDuration = 0.05;
        ALLeds.fadeRGB( "FaceLeds", 0xffffff, rDuration );
        
        return;
        

    def onInput_onStop(self):
        self.onUnload() #~ it is usually a good idea to call onUnload of this box in a onStop method, as the code written in onUnload is used to finish the working of the box as well
        pass]]>
</content>
                                                                                        </script>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                                                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                                                                    </Box>
                                                                                    <Link inputowner="1" indexofinput="2" outputowner="0" indexofoutput="1" />
                                                                                </Diagram>
                                                                            </BehaviorKeyframe>
                                                                        </BehaviorLayer>
                                                                        <ActuatorList model="Nao">
                                                                            <ActuatorCurve name="value" actuator="HeadYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="23" value="-18.2839" />
                                                                                <Key frame="40" value="-19.9538" />
                                                                                <Key frame="56" value="-33.0497" />
                                                                                <Key frame="74" value="-3.34229" />
                                                                                <Key frame="89" value="-3.78175" />
                                                                                <Key frame="102" value="-4.92434" />
                                                                                <Key frame="116" value="-3.95753" />
                                                                                <Key frame="140" value="-6.33061" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="HeadPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="23" value="9.92936" />
                                                                                <Key frame="40" value="19.949" />
                                                                                <Key frame="56" value="27.3319" />
                                                                                <Key frame="74" value="-18.3718" />
                                                                                <Key frame="89" value="-19.5144" />
                                                                                <Key frame="102" value="-0.00240423" />
                                                                                <Key frame="116" value="-15.9108" />
                                                                                <Key frame="140" value="-16.9655" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LShoulderPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="20" value="82.8795" />
                                                                                <Key frame="37" value="96.8543" />
                                                                                <Key frame="53" value="91.1413" />
                                                                                <Key frame="71" value="90.3503" />
                                                                                <Key frame="86" value="68.5531" />
                                                                                <Key frame="99" value="70.9262" />
                                                                                <Key frame="113" value="84.4615" />
                                                                                <Key frame="137" value="83.6705" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LShoulderRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="20" value="25.4862" />
                                                                                <Key frame="37" value="13.7966" />
                                                                                <Key frame="53" value="13.0056" />
                                                                                <Key frame="71" value="2.19489" />
                                                                                <Key frame="86" value="1.93121" />
                                                                                <Key frame="99" value="1.14019" />
                                                                                <Key frame="113" value="1.14019" />
                                                                                <Key frame="137" value="1.0523" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LElbowYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="20" value="-64.6028" />
                                                                                <Key frame="37" value="-70.3158" />
                                                                                <Key frame="53" value="-55.2863" />
                                                                                <Key frame="71" value="-102.308" />
                                                                                <Key frame="86" value="-56.5168" />
                                                                                <Key frame="99" value="-77.3471" />
                                                                                <Key frame="113" value="-89.3883" />
                                                                                <Key frame="137" value="-55.0226" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LElbowRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="20" value="-88.153" />
                                                                                <Key frame="37" value="-56.0725" />
                                                                                <Key frame="53" value="-65.8285" />
                                                                                <Key frame="71" value="-63.3675" />
                                                                                <Key frame="86" value="-82.0885" />
                                                                                <Key frame="99" value="-73.1235" />
                                                                                <Key frame="113" value="-46.4923" />
                                                                                <Key frame="137" value="-34.6269" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LWristYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="37" value="-20.3933" />
                                                                                <Key frame="71" value="-26.5457" />
                                                                                <Key frame="99" value="-56" />
                                                                                <Key frame="137" value="-8" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LHand" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="37" value="0.671296" />
                                                                                <Key frame="71" value="0.646933" />
                                                                                <Key frame="99" value="0.86" />
                                                                                <Key frame="137" value="0.234545" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RShoulderPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="16" value="61.2629" />
                                                                                <Key frame="33" value="38.8505" />
                                                                                <Key frame="49" value="33.4892" />
                                                                                <Key frame="67" value="60.5598" />
                                                                                <Key frame="82" value="67.0638" />
                                                                                <Key frame="95" value="69.1732" />
                                                                                <Key frame="109" value="70.6674" />
                                                                                <Key frame="133" value="91.8493" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RShoulderRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="16" value="-15.2077" />
                                                                                <Key frame="33" value="-18.8991" />
                                                                                <Key frame="49" value="-14.7682" />
                                                                                <Key frame="67" value="-27.3367" />
                                                                                <Key frame="82" value="-2.46337" />
                                                                                <Key frame="95" value="-3.2544" />
                                                                                <Key frame="109" value="-1.23289" />
                                                                                <Key frame="133" value="-1.49656" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RElbowYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="16" value="44.1192" />
                                                                                <Key frame="33" value="53.6994" />
                                                                                <Key frame="49" value="49.8322" />
                                                                                <Key frame="67" value="94.3933" />
                                                                                <Key frame="82" value="22.41" />
                                                                                <Key frame="95" value="39.9883" />
                                                                                <Key frame="109" value="41.5704" />
                                                                                <Key frame="133" value="69.0805" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RElbowRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="16" value="84.4664" />
                                                                                <Key frame="33" value="89.2125" />
                                                                                <Key frame="49" value="89.0367" />
                                                                                <Key frame="67" value="62.054" />
                                                                                <Key frame="82" value="51.6827" />
                                                                                <Key frame="95" value="76.0287" />
                                                                                <Key frame="109" value="85.8726" />
                                                                                <Key frame="133" value="57.5715" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RWristYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="33" value="75" />
                                                                                <Key frame="67" value="74.6177" />
                                                                                <Key frame="95" value="51" />
                                                                                <Key frame="133" value="52.0295" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RHand" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="33" value="0.2" />
                                                                                <Key frame="67" value="0.198935" />
                                                                                <Key frame="95" value="0.156364" />
                                                                                <Key frame="133" value="0.154935" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LHipYawPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="35" value="-22.7616" />
                                                                                <Key frame="69" value="-18.1033" />
                                                                                <Key frame="97" value="-17.4881" />
                                                                                <Key frame="135" value="-17.4002" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LHipRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="35" value="0.79343" />
                                                                                <Key frame="69" value="7.03374" />
                                                                                <Key frame="97" value="10.6373" />
                                                                                <Key frame="135" value="5.27591" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LHipPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="35" value="14.0651" />
                                                                                <Key frame="69" value="17.0534" />
                                                                                <Key frame="97" value="17.0534" />
                                                                                <Key frame="135" value="17.0534" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LKneePitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="35" value="-5.10012" />
                                                                                <Key frame="69" value="-2.46337" />
                                                                                <Key frame="97" value="-1.76024" />
                                                                                <Key frame="135" value="-2.90283" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LAnklePitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="35" value="9.75358" />
                                                                                <Key frame="69" value="2.28278" />
                                                                                <Key frame="97" value="2.89802" />
                                                                                <Key frame="135" value="3.1617" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LAnkleRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="35" value="-1.22808" />
                                                                                <Key frame="69" value="-5.88634" />
                                                                                <Key frame="97" value="-8.25942" />
                                                                                <Key frame="135" value="-4.83164" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RHipRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="35" value="-15.906" />
                                                                                <Key frame="69" value="-9.75358" />
                                                                                <Key frame="97" value="-6.76526" />
                                                                                <Key frame="135" value="-11.863" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RHipPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="35" value="7.46839" />
                                                                                <Key frame="69" value="18.9822" />
                                                                                <Key frame="97" value="20.0369" />
                                                                                <Key frame="135" value="17.4002" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RKneePitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="35" value="5.80326" />
                                                                                <Key frame="69" value="-4.48007" />
                                                                                <Key frame="97" value="-4.30429" />
                                                                                <Key frame="135" value="-4.39218" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RAnklePitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="35" value="4.39699" />
                                                                                <Key frame="69" value="2.72705" />
                                                                                <Key frame="97" value="3.07861" />
                                                                                <Key frame="135" value="3.95753" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RAnkleRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="35" value="11.3404" />
                                                                                <Key frame="69" value="7.20953" />
                                                                                <Key frame="97" value="5.18802" />
                                                                                <Key frame="135" value="8.79158" />
                                                                            </ActuatorCurve>
                                                                        </ActuatorList>
                                                                    </Timeline>
                                                                    <Resource name="Standing" type="Lock" timeout="2" />
                                                                    <Resource name="HeadYaw" type="Lock" timeout="2" />
                                                                    <Resource name="HeadPitch" type="Lock" timeout="2" />
                                                                    <Resource name="LShoulderPitch" type="Lock" timeout="2" />
                                                                    <Resource name="LShoulderRoll" type="Lock" timeout="2" />
                                                                    <Resource name="LElbowRoll" type="Lock" timeout="2" />
                                                                    <Resource name="LElbowYaw" type="Lock" timeout="2" />
                                                                    <Resource name="LWristYaw" type="Lock" timeout="2" />
                                                                    <Resource name="LHand" type="Lock" timeout="2" />
                                                                    <Resource name="RShoulderPitch" type="Lock" timeout="2" />
                                                                    <Resource name="RShoulderRoll" type="Lock" timeout="2" />
                                                                    <Resource name="RElbowRoll" type="Lock" timeout="2" />
                                                                    <Resource name="RElbowYaw" type="Lock" timeout="2" />
                                                                    <Resource name="RWristYaw" type="Lock" timeout="2" />
                                                                    <Resource name="RHand" type="Lock" timeout="2" />
                                                                    <Resource name="LHipYawPitch" type="Lock" timeout="2" />
                                                                    <Resource name="LHipPitch" type="Lock" timeout="2" />
                                                                    <Resource name="LHipRoll" type="Lock" timeout="2" />
                                                                    <Resource name="LKneePitch" type="Lock" timeout="2" />
                                                                    <Resource name="LAnklePitch" type="Lock" timeout="2" />
                                                                    <Resource name="LAnkleRoll" type="Lock" timeout="2" />
                                                                    <Resource name="RHipPitch" type="Lock" timeout="2" />
                                                                    <Resource name="RHipRoll" type="Lock" timeout="2" />
                                                                    <Resource name="RKneePitch" type="Lock" timeout="2" />
                                                                    <Resource name="RAnklePitch" type="Lock" timeout="2" />
                                                                    <Resource name="RAnkleRoll" type="Lock" timeout="2" />
                                                                    <Resource name="Speakers" type="Lock" timeout="2" />
                                                                </Box>
                                                                <Box name="Sentence15" id="19" tooltip="This box is empty (contains a single motion layer with no motors defined in it) and should be used to create any movement you&apos;d like." x="1900" y="985">
                                                                    <bitmap>media/images/box/movement/move.png</bitmap>
                                                                    <script language="4">
                                                                        <content>
                                                                            <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)

    def onLoad(self):
        #~ puts code for box initialization here
        pass

    def onUnload(self):
        #~ puts code for box cleanup here
        pass

    def onInput_onStart(self):
        #~ self.onStopped() #~ activate output of the box
        pass

    def onInput_onStop(self):
        self.onUnload() #~ it is recommanded to call onUnload of this box in a onStop method, as the code written in onUnload is used to stop the box as well
        pass]]>
</content>
                                                                    </script>
                                                                    <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                                                                    <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this Input." id="2" />
                                                                    <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this Input." id="3" />
                                                                    <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when Box behavior is finished." id="4" />
                                                                    <Timeline enable="1" fps="25" start_frame="0" end_frame="143" size="300">
                                                                        <BehaviorLayer name="speech">
                                                                            <BehaviorKeyframe name="speech" index="10">
                                                                                <Diagram>
                                                                                    <Box name="LocalizedText" id="1" tooltip="Enter tooltip here" plugin="localizationbox_plugin" x="105" y="31">
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
	def __init__(self):
		try: # disable autoBind
			GeneratedClass.__init__(self, False)
		except TypeError: # if NAOqi < 1.14
			GeneratedClass.__init__( self )

		self.tts = ALProxy("ALTextToSpeech")
		self.sentences = {
			"Chinese" : " 我自身带有软件并且完全可编程 ",
			"English" : " The final 30 seconds of the Driver-Controlled period is called the End Game. ",
			"French" : " Livré avec un logiciel, et entièrement programmable. ",
			"German" : "  ",
			"Italian" : "  ",
			"Japanese" : "  ",
			"Korean" : "  ",
			"Portuguese" : "  ",
			"Brazilian" : "  ",
			"Spanish" : " Tengo incluido un software y soy completamente programable. ",
			"Arabic" : "  ",
			"Polish" : "  ",
			"Czech" : "  ",
			"Dutch" : "  ",
			"Danish" : "  ",
			"Finnish" : " Mukanani tulee ohjelmistoa ja olen täysin ohjelmoitavissa. ",
			"Swedish" : "  ",
			"Russian" : "  ",
			"Turkish" : "  "
		}

	def onInput_onStart(self):
		sDefaultLang = self.tts.getLanguage()
		self.onStopped(self.sentences[sDefaultLang])]]>
</content>
                                                                                        </script>
                                                                                        <pluginContent>
                                                                                            <chinese>我自身带有软件并且完全可编程</chinese>
                                                                                            <english>The final 30 seconds of the Driver-Controlled period is called the End Game.</english>
                                                                                            <french>Livré avec un logiciel, et entièrement programmable.</french>
                                                                                            <german></german>
                                                                                            <italian></italian>
                                                                                            <japanese></japanese>
                                                                                            <korean></korean>
                                                                                            <portuguese></portuguese>
                                                                                            <brazilian></brazilian>
                                                                                            <spanish>Tengo incluido un software y soy completamente programable.</spanish>
                                                                                            <arabic></arabic>
                                                                                            <polish></polish>
                                                                                            <czech></czech>
                                                                                            <dutch></dutch>
                                                                                            <danish></danish>
                                                                                            <finnish>Mukanani tulee ohjelmistoa ja olen täysin ohjelmoitavissa.</finnish>
                                                                                            <swedish></swedish>
                                                                                            <russian></russian>
                                                                                            <turkish></turkish>
                                                                                            <language>1</language>
                                                                                        </pluginContent>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                                                        <Output name="onStopped" type="3" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                                                                    </Box>
                                                                                    <Box name="Say Text" id="2" tooltip="Say the sentence asked. See box parameters for fine tuning of the voice." x="428" y="31">
                                                                                        <bitmap>media/images/box/interaction/say.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)
        self.tts = ALProxy('ALTextToSpeech')
        self.ttsStop = ALProxy('ALTextToSpeech', True) #Create another proxy as wait is blocking if audioout is remote
        
    def onLoad(self):
        #puts code for box cleanup here
        self.ids = []
        
    def onUnload(self):
        #puts code for box cleanup here    
        for id in self.ids:
            try:
                self.ttsStop.stop(id)
            except:
                pass
        
    def onInput_onStart(self, p):
        sentence = "\RSPD="+ str( self.getParameter("speed") )+ "\ "
        sentence += "\VCT="+ str( self.getParameter("Voice Shaping") ) + "\ " 
        sentence += str(p)
        sentence +=  "\RST\ "
        id = self.tts.post.say(sentence)
        self.ids.append(id)
        self.tts.wait(id, 0)
        self.ids.remove(id)
        self.onStopped() # activate output of the box

    def onInput_onStop(self):
        self.onUnload()]]>
</content>
                                                                                        </script>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="3" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this Input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this Input." id="3" />
                                                                                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when Box behavior is finished." id="4" />
                                                                                        <Parameter name="Voice Shaping" inherits_from_parent="0" content_type="1" value="100" default_value="100" min="50" max="150" tooltip='This tag is used to modify at runtime the voice feature (tone, speed) in way slightly different of what pitch and speed modification does, giving a kind of &quot;gender or age modification &quot; effect.&#x0A;&#x0A;To better tune the effect, one should compensate the speed modification due to the value parameter. For exemple to keep an average constant speed, one should add 20% to speed parameter when decreasing 20% to the Voice Shaping (VCT) parameter :&#x0A;&#x0A;A quite good male derivation of female voice for example could be obtained using the following parameters: VCT=78.' id="5" />
                                                                                        <Parameter name="speed" inherits_from_parent="0" content_type="1" value="85" default_value="100" min="50" max="200" tooltip="change the speed of the voice" id="6" />
                                                                                        <Resource name="TTS" type="Lock" timeout="0" />
                                                                                    </Box>
                                                                                    <Link inputowner="2" indexofinput="2" outputowner="1" indexofoutput="4" />
                                                                                    <Link inputowner="1" indexofinput="2" outputowner="0" indexofoutput="1" />
                                                                                </Diagram>
                                                                            </BehaviorKeyframe>
                                                                        </BehaviorLayer>
                                                                        <BehaviorLayer name="LED">
                                                                            <BehaviorKeyframe name="blink" index="15">
                                                                                <Diagram>
                                                                                    <Box name="blink" id="1" tooltip="blink" x="130" y="41">
                                                                                        <bitmap>media/images/box/box-diagram.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)

    def onLoad(self):
        #~ puts code for box initialization here
        pass

    def onUnload(self):
        #~ puts code for box cleanup here
        pass

    def onInput_onStart(self):
        rDuration = 0.05;
        ALLeds.post.fadeRGB( "FaceLed0", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed1", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed2", 0xffffff, rDuration );
        ALLeds.post.fadeRGB( "FaceLed3", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed4", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed5", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed6", 0xffffff, rDuration );
        ALLeds.fadeRGB( "FaceLed7", 0x000000, rDuration );

        time.sleep( 0.1 );
        
        rDuration = 0.05;
        ALLeds.fadeRGB( "FaceLeds", 0xffffff, rDuration );
        
        return;
        

    def onInput_onStop(self):
        self.onUnload() #~ it is usually a good idea to call onUnload of this box in a onStop method, as the code written in onUnload is used to finish the working of the box as well
        pass]]>
</content>
                                                                                        </script>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                                                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                                                                    </Box>
                                                                                    <Link inputowner="1" indexofinput="2" outputowner="0" indexofoutput="1" />
                                                                                </Diagram>
                                                                            </BehaviorKeyframe>
                                                                            <BehaviorKeyframe name="blink_copy" index="54">
                                                                                <Diagram>
                                                                                    <Box name="blink" id="1" tooltip="blink" x="130" y="41">
                                                                                        <bitmap>media/images/box/box-diagram.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)

    def onLoad(self):
        #~ puts code for box initialization here
        pass

    def onUnload(self):
        #~ puts code for box cleanup here
        pass

    def onInput_onStart(self):
        rDuration = 0.05;
        ALLeds.post.fadeRGB( "FaceLed0", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed1", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed2", 0xffffff, rDuration );
        ALLeds.post.fadeRGB( "FaceLed3", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed4", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed5", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed6", 0xffffff, rDuration );
        ALLeds.fadeRGB( "FaceLed7", 0x000000, rDuration );

        time.sleep( 0.1 );
        
        rDuration = 0.05;
        ALLeds.fadeRGB( "FaceLeds", 0xffffff, rDuration );
        
        return;
        

    def onInput_onStop(self):
        self.onUnload() #~ it is usually a good idea to call onUnload of this box in a onStop method, as the code written in onUnload is used to finish the working of the box as well
        pass]]>
</content>
                                                                                        </script>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                                                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                                                                    </Box>
                                                                                    <Link inputowner="1" indexofinput="2" outputowner="0" indexofoutput="1" />
                                                                                </Diagram>
                                                                            </BehaviorKeyframe>
                                                                        </BehaviorLayer>
                                                                        <ActuatorList model="Nao">
                                                                            <ActuatorCurve name="value" actuator="HeadYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="29" value="-6.59428" />
                                                                                <Key frame="45" value="-6.06693" />
                                                                                <Key frame="59" value="-6.15482" />
                                                                                <Key frame="96" value="-2.55126" />
                                                                                <Key frame="116" value="-5.97904" />
                                                                                <Key frame="135" value="-5.89115" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="HeadPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="29" value="-21.0964" />
                                                                                <Key frame="45" value="-15.9108" />
                                                                                <Key frame="59" value="6.06212" />
                                                                                <Key frame="96" value="9.75358" />
                                                                                <Key frame="116" value="-18.8112" />
                                                                                <Key frame="135" value="-15.735" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LShoulderPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="26" value="78.5728" />
                                                                                <Key frame="40" value="79.5396" />
                                                                                <Key frame="66" value="47.547" />
                                                                                <Key frame="82" value="47.547" />
                                                                                <Key frame="98" value="42.8888" />
                                                                                <Key frame="112" value="60.1155" />
                                                                                <Key frame="132" value="73.0356" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LShoulderRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="26" value="1.22808" />
                                                                                <Key frame="40" value="4.83164" />
                                                                                <Key frame="66" value="6.3258" />
                                                                                <Key frame="82" value="6.3258" />
                                                                                <Key frame="98" value="14.8513" />
                                                                                <Key frame="112" value="12.3903" />
                                                                                <Key frame="132" value="6.06212" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LElbowYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="26" value="-45.0909" />
                                                                                <Key frame="40" value="-104.857" />
                                                                                <Key frame="66" value="-35.5986" />
                                                                                <Key frame="82" value="-35.5986" />
                                                                                <Key frame="88" value="-49" />
                                                                                <Key frame="98" value="-27.3367" />
                                                                                <Key frame="112" value="-74.0072" />
                                                                                <Key frame="132" value="-34.456" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LElbowRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="26" value="-47.3712" />
                                                                                <Key frame="40" value="-56.4241" />
                                                                                <Key frame="53" value="-84" />
                                                                                <Key frame="66" value="-59.8519" />
                                                                                <Key frame="74" value="-84" />
                                                                                <Key frame="82" value="-59.8519" />
                                                                                <Key frame="88" value="-69" />
                                                                                <Key frame="99" value="-56.6878" />
                                                                                <Key frame="112" value="-54.842" />
                                                                                <Key frame="132" value="-40.6036" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LWristYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="40" value="11" />
                                                                                <Key frame="53" value="57" />
                                                                                <Key frame="66" value="38" />
                                                                                <Key frame="74" value="57" />
                                                                                <Key frame="82" value="38" />
                                                                                <Key frame="98" value="14" />
                                                                                <Key frame="112" value="-57" />
                                                                                <Key frame="132" value="-29" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LHand" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="40" value="0.224389" />
                                                                                <Key frame="66" value="0.390909" />
                                                                                <Key frame="82" value="0.390909" />
                                                                                <Key frame="112" value="0.39348" />
                                                                                <Key frame="132" value="0.181818" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RShoulderPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="23" value="79.105" />
                                                                                <Key frame="40" value="64.0755" />
                                                                                <Key frame="53" value="46.3213" />
                                                                                <Key frame="74" value="46.3213" />
                                                                                <Key frame="88" value="45.8819" />
                                                                                <Key frame="99" value="44.8272" />
                                                                                <Key frame="110" value="55.9015" />
                                                                                <Key frame="128" value="88.8609" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RShoulderRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="23" value="-1.40867" />
                                                                                <Key frame="40" value="-5.10012" />
                                                                                <Key frame="53" value="-19.0749" />
                                                                                <Key frame="74" value="-19.0749" />
                                                                                <Key frame="88" value="-21.7117" />
                                                                                <Key frame="98" value="-20.5691" />
                                                                                <Key frame="110" value="-13.2741" />
                                                                                <Key frame="128" value="-2.81494" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RElbowYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="23" value="46.0529" />
                                                                                <Key frame="40" value="103.182" />
                                                                                <Key frame="53" value="28.2987" />
                                                                                <Key frame="66" value="61" />
                                                                                <Key frame="74" value="28.2987" />
                                                                                <Key frame="82" value="61" />
                                                                                <Key frame="88" value="40.1641" />
                                                                                <Key frame="99" value="67.5863" />
                                                                                <Key frame="110" value="102.479" />
                                                                                <Key frame="128" value="73.2993" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RElbowRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="23" value="69.1732" />
                                                                                <Key frame="40" value="57.923" />
                                                                                <Key frame="47" value="85" />
                                                                                <Key frame="53" value="66.1849" />
                                                                                <Key frame="66" value="70" />
                                                                                <Key frame="74" value="66.1849" />
                                                                                <Key frame="82" value="70" />
                                                                                <Key frame="88" value="52.3859" />
                                                                                <Key frame="98" value="74.183" />
                                                                                <Key frame="110" value="60.0325" />
                                                                                <Key frame="128" value="38.8505" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RWristYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="40" value="54.2268" />
                                                                                <Key frame="53" value="-32" />
                                                                                <Key frame="74" value="-32" />
                                                                                <Key frame="98" value="-24" />
                                                                                <Key frame="110" value="37" />
                                                                                <Key frame="128" value="6" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RHand" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="40" value="0.156753" />
                                                                                <Key frame="53" value="0.509091" />
                                                                                <Key frame="74" value="0.509091" />
                                                                                <Key frame="110" value="0.6" />
                                                                                <Key frame="128" value="0.209091" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LHipYawPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="40" value="-17.2244" />
                                                                                <Key frame="111" value="-17.5759" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LHipRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="40" value="12.5709" />
                                                                                <Key frame="111" value="7.29742" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LHipPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="40" value="18.1081" />
                                                                                <Key frame="111" value="18.6355" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LKneePitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="40" value="-2.55126" />
                                                                                <Key frame="111" value="-2.46337" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LAnklePitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="40" value="2.63435" />
                                                                                <Key frame="111" value="1.14019" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LAnkleRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="40" value="-9.66569" />
                                                                                <Key frame="111" value="-6.50158" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RHipRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="40" value="-6.06212" />
                                                                                <Key frame="111" value="-11.3356" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RHipPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="40" value="21.2674" />
                                                                                <Key frame="111" value="19.8611" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RKneePitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="40" value="-4.39218" />
                                                                                <Key frame="111" value="-4.48007" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RAnklePitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="40" value="1.67235" />
                                                                                <Key frame="111" value="1.40867" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RAnkleRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="40" value="4.92434" />
                                                                                <Key frame="111" value="8.61579" />
                                                                            </ActuatorCurve>
                                                                        </ActuatorList>
                                                                    </Timeline>
                                                                    <Resource name="Standing" type="Lock" timeout="2" />
                                                                    <Resource name="HeadYaw" type="Lock" timeout="2" />
                                                                    <Resource name="HeadPitch" type="Lock" timeout="2" />
                                                                    <Resource name="LShoulderPitch" type="Lock" timeout="2" />
                                                                    <Resource name="LShoulderRoll" type="Lock" timeout="2" />
                                                                    <Resource name="LElbowRoll" type="Lock" timeout="2" />
                                                                    <Resource name="LElbowYaw" type="Lock" timeout="2" />
                                                                    <Resource name="LWristYaw" type="Lock" timeout="2" />
                                                                    <Resource name="LHand" type="Lock" timeout="2" />
                                                                    <Resource name="RShoulderPitch" type="Lock" timeout="2" />
                                                                    <Resource name="RShoulderRoll" type="Lock" timeout="2" />
                                                                    <Resource name="RElbowRoll" type="Lock" timeout="2" />
                                                                    <Resource name="RElbowYaw" type="Lock" timeout="2" />
                                                                    <Resource name="RWristYaw" type="Lock" timeout="2" />
                                                                    <Resource name="RHand" type="Lock" timeout="2" />
                                                                    <Resource name="LHipYawPitch" type="Lock" timeout="2" />
                                                                    <Resource name="LHipPitch" type="Lock" timeout="2" />
                                                                    <Resource name="LHipRoll" type="Lock" timeout="2" />
                                                                    <Resource name="LKneePitch" type="Lock" timeout="2" />
                                                                    <Resource name="LAnklePitch" type="Lock" timeout="2" />
                                                                    <Resource name="LAnkleRoll" type="Lock" timeout="2" />
                                                                    <Resource name="RHipPitch" type="Lock" timeout="2" />
                                                                    <Resource name="RHipRoll" type="Lock" timeout="2" />
                                                                    <Resource name="RKneePitch" type="Lock" timeout="2" />
                                                                    <Resource name="RAnklePitch" type="Lock" timeout="2" />
                                                                    <Resource name="RAnkleRoll" type="Lock" timeout="2" />
                                                                    <Resource name="Speakers" type="Lock" timeout="2" />
                                                                </Box>
                                                                <Box name="Sentence16" id="20" tooltip="This box is empty (contains a single motion layer with no motors defined in it) and should be used to create any movement you&apos;d like." x="2011" y="1057">
                                                                    <bitmap>media/images/box/movement/move.png</bitmap>
                                                                    <script language="4">
                                                                        <content>
                                                                            <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)

    def onLoad(self):
        #~ puts code for box initialization here
        pass

    def onUnload(self):
        #~ puts code for box cleanup here
        pass

    def onInput_onStart(self):
        #~ self.onStopped() #~ activate output of the box
        pass

    def onInput_onStop(self):
        self.onStopped()]]>
</content>
                                                                    </script>
                                                                    <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                                                                    <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this Input." id="2" />
                                                                    <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this Input." id="3" />
                                                                    <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when Box behavior is finished." id="4" />
                                                                    <Parameter name="Number of Naos" inherits_from_parent="1" content_type="1" value="2000" default_value="0" min="0" max="1000000" tooltip="" id="5" />
                                                                    <Timeline enable="1" fps="25" start_frame="0" end_frame="215" size="300">
                                                                        <BehaviorLayer name="speech">
                                                                            <BehaviorKeyframe name="speech" index="10">
                                                                                <Diagram>
                                                                                    <Box name="LocalizedText" id="3" tooltip="Enter tooltip here" plugin="localizationbox_plugin" x="117" y="30">
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
	def __init__(self):
		try: # disable autoBind
			GeneratedClass.__init__(self, False)
		except TypeError: # if NAOqi < 1.14
			GeneratedClass.__init__( self )

		self.tts = ALProxy("ALTextToSpeech")
		self.sentences = {
			"Chinese" : " 我有两千多个兄弟分布在全球各地的高校和实验室中。 ",
			"English" : " Robots earn points in the End Game by raising their Alliance flag, ",
			"French" : " Il y a plus de {nbRobots} Nao en utilisation, tout autour du monde, dans les universités et laboratoires. ",
			"German" : "  ",
			"Italian" : "  ",
			"Japanese" : "  ",
			"Korean" : "  ",
			"Portuguese" : "  ",
			"Brazilian" : "  ",
			"Spanish" : " Hay más de {nbRobots} robots ? Nao en utilización en todo el mundo, en universidades y laboratorios de investigación. ",
			"Arabic" : "  ",
			"Polish" : "  ",
			"Czech" : "  ",
			"Dutch" : "  ",
			"Danish" : "  ",
			"Finnish" : " Minulla on yli {nbRobots} sisarusta ympäri maailmaa yliopistoissa ja tutkimuslaitoksissa. ",
			"Swedish" : "  ",
			"Russian" : "  ",
			"Turkish" : "  "
		}

	def onInput_onStart(self):
		sDefaultLang = self.tts.getLanguage()
		self.onStopped(self.sentences[sDefaultLang])]]>
</content>
                                                                                        </script>
                                                                                        <pluginContent>
                                                                                            <chinese>我有两千多个兄弟分布在全球各地的高校和实验室中。</chinese>
                                                                                            <english>Robots earn points in the End Game by raising their Alliance flag,</english>
                                                                                            <french>Il y a plus de {nbRobots} Nao en utilisation, tout autour du monde, dans les universités et laboratoires.</french>
                                                                                            <german></german>
                                                                                            <italian></italian>
                                                                                            <japanese></japanese>
                                                                                            <korean></korean>
                                                                                            <portuguese></portuguese>
                                                                                            <brazilian></brazilian>
                                                                                            <spanish>Hay más de {nbRobots} robots ? Nao en utilización en todo el mundo, en universidades y laboratorios de investigación.</spanish>
                                                                                            <arabic></arabic>
                                                                                            <polish></polish>
                                                                                            <czech></czech>
                                                                                            <dutch></dutch>
                                                                                            <danish></danish>
                                                                                            <finnish>Minulla on yli {nbRobots} sisarusta ympäri maailmaa yliopistoissa ja tutkimuslaitoksissa.</finnish>
                                                                                            <swedish></swedish>
                                                                                            <russian></russian>
                                                                                            <turkish></turkish>
                                                                                            <language>1</language>
                                                                                        </pluginContent>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                                                        <Output name="onStopped" type="3" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                                                                    </Box>
                                                                                    <Box name="Say Text" id="4" tooltip="Say the sentence asked. See box parameters for fine tuning of the voice." x="589" y="29">
                                                                                        <bitmap>media/images/box/interaction/say.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)
        self.tts = ALProxy('ALTextToSpeech')
        self.ttsStop = ALProxy('ALTextToSpeech', True) #Create another proxy as wait is blocking if audioout is remote
        
    def onLoad(self):
        #puts code for box cleanup here
        self.ids = []
        
    def onUnload(self):
        #puts code for box cleanup here    
        for id in self.ids:
            try:
                self.ttsStop.stop(id)
            except:
                pass
        
    def onInput_onStart(self, p):
        sentence = "\RSPD="+ str( self.getParameter("speed") )+ "\ "
        sentence += "\VCT="+ str( self.getParameter("Voice Shaping") ) + "\ " 
        sentence += str(p)
        sentence +=  "\RST\ "
        id = self.tts.post.say(sentence)
        self.ids.append(id)
        self.tts.wait(id, 0)
        self.ids.remove(id)
        self.onStopped() # activate output of the box

    def onInput_onStop(self):
        self.onUnload()]]>
</content>
                                                                                        </script>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="3" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this Input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this Input." id="3" />
                                                                                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when Box behavior is finished." id="4" />
                                                                                        <Parameter name="Voice Shaping" inherits_from_parent="0" content_type="1" value="100" default_value="100" min="50" max="150" tooltip='This tag is used to modify at runtime the voice feature (tone, speed) in way slightly different of what pitch and speed modification does, giving a kind of &quot;gender or age modification &quot; effect.&#x0A;&#x0A;To better tune the effect, one should compensate the speed modification due to the value parameter. For exemple to keep an average constant speed, one should add 20% to speed parameter when decreasing 20% to the Voice Shaping (VCT) parameter :&#x0A;&#x0A;A quite good male derivation of female voice for example could be obtained using the following parameters: VCT=78.' id="5" />
                                                                                        <Parameter name="speed" inherits_from_parent="0" content_type="1" value="85" default_value="100" min="50" max="200" tooltip="change the speed of the voice" id="6" />
                                                                                        <Resource name="TTS" type="Lock" timeout="0" />
                                                                                    </Box>
                                                                                    <Box name="Gen. sentence" id="1" tooltip="" x="420" y="33">
                                                                                        <bitmap>media/images/box/box-diagram.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)

    def onLoad(self):
        #~ puts code for box initialization here
        pass

    def onUnload(self):
        #~ puts code for box cleanup here
        pass

    def onInput_onStart(self, p):
        self.onStopped(p.format(nbRobots = self.getParameter("Number of Naos")))
        pass]]>
</content>
                                                                                        </script>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="3" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                                        <Output name="onStopped" type="3" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="3" />
                                                                                    </Box>
                                                                                    <Link inputowner="3" indexofinput="2" outputowner="0" indexofoutput="1" />
                                                                                    <Link inputowner="1" indexofinput="2" outputowner="3" indexofoutput="4" />
                                                                                    <Link inputowner="4" indexofinput="2" outputowner="1" indexofoutput="3" />
                                                                                </Diagram>
                                                                            </BehaviorKeyframe>
                                                                        </BehaviorLayer>
                                                                        <BehaviorLayer name="LED">
                                                                            <BehaviorKeyframe name="blink" index="7">
                                                                                <Diagram>
                                                                                    <Box name="blink" id="1" tooltip="blink" x="130" y="41">
                                                                                        <bitmap>media/images/box/box-diagram.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)

    def onLoad(self):
        #~ puts code for box initialization here
        pass

    def onUnload(self):
        #~ puts code for box cleanup here
        pass

    def onInput_onStart(self):
        rDuration = 0.05;
        ALLeds.post.fadeRGB( "FaceLed0", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed1", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed2", 0xffffff, rDuration );
        ALLeds.post.fadeRGB( "FaceLed3", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed4", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed5", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed6", 0xffffff, rDuration );
        ALLeds.fadeRGB( "FaceLed7", 0x000000, rDuration );

        time.sleep( 0.1 );
        
        rDuration = 0.05;
        ALLeds.fadeRGB( "FaceLeds", 0xffffff, rDuration );
        
        return;
        

    def onInput_onStop(self):
        self.onUnload() #~ it is usually a good idea to call onUnload of this box in a onStop method, as the code written in onUnload is used to finish the working of the box as well
        pass]]>
</content>
                                                                                        </script>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                                                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                                                                    </Box>
                                                                                    <Link inputowner="1" indexofinput="2" outputowner="0" indexofoutput="1" />
                                                                                </Diagram>
                                                                            </BehaviorKeyframe>
                                                                            <BehaviorKeyframe name="blink_copy" index="83">
                                                                                <Diagram>
                                                                                    <Box name="blink" id="1" tooltip="blink" x="130" y="41">
                                                                                        <bitmap>media/images/box/box-diagram.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)

    def onLoad(self):
        #~ puts code for box initialization here
        pass

    def onUnload(self):
        #~ puts code for box cleanup here
        pass

    def onInput_onStart(self):
        rDuration = 0.05;
        ALLeds.post.fadeRGB( "FaceLed0", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed1", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed2", 0xffffff, rDuration );
        ALLeds.post.fadeRGB( "FaceLed3", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed4", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed5", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed6", 0xffffff, rDuration );
        ALLeds.fadeRGB( "FaceLed7", 0x000000, rDuration );

        time.sleep( 0.1 );
        
        rDuration = 0.05;
        ALLeds.fadeRGB( "FaceLeds", 0xffffff, rDuration );
        
        return;
        

    def onInput_onStop(self):
        self.onUnload() #~ it is usually a good idea to call onUnload of this box in a onStop method, as the code written in onUnload is used to finish the working of the box as well
        pass]]>
</content>
                                                                                        </script>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                                                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                                                                    </Box>
                                                                                    <Link inputowner="1" indexofinput="2" outputowner="0" indexofoutput="1" />
                                                                                </Diagram>
                                                                            </BehaviorKeyframe>
                                                                            <BehaviorKeyframe name="blink_copy_copy" index="124">
                                                                                <Diagram>
                                                                                    <Box name="blink" id="1" tooltip="blink" x="130" y="41">
                                                                                        <bitmap>media/images/box/box-diagram.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)

    def onLoad(self):
        #~ puts code for box initialization here
        pass

    def onUnload(self):
        #~ puts code for box cleanup here
        pass

    def onInput_onStart(self):
        rDuration = 0.05;
        ALLeds.post.fadeRGB( "FaceLed0", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed1", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed2", 0xffffff, rDuration );
        ALLeds.post.fadeRGB( "FaceLed3", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed4", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed5", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed6", 0xffffff, rDuration );
        ALLeds.fadeRGB( "FaceLed7", 0x000000, rDuration );

        time.sleep( 0.1 );
        
        rDuration = 0.05;
        ALLeds.fadeRGB( "FaceLeds", 0xffffff, rDuration );
        
        return;
        

    def onInput_onStop(self):
        self.onUnload() #~ it is usually a good idea to call onUnload of this box in a onStop method, as the code written in onUnload is used to finish the working of the box as well
        pass]]>
</content>
                                                                                        </script>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                                                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                                                                    </Box>
                                                                                    <Link inputowner="1" indexofinput="2" outputowner="0" indexofoutput="1" />
                                                                                </Diagram>
                                                                            </BehaviorKeyframe>
                                                                            <BehaviorKeyframe name="blink_copy_copy_copy" index="194">
                                                                                <Diagram>
                                                                                    <Box name="blink" id="1" tooltip="blink" x="130" y="41">
                                                                                        <bitmap>media/images/box/box-diagram.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)

    def onLoad(self):
        #~ puts code for box initialization here
        pass

    def onUnload(self):
        #~ puts code for box cleanup here
        pass

    def onInput_onStart(self):
        rDuration = 0.05;
        ALLeds.post.fadeRGB( "FaceLed0", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed1", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed2", 0xffffff, rDuration );
        ALLeds.post.fadeRGB( "FaceLed3", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed4", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed5", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed6", 0xffffff, rDuration );
        ALLeds.fadeRGB( "FaceLed7", 0x000000, rDuration );

        time.sleep( 0.1 );
        
        rDuration = 0.05;
        ALLeds.fadeRGB( "FaceLeds", 0xffffff, rDuration );
        
        return;
        

    def onInput_onStop(self):
        self.onUnload() #~ it is usually a good idea to call onUnload of this box in a onStop method, as the code written in onUnload is used to finish the working of the box as well
        pass]]>
</content>
                                                                                        </script>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                                                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                                                                    </Box>
                                                                                    <Link inputowner="1" indexofinput="2" outputowner="0" indexofoutput="1" />
                                                                                </Diagram>
                                                                            </BehaviorKeyframe>
                                                                        </BehaviorLayer>
                                                                        <ActuatorList model="Nao">
                                                                            <ActuatorCurve name="value" actuator="HeadYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="23" value="-1.84813" />
                                                                                <Key frame="38" value="-2.81494" />
                                                                                <Key frame="52" value="-4.13332" />
                                                                                <Key frame="66" value="-7.91266" />
                                                                                <Key frame="82" value="13.445" />
                                                                                <Key frame="115" value="-25.0515" />
                                                                                <Key frame="134" value="-10.11" />
                                                                                <Key frame="152" value="-2.37548" />
                                                                                <Key frame="169" value="-3.07861" />
                                                                                <Key frame="184" value="-2.90283" />
                                                                                <Key frame="208" value="-2.28759" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="HeadPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="23" value="-22.3269" />
                                                                                <Key frame="38" value="-18.987" />
                                                                                <Key frame="52" value="-13.6256" />
                                                                                <Key frame="66" value="-22.4148" />
                                                                                <Key frame="82" value="5.97423" />
                                                                                <Key frame="115" value="-22.3269" />
                                                                                <Key frame="134" value="12.7419" />
                                                                                <Key frame="152" value="-21.9753" />
                                                                                <Key frame="169" value="-20.2175" />
                                                                                <Key frame="184" value="-18.0202" />
                                                                                <Key frame="208" value="-7.56109" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LShoulderPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="20" value="82.6158" />
                                                                                <Key frame="35" value="96.1511" />
                                                                                <Key frame="49" value="86.6588" />
                                                                                <Key frame="63" value="90.614" />
                                                                                <Key frame="79" value="77.606" />
                                                                                <Key frame="112" value="67.2348" />
                                                                                <Key frame="131" value="72.0688" />
                                                                                <Key frame="149" value="60.6429" />
                                                                                <Key frame="166" value="49.4806" />
                                                                                <Key frame="181" value="89.2077" />
                                                                                <Key frame="205" value="82.6158" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LShoulderRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="20" value="1.40386" />
                                                                                <Key frame="35" value="1.14019" />
                                                                                <Key frame="49" value="1.0523" />
                                                                                <Key frame="63" value="8.78677" />
                                                                                <Key frame="79" value="1.31597" />
                                                                                <Key frame="112" value="27.244" />
                                                                                <Key frame="131" value="2.107" />
                                                                                <Key frame="149" value="2.28278" />
                                                                                <Key frame="166" value="12.5661" />
                                                                                <Key frame="181" value="14.5876" />
                                                                                <Key frame="205" value="5.62267" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LElbowYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="20" value="-51.507" />
                                                                                <Key frame="35" value="-103.539" />
                                                                                <Key frame="49" value="-65.4817" />
                                                                                <Key frame="63" value="-104.506" />
                                                                                <Key frame="79" value="-42.4541" />
                                                                                <Key frame="99" value="-62" />
                                                                                <Key frame="112" value="-101.869" />
                                                                                <Key frame="131" value="-43.1572" />
                                                                                <Key frame="149" value="-59.9446" />
                                                                                <Key frame="166" value="-100.99" />
                                                                                <Key frame="181" value="-101.078" />
                                                                                <Key frame="205" value="-55.4621" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LElbowRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="20" value="-52.8205" />
                                                                                <Key frame="35" value="-45.965" />
                                                                                <Key frame="49" value="-40.4278" />
                                                                                <Key frame="63" value="-43.6798" />
                                                                                <Key frame="79" value="-57.0393" />
                                                                                <Key frame="99" value="-72" />
                                                                                <Key frame="112" value="-37.2637" />
                                                                                <Key frame="131" value="-55.6331" />
                                                                                <Key frame="149" value="-75.7603" />
                                                                                <Key frame="166" value="-64.9496" />
                                                                                <Key frame="181" value="-23.201" />
                                                                                <Key frame="205" value="-33.5722" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LWristYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="35" value="29" />
                                                                                <Key frame="49" value="-5" />
                                                                                <Key frame="79" value="-5.18802" />
                                                                                <Key frame="112" value="-35" />
                                                                                <Key frame="149" value="-67" />
                                                                                <Key frame="181" value="-66.3607" />
                                                                                <Key frame="205" value="-10" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LHand" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="35" value="0.0727535" />
                                                                                <Key frame="79" value="0.0752989" />
                                                                                <Key frame="112" value="0.729091" />
                                                                                <Key frame="149" value="0.181818" />
                                                                                <Key frame="181" value="0.175662" />
                                                                                <Key frame="205" value="0.103636" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RShoulderPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="16" value="6.68218" />
                                                                                <Key frame="31" value="33.6649" />
                                                                                <Key frame="45" value="51.1554" />
                                                                                <Key frame="59" value="63.2844" />
                                                                                <Key frame="75" value="18.4597" />
                                                                                <Key frame="108" value="3.78175" />
                                                                                <Key frame="127" value="9.67049" />
                                                                                <Key frame="145" value="28.8309" />
                                                                                <Key frame="162" value="34.7196" />
                                                                                <Key frame="177" value="88.6852" />
                                                                                <Key frame="201" value="80.5991" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RShoulderRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="16" value="-3.78175" />
                                                                                <Key frame="31" value="-4.3091" />
                                                                                <Key frame="45" value="-0.498473" />
                                                                                <Key frame="59" value="-1.49656" />
                                                                                <Key frame="75" value="-0.79343" />
                                                                                <Key frame="108" value="-87.982" />
                                                                                <Key frame="127" value="-27.3367" />
                                                                                <Key frame="145" value="-6.50639" />
                                                                                <Key frame="162" value="-1.67235" />
                                                                                <Key frame="177" value="-16.8776" />
                                                                                <Key frame="201" value="-1.0571" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RElbowYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="16" value="8.4352" />
                                                                                <Key frame="31" value="84.4615" />
                                                                                <Key frame="45" value="44.3829" />
                                                                                <Key frame="59" value="38.9336" />
                                                                                <Key frame="75" value="45.3497" />
                                                                                <Key frame="95" value="30" />
                                                                                <Key frame="108" value="57.7425" />
                                                                                <Key frame="127" value="66.9711" />
                                                                                <Key frame="145" value="36.7363" />
                                                                                <Key frame="162" value="91.2292" />
                                                                                <Key frame="177" value="98.2605" />
                                                                                <Key frame="201" value="43.3282" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RElbowRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="16" value="82.6206" />
                                                                                <Key frame="31" value="60.6477" />
                                                                                <Key frame="45" value="66.7122" />
                                                                                <Key frame="59" value="60.1203" />
                                                                                <Key frame="75" value="88.8609" />
                                                                                <Key frame="95" value="63" />
                                                                                <Key frame="108" value="24.1726" />
                                                                                <Key frame="127" value="64.2513" />
                                                                                <Key frame="145" value="82.4448" />
                                                                                <Key frame="162" value="67.5033" />
                                                                                <Key frame="177" value="38.0595" />
                                                                                <Key frame="201" value="38.1474" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RWristYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="31" value="28" />
                                                                                <Key frame="45" value="74" />
                                                                                <Key frame="75" value="73.563" />
                                                                                <Key frame="108" value="43" />
                                                                                <Key frame="145" value="97" />
                                                                                <Key frame="177" value="95.7996" />
                                                                                <Key frame="201" value="0" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RHand" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="31" value="0.181844" />
                                                                                <Key frame="75" value="0.181844" />
                                                                                <Key frame="108" value="0.703636" />
                                                                                <Key frame="145" value="0.378182" />
                                                                                <Key frame="177" value="0.36548" />
                                                                                <Key frame="201" value="0.221818" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LHipYawPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="33" value="-17.7517" />
                                                                                <Key frame="77" value="-20.4764" />
                                                                                <Key frame="110" value="-18.9822" />
                                                                                <Key frame="147" value="-18.6306" />
                                                                                <Key frame="179" value="-18.367" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LHipRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="33" value="1.93602" />
                                                                                <Key frame="77" value="-0.876513" />
                                                                                <Key frame="110" value="11.692" />
                                                                                <Key frame="147" value="8.35212" />
                                                                                <Key frame="179" value="12.8346" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LHipPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="33" value="15.5592" />
                                                                                <Key frame="77" value="4.48488" />
                                                                                <Key frame="110" value="18.196" />
                                                                                <Key frame="147" value="18.6355" />
                                                                                <Key frame="179" value="18.0202" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LKneePitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="33" value="-0.090296" />
                                                                                <Key frame="77" value="-0.178188" />
                                                                                <Key frame="110" value="1.84332" />
                                                                                <Key frame="147" value="3.1617" />
                                                                                <Key frame="179" value="4.74375" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LAnklePitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="33" value="-0.441863" />
                                                                                <Key frame="77" value="6.67737" />
                                                                                <Key frame="110" value="-2.72705" />
                                                                                <Key frame="147" value="-3.95753" />
                                                                                <Key frame="179" value="-4.04542" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LAnkleRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="33" value="-1.57965" />
                                                                                <Key frame="77" value="-0.788621" />
                                                                                <Key frame="110" value="-8.61098" />
                                                                                <Key frame="147" value="-6.06212" />
                                                                                <Key frame="179" value="-9.05044" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RHipRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="33" value="-7.29261" />
                                                                                <Key frame="77" value="-4.48007" />
                                                                                <Key frame="110" value="-1.66754" />
                                                                                <Key frame="147" value="-6.06212" />
                                                                                <Key frame="179" value="-1.93121" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RHipPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="33" value="13.7966" />
                                                                                <Key frame="77" value="1.75543" />
                                                                                <Key frame="110" value="18.4549" />
                                                                                <Key frame="147" value="18.1912" />
                                                                                <Key frame="179" value="20.4764" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RKneePitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="33" value="-4.48007" />
                                                                                <Key frame="77" value="-4.56797" />
                                                                                <Key frame="110" value="-4.30429" />
                                                                                <Key frame="147" value="-4.56797" />
                                                                                <Key frame="179" value="-4.56797" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RAnklePitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="33" value="5.71537" />
                                                                                <Key frame="77" value="12.8346" />
                                                                                <Key frame="110" value="3.69386" />
                                                                                <Key frame="147" value="3.78175" />
                                                                                <Key frame="179" value="3.2544" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RAnkleRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="33" value="5.18802" />
                                                                                <Key frame="77" value="2.99072" />
                                                                                <Key frame="110" value="1.0571" />
                                                                                <Key frame="147" value="4.39699" />
                                                                                <Key frame="179" value="1.32078" />
                                                                            </ActuatorCurve>
                                                                        </ActuatorList>
                                                                    </Timeline>
                                                                    <Resource name="Standing" type="Lock" timeout="2" />
                                                                    <Resource name="HeadYaw" type="Lock" timeout="2" />
                                                                    <Resource name="HeadPitch" type="Lock" timeout="2" />
                                                                    <Resource name="LShoulderPitch" type="Lock" timeout="2" />
                                                                    <Resource name="LShoulderRoll" type="Lock" timeout="2" />
                                                                    <Resource name="LElbowRoll" type="Lock" timeout="2" />
                                                                    <Resource name="LElbowYaw" type="Lock" timeout="2" />
                                                                    <Resource name="LWristYaw" type="Lock" timeout="2" />
                                                                    <Resource name="LHand" type="Lock" timeout="2" />
                                                                    <Resource name="RShoulderPitch" type="Lock" timeout="2" />
                                                                    <Resource name="RShoulderRoll" type="Lock" timeout="2" />
                                                                    <Resource name="RElbowRoll" type="Lock" timeout="2" />
                                                                    <Resource name="RElbowYaw" type="Lock" timeout="2" />
                                                                    <Resource name="RWristYaw" type="Lock" timeout="2" />
                                                                    <Resource name="RHand" type="Lock" timeout="2" />
                                                                    <Resource name="LHipYawPitch" type="Lock" timeout="2" />
                                                                    <Resource name="LHipPitch" type="Lock" timeout="2" />
                                                                    <Resource name="LHipRoll" type="Lock" timeout="2" />
                                                                    <Resource name="LKneePitch" type="Lock" timeout="2" />
                                                                    <Resource name="LAnklePitch" type="Lock" timeout="2" />
                                                                    <Resource name="LAnkleRoll" type="Lock" timeout="2" />
                                                                    <Resource name="RHipPitch" type="Lock" timeout="2" />
                                                                    <Resource name="RHipRoll" type="Lock" timeout="2" />
                                                                    <Resource name="RKneePitch" type="Lock" timeout="2" />
                                                                    <Resource name="RAnklePitch" type="Lock" timeout="2" />
                                                                    <Resource name="RAnkleRoll" type="Lock" timeout="2" />
                                                                    <Resource name="Speakers" type="Lock" timeout="2" />
                                                                </Box>
                                                                <Box name="Sentence18" id="21" tooltip="This box is empty (contains a single motion layer with no motor position&#x0A;defined in it) and should be used to create any animation you would like." x="2278" y="1176">
                                                                    <bitmap>media/images/box/movement/move.png</bitmap>
                                                                    <script language="4">
                                                                        <content>
                                                                            <![CDATA[class MyClass(GeneratedClass):
	def __init__(self):
		GeneratedClass.__init__(self)

	def onUnload(self):
		#puts code for box cleanup here
		""

	def onInput_onStart(self):
		#self.onStopped() # activate output of the box
		""

	def onInput_onStop(self):
		""]]>
</content>
                                                                    </script>
                                                                    <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                                                                    <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Animation starts when a signal is received on this input." id="2" />
                                                                    <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Animation stops when a signal is received on this input." id="3" />
                                                                    <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when animation is finished." id="4" />
                                                                    <Timeline enable="1" fps="25" start_frame="0" end_frame="-1" size="300">
                                                                        <BehaviorLayer name="Speech">
                                                                            <BehaviorKeyframe name="Counting every articulation in my body, I have 25 degrees of freedom." index="10">
                                                                                <Diagram>
                                                                                    <Box name="Say" id="1" tooltip="Say some text. Note that you must open the box to enter the text." x="98" y="32">
                                                                                        <bitmap>media/images/box/interaction/say.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)

    def onLoad(self):
        self.bIsRunning = False

    def onUnload(self):
        self.bIsRunning = False

    def onInput_onStart(self):
        self.bIsRunning = True

    def onInput_onStop(self):
        if( self.bIsRunning ):
            self.onUnload()
            self.onStopped()]]>
</content>
                                                                                        </script>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this Input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this Input." id="3" />
                                                                                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished or stopped." id="4" />
                                                                                        <Parameter name="Voice shaping (%)" inherits_from_parent="0" content_type="1" value="100" default_value="100" min="50" max="150" tooltip='Used to modify at runtime the voice feature (tone, speed). In a slighty&#x0A;different way than pitch and speed, it gives a kind of &quot;gender or age&#x0A;modification&quot; effect.&#x0A;&#x0A;For instance, a quite good male derivation of female voice can be&#x0A;obtained setting this parameter to 78%.&#x0A;&#x0A;Note: For a better effect, you can compensate this parameter with the&#x0A;speed parameter. For example, if you want to decrease by 20% the voice&#x0A;shaping, you will have to increase by 20% the speed to keep a constant&#x0A;average speed.' id="5" />
                                                                                        <Parameter name="Speed (%)" inherits_from_parent="0" content_type="1" value="90" default_value="100" min="50" max="200" tooltip="Changes the speed of the voice.&#x0A;&#x0A;Note: For a better effect, you can compensate this parameter with the voice&#x0A;shaping parameter. For example, if you want to increase by 20% the speed, you&#x0A;will have to decrease by 20% the voice shaping to keep a constant average&#x0A;speed." id="6" />
                                                                                        <Timeline enable="0">
                                                                                            <BehaviorLayer name="behavior_layer1">
                                                                                                <BehaviorKeyframe name="keyframe1" index="1">
                                                                                                    <Diagram>
                                                                                                        <Box name="Say Text" id="2" tooltip="Say the text set in parameters." x="422" y="65">
                                                                                                            <bitmap>media/images/box/interaction/say.png</bitmap>
                                                                                                            <script language="4">
                                                                                                                <content>
                                                                                                                    <![CDATA[import time

class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)
        self.tts = ALProxy('ALTextToSpeech')
        self.ttsStop = ALProxy('ALTextToSpeech', True) #Create another proxy as wait is blocking if audioout is remote

    def onLoad(self):
        self.bIsRunning = False
        self.ids = []
        
    def onUnload(self):
        for id in self.ids:
            try:
                self.ttsStop.stop(id)
            except:
                pass
        while( self.bIsRunning ):
            time.sleep( 0.2 )

    def onInput_onStart(self, p):
        self.bIsRunning = True
        try:
            sentence = "\RSPD="+ str( self.getParameter("Speed (%)") ) + "\ "
            sentence += "\VCT="+ str( self.getParameter("Voice shaping (%)") ) + "\ "
            sentence += str(p)
            sentence +=  "\RST\ "
            id = self.tts.post.say(str(sentence))
            self.ids.append(id)
            self.tts.wait(id, 0)
        finally:
            try:
                self.ids.remove(id)
            except:
                pass
            if( self.ids == [] ):
                self.onStopped() # activate output of the box
                self.bIsRunning = False

    def onInput_onStop(self):
        self.onUnload()]]>
</content>
                                                                                                            </script>
                                                                                                            <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                                                                                                            <Input name="onStart" type="3" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this Input." id="2" />
                                                                                                            <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this Input." id="3" />
                                                                                                            <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when Box behavior is finished." id="4" />
                                                                                                            <Parameter name="Voice shaping (%)" inherits_from_parent="1" content_type="1" value="100" default_value="100" min="50" max="150" tooltip='Used to modify at runtime the voice feature (tone, speed). In a slighty&#x0A;different way than pitch and speed, it gives a kind of &quot;gender or age&#x0A;modification&quot; effect.&#x0A;&#x0A;For instance, a quite good male derivation of female voice can be&#x0A;obtained setting this parameter to 78%.&#x0A;&#x0A;Note: For a better effect, you can compensate this parameter with the&#x0A;speed parameter. For example, if you want to decrease by 20% the voice&#x0A;shaping, you will have to increase by 20% the speed to keep a constant&#x0A;average speed.' id="5" />
                                                                                                            <Parameter name="Speed (%)" inherits_from_parent="1" content_type="1" value="100" default_value="100" min="50" max="200" tooltip="Changes the speed of the voice.&#x0A;&#x0A;Note: For a better effect, you can compensate this parameter with the voice&#x0A;shaping parameter. For example, if you want to increase by 20% the speed, you&#x0A;will have to decrease by 20% the voice shaping to keep a constant average&#x0A;speed." id="6" />
                                                                                                        </Box>
                                                                                                        <Box name="Localized Text" id="5" tooltip="Send on the output the text associated with the robot&apos;s current voice language.&#x0A;You can display and edit the text associated with any language by&#x0A;selecting the language in the combobox.&#x0A;&#x0A;!!Warning!! The text sent on the output is NOT the displayed one but the one&#x0A;associated with the robot&apos;s current voice language." plugin="localizationbox_plugin" x="114" y="68">
                                                                                                            <bitmap>media/images/box/interaction/vocabulary.png</bitmap>
                                                                                                            <script language="4">
                                                                                                                <content>
                                                                                                                    <![CDATA[class MyClass(GeneratedClass):
	def __init__(self):
		try: # disable autoBind
			GeneratedClass.__init__(self, False)
		except TypeError: # if NAOqi < 1.14
			GeneratedClass.__init__( self )

		self.tts = ALProxy("ALTextToSpeech")
		self.sentences = {
			"Chinese" : " 计算全身的关节，我总共有25个自由度 ",
			"English" : " Points are also earned by ending the match with a balanced pendulum. ",
			"French" : " En comptant toutes les articulation de mon corps, je dispose de 25 degrés de liberté. ",
			"German" : "  ",
			"Italian" : "  ",
			"Japanese" : "  ",
			"Korean" : "  ",
			"Portuguese" : "  ",
			"Brazilian" : "  ",
			"Spanish" : "  ",
			"Arabic" : "  ",
			"Polish" : "  ",
			"Czech" : "  ",
			"Dutch" : "  ",
			"Danish" : "  ",
			"Finnish" : " Jos kaikki niveleni ja liikkumaratani lasketaan, minulla on 25 vapausastetta. ",
			"Swedish" : "  ",
			"Russian" : "  ",
			"Turkish" : "  "
		}

	def onInput_onStart(self):
		sDefaultLang = self.tts.getLanguage()
		self.onStopped(self.sentences[sDefaultLang])]]>
</content>
                                                                                                            </script>
                                                                                                            <pluginContent>
                                                                                                                <chinese>计算全身的关节，我总共有25个自由度</chinese>
                                                                                                                <english>Points are also earned by ending the match with a balanced pendulum.</english>
                                                                                                                <french>En comptant toutes les articulation de mon corps, je dispose de 25 degrés de liberté.</french>
                                                                                                                <german></german>
                                                                                                                <italian></italian>
                                                                                                                <japanese></japanese>
                                                                                                                <korean></korean>
                                                                                                                <portuguese></portuguese>
                                                                                                                <brazilian></brazilian>
                                                                                                                <spanish></spanish>
                                                                                                                <arabic></arabic>
                                                                                                                <polish></polish>
                                                                                                                <czech></czech>
                                                                                                                <dutch></dutch>
                                                                                                                <danish></danish>
                                                                                                                <finnish>Jos kaikki niveleni ja liikkumaratani lasketaan, minulla on 25 vapausastetta.</finnish>
                                                                                                                <swedish></swedish>
                                                                                                                <russian></russian>
                                                                                                                <turkish></turkish>
                                                                                                                <language>1</language>
                                                                                                            </pluginContent>
                                                                                                            <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                                                            <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Data is sent on the output when this input is stimulated." id="2" />
                                                                                                            <Output name="onStopped" type="3" type_size="1" nature="1" inner="0" tooltip="Data sent when asked." id="3" />
                                                                                                        </Box>
                                                                                                        <Link inputowner="0" indexofinput="4" outputowner="2" indexofoutput="4" />
                                                                                                        <Link inputowner="5" indexofinput="2" outputowner="0" indexofoutput="2" />
                                                                                                        <Link inputowner="2" indexofinput="2" outputowner="5" indexofoutput="3" />
                                                                                                    </Diagram>
                                                                                                </BehaviorKeyframe>
                                                                                            </BehaviorLayer>
                                                                                        </Timeline>
                                                                                    </Box>
                                                                                    <Link inputowner="1" indexofinput="2" outputowner="0" indexofoutput="1" />
                                                                                </Diagram>
                                                                            </BehaviorKeyframe>
                                                                        </BehaviorLayer>
                                                                        <BehaviorLayer name="LED">
                                                                            <BehaviorKeyframe name="keyframe6" index="6">
                                                                                <Diagram>
                                                                                    <Box name="Blink" id="2" tooltip="tags:&#x0A;LED" x="87" y="27">
                                                                                        <bitmap>media/images/box/interaction/LED.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)

    def onLoad(self):
        #~ puts code for box initialization here
        pass

    def onUnload(self):
        #~ puts code for box cleanup here
        pass

    def onInput_onStart(self):
        rDuration = 0.05;
        ALLeds.post.fadeRGB( "FaceLed0", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed1", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed2", 0xffffff, rDuration );
        ALLeds.post.fadeRGB( "FaceLed3", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed4", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed5", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed6", 0xffffff, rDuration );
        ALLeds.fadeRGB( "FaceLed7", 0x000000, rDuration );

        time.sleep( 0.1 );
        
        rDuration = 0.05;
        ALLeds.fadeRGB( "FaceLeds", 0xffffff, rDuration );
        
        self.onStopped()
        

    def onInput_onStop(self):
        self.onUnload() #~ it is usually a good idea to call onUnload of this box in a onStop method, as the code written in onUnload is used to finish the working of the box as well
        pass]]>
</content>
                                                                                        </script>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                                                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                                                                    </Box>
                                                                                    <Link inputowner="2" indexofinput="2" outputowner="0" indexofoutput="1" />
                                                                                </Diagram>
                                                                            </BehaviorKeyframe>
                                                                            <BehaviorKeyframe name="keyframe109" index="109">
                                                                                <Diagram>
                                                                                    <Box name="Blink" id="2" tooltip="tags:&#x0A;LED" x="103" y="58">
                                                                                        <bitmap>media/images/box/interaction/LED.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)

    def onLoad(self):
        #~ puts code for box initialization here
        pass

    def onUnload(self):
        #~ puts code for box cleanup here
        pass

    def onInput_onStart(self):
        rDuration = 0.05;
        ALLeds.post.fadeRGB( "FaceLed0", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed1", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed2", 0xffffff, rDuration );
        ALLeds.post.fadeRGB( "FaceLed3", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed4", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed5", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed6", 0xffffff, rDuration );
        ALLeds.fadeRGB( "FaceLed7", 0x000000, rDuration );

        time.sleep( 0.1 );
        
        rDuration = 0.05;
        ALLeds.fadeRGB( "FaceLeds", 0xffffff, rDuration );
        
        self.onStopped()
        

    def onInput_onStop(self):
        self.onUnload() #~ it is usually a good idea to call onUnload of this box in a onStop method, as the code written in onUnload is used to finish the working of the box as well
        pass]]>
</content>
                                                                                        </script>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                                                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                                                                    </Box>
                                                                                    <Link inputowner="2" indexofinput="2" outputowner="0" indexofoutput="1" />
                                                                                </Diagram>
                                                                            </BehaviorKeyframe>
                                                                            <BehaviorKeyframe name="keyframe145" index="145">
                                                                                <Diagram>
                                                                                    <Box name="Blink" id="2" tooltip="tags:&#x0A;LED" x="87" y="38">
                                                                                        <bitmap>media/images/box/interaction/LED.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)

    def onLoad(self):
        #~ puts code for box initialization here
        pass

    def onUnload(self):
        #~ puts code for box cleanup here
        pass

    def onInput_onStart(self):
        rDuration = 0.05;
        ALLeds.post.fadeRGB( "FaceLed0", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed1", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed2", 0xffffff, rDuration );
        ALLeds.post.fadeRGB( "FaceLed3", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed4", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed5", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed6", 0xffffff, rDuration );
        ALLeds.fadeRGB( "FaceLed7", 0x000000, rDuration );

        time.sleep( 0.1 );
        
        rDuration = 0.05;
        ALLeds.fadeRGB( "FaceLeds", 0xffffff, rDuration );
        
        self.onStopped()
        

    def onInput_onStop(self):
        self.onUnload() #~ it is usually a good idea to call onUnload of this box in a onStop method, as the code written in onUnload is used to finish the working of the box as well
        pass]]>
</content>
                                                                                        </script>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                                                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                                                                    </Box>
                                                                                    <Link inputowner="2" indexofinput="2" outputowner="0" indexofoutput="1" />
                                                                                </Diagram>
                                                                            </BehaviorKeyframe>
                                                                        </BehaviorLayer>
                                                                        <ActuatorList model="Nao">
                                                                            <ActuatorCurve name="value" actuator="HeadYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="21" value="-4.92434" />
                                                                                <Key frame="42" value="-4.57277" />
                                                                                <Key frame="67" value="-4.57277" />
                                                                                <Key frame="88" value="-4.92434" />
                                                                                <Key frame="102" value="-9.67049" />
                                                                                <Key frame="120" value="-3.16651" />
                                                                                <Key frame="132" value="-4.39699" />
                                                                                <Key frame="148" value="-4.83645" />
                                                                                <Key frame="167" value="-4.74856" />
                                                                                <Key frame="187" value="-4.74856" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="HeadPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="21" value="5.35899" />
                                                                                <Key frame="42" value="-10.11" />
                                                                                <Key frame="67" value="-10.11" />
                                                                                <Key frame="88" value="-11.4283" />
                                                                                <Key frame="102" value="5.35899" />
                                                                                <Key frame="120" value="-8.08844" />
                                                                                <Key frame="132" value="-11.0768" />
                                                                                <Key frame="148" value="-0.178188" />
                                                                                <Key frame="167" value="-6.15482" />
                                                                                <Key frame="187" value="-8.5279" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LShoulderPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="19" value="65.5648" />
                                                                                <Key frame="40" value="46.4923" />
                                                                                <Key frame="65" value="49.3927" />
                                                                                <Key frame="86" value="54.7541" />
                                                                                <Key frame="100" value="51.3264" />
                                                                                <Key frame="118" value="63.6312" />
                                                                                <Key frame="130" value="68.9926" />
                                                                                <Key frame="146" value="65.4769" />
                                                                                <Key frame="165" value="88.8561" />
                                                                                <Key frame="185" value="92.4597" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LShoulderRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="19" value="-9.5826" />
                                                                                <Key frame="40" value="-18" />
                                                                                <Key frame="65" value="-18" />
                                                                                <Key frame="86" value="-17.4929" />
                                                                                <Key frame="100" value="-16.6139" />
                                                                                <Key frame="118" value="-3.60596" />
                                                                                <Key frame="130" value="-3.16651" />
                                                                                <Key frame="146" value="-2.81494" />
                                                                                <Key frame="165" value="-0.00240423" />
                                                                                <Key frame="185" value="1.75543" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LElbowYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="19" value="-62.6692" />
                                                                                <Key frame="40" value="-15.2077" />
                                                                                <Key frame="65" value="-17.0534" />
                                                                                <Key frame="86" value="-16.4382" />
                                                                                <Key frame="100" value="-55.7258" />
                                                                                <Key frame="118" value="-88.9488" />
                                                                                <Key frame="130" value="-93.2555" />
                                                                                <Key frame="146" value="-83.4117" />
                                                                                <Key frame="165" value="-88.9488" />
                                                                                <Key frame="185" value="-91.0582" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LElbowRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="19" value="-60.3792" />
                                                                                <Key frame="40" value="-63.7191" />
                                                                                <Key frame="65" value="-62.4886" />
                                                                                <Key frame="86" value="-63.2796" />
                                                                                <Key frame="100" value="-88.5" />
                                                                                <Key frame="118" value="-75.3208" />
                                                                                <Key frame="130" value="-71.7172" />
                                                                                <Key frame="146" value="-86.4831" />
                                                                                <Key frame="165" value="-56.3362" />
                                                                                <Key frame="185" value="-54.3147" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LWristYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="19" value="-35.8622" />
                                                                                <Key frame="40" value="33.9238" />
                                                                                <Key frame="65" value="32.957" />
                                                                                <Key frame="86" value="36.9121" />
                                                                                <Key frame="100" value="0.173379" />
                                                                                <Key frame="118" value="-60.5598" />
                                                                                <Key frame="130" value="-60.1203" />
                                                                                <Key frame="146" value="-46.1456" />
                                                                                <Key frame="165" value="-73.3041" />
                                                                                <Key frame="185" value="-73.1283" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LHand" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="19" value="0.998" />
                                                                                <Key frame="40" value="0.7376" />
                                                                                <Key frame="65" value="0.7388" />
                                                                                <Key frame="86" value="0.7396" />
                                                                                <Key frame="100" value="0.5" />
                                                                                <Key frame="118" value="0.7604" />
                                                                                <Key frame="130" value="0.7592" />
                                                                                <Key frame="146" value="0.5572" />
                                                                                <Key frame="165" value="0.6016" />
                                                                                <Key frame="185" value="0.6016" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RShoulderPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="17" value="74.0951" />
                                                                                <Key frame="38" value="64.3391" />
                                                                                <Key frame="63" value="70.4916" />
                                                                                <Key frame="84" value="69.7884" />
                                                                                <Key frame="98" value="82.5327" />
                                                                                <Key frame="116" value="90.0035" />
                                                                                <Key frame="128" value="91.8493" />
                                                                                <Key frame="144" value="81.5659" />
                                                                                <Key frame="163" value="95.3649" />
                                                                                <Key frame="183" value="99.5837" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RShoulderRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="17" value="0.261271" />
                                                                                <Key frame="38" value="2.72224" />
                                                                                <Key frame="63" value="3.95272" />
                                                                                <Key frame="84" value="3.51326" />
                                                                                <Key frame="98" value="3.42537" />
                                                                                <Key frame="116" value="-0.617646" />
                                                                                <Key frame="128" value="-0.178188" />
                                                                                <Key frame="144" value="0.876513" />
                                                                                <Key frame="163" value="0.964405" />
                                                                                <Key frame="183" value="0.437054" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RElbowYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="17" value="51.5021" />
                                                                                <Key frame="38" value="60.8187" />
                                                                                <Key frame="63" value="57.5667" />
                                                                                <Key frame="84" value="55.7209" />
                                                                                <Key frame="98" value="67.059" />
                                                                                <Key frame="116" value="80.4185" />
                                                                                <Key frame="128" value="87.9772" />
                                                                                <Key frame="144" value="83.9342" />
                                                                                <Key frame="163" value="93.4265" />
                                                                                <Key frame="183" value="96.0633" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RElbowRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="17" value="38.5869" />
                                                                                <Key frame="38" value="52.5617" />
                                                                                <Key frame="63" value="52.8253" />
                                                                                <Key frame="84" value="51.1554" />
                                                                                <Key frame="98" value="32.6981" />
                                                                                <Key frame="116" value="29.4461" />
                                                                                <Key frame="128" value="29.7977" />
                                                                                <Key frame="144" value="77.9624" />
                                                                                <Key frame="163" value="61.9661" />
                                                                                <Key frame="183" value="56.9562" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RWristYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="17" value="-24.7" />
                                                                                <Key frame="38" value="-55.9894" />
                                                                                <Key frame="51" value="-1.6" />
                                                                                <Key frame="63" value="-51.4191" />
                                                                                <Key frame="84" value="-55.55" />
                                                                                <Key frame="98" value="-24.8758" />
                                                                                <Key frame="116" value="-4.92434" />
                                                                                <Key frame="128" value="-5.01223" />
                                                                                <Key frame="144" value="36.7363" />
                                                                                <Key frame="163" value="53.1721" />
                                                                                <Key frame="183" value="53.3479" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RHand" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="17" value="0.4088" />
                                                                                <Key frame="38" value="0.4088" />
                                                                                <Key frame="51" value="0.5" />
                                                                                <Key frame="63" value="0.254" />
                                                                                <Key frame="84" value="0.256" />
                                                                                <Key frame="98" value="0.256" />
                                                                                <Key frame="116" value="0.256" />
                                                                                <Key frame="128" value="0.256" />
                                                                                <Key frame="144" value="0.6308" />
                                                                                <Key frame="163" value="0.7384" />
                                                                                <Key frame="183" value="0.7384" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LHipYawPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="39" value="-11.863" />
                                                                                <Key frame="64" value="-11.863" />
                                                                                <Key frame="85" value="-11.863" />
                                                                                <Key frame="117" value="-12.5661" />
                                                                                <Key frame="129" value="-12.4782" />
                                                                                <Key frame="164" value="-12.3024" />
                                                                                <Key frame="184" value="-12.3024" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LHipRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="39" value="3.69386" />
                                                                                <Key frame="64" value="3.69386" />
                                                                                <Key frame="85" value="3.69386" />
                                                                                <Key frame="117" value="7.20953" />
                                                                                <Key frame="129" value="7.29742" />
                                                                                <Key frame="164" value="9.75839" />
                                                                                <Key frame="184" value="9.75839" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LHipPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="39" value="15.0319" />
                                                                                <Key frame="64" value="15.0319" />
                                                                                <Key frame="85" value="15.0319" />
                                                                                <Key frame="117" value="12.9225" />
                                                                                <Key frame="129" value="13.0104" />
                                                                                <Key frame="164" value="13.2741" />
                                                                                <Key frame="184" value="13.1862" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LKneePitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="39" value="-5.18802" />
                                                                                <Key frame="64" value="-5.27591" />
                                                                                <Key frame="85" value="-5.18802" />
                                                                                <Key frame="117" value="-5.01223" />
                                                                                <Key frame="129" value="-5.01223" />
                                                                                <Key frame="164" value="-5.01223" />
                                                                                <Key frame="184" value="-4.66067" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LAnklePitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="39" value="4.83164" />
                                                                                <Key frame="64" value="4.83164" />
                                                                                <Key frame="85" value="4.91953" />
                                                                                <Key frame="117" value="6.06212" />
                                                                                <Key frame="129" value="6.06212" />
                                                                                <Key frame="164" value="6.50158" />
                                                                                <Key frame="184" value="6.50158" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LAnkleRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="39" value="-2.72224" />
                                                                                <Key frame="64" value="-2.72224" />
                                                                                <Key frame="85" value="-2.72224" />
                                                                                <Key frame="117" value="-5.62267" />
                                                                                <Key frame="129" value="-5.62267" />
                                                                                <Key frame="164" value="-7.55628" />
                                                                                <Key frame="184" value="-7.64418" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RHipRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="39" value="-4.39218" />
                                                                                <Key frame="64" value="-4.39218" />
                                                                                <Key frame="85" value="-4.39218" />
                                                                                <Key frame="117" value="-0.173379" />
                                                                                <Key frame="129" value="-0.0854875" />
                                                                                <Key frame="164" value="2.37548" />
                                                                                <Key frame="184" value="2.37548" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RHipPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="39" value="15.3786" />
                                                                                <Key frame="64" value="15.4665" />
                                                                                <Key frame="85" value="15.3786" />
                                                                                <Key frame="117" value="15.3786" />
                                                                                <Key frame="129" value="15.3786" />
                                                                                <Key frame="164" value="16.2576" />
                                                                                <Key frame="184" value="16.4333" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RKneePitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="39" value="-4.2164" />
                                                                                <Key frame="64" value="-4.12851" />
                                                                                <Key frame="85" value="-4.04062" />
                                                                                <Key frame="117" value="-4.56797" />
                                                                                <Key frame="129" value="-4.48007" />
                                                                                <Key frame="164" value="-4.39218" />
                                                                                <Key frame="184" value="-4.2164" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RAnklePitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="39" value="2.1997" />
                                                                                <Key frame="64" value="2.46337" />
                                                                                <Key frame="85" value="2.55126" />
                                                                                <Key frame="117" value="2.28759" />
                                                                                <Key frame="129" value="2.37548" />
                                                                                <Key frame="164" value="2.46337" />
                                                                                <Key frame="184" value="2.55126" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RAnkleRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="39" value="3.2544" />
                                                                                <Key frame="64" value="3.2544" />
                                                                                <Key frame="85" value="3.2544" />
                                                                                <Key frame="117" value="0.00240423" />
                                                                                <Key frame="129" value="0.00240423" />
                                                                                <Key frame="164" value="-2.107" />
                                                                                <Key frame="184" value="-2.107" />
                                                                            </ActuatorCurve>
                                                                        </ActuatorList>
                                                                    </Timeline>
                                                                    <Resource name="Standing" type="Lock" timeout="2" />
                                                                    <Resource name="All motors" type="Lock" timeout="2" />
                                                                    <Resource name="Speakers" type="Lock" timeout="2" />
                                                                </Box>
                                                                <Box name="Sentence17" id="22" tooltip="This box is empty (contains a single motion layer with no motors defined in it) and should be used to create any movement you&apos;d like." x="2147" y="1111">
                                                                    <bitmap>media/images/box/movement/move.png</bitmap>
                                                                    <script language="4">
                                                                        <content>
                                                                            <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)

    def onLoad(self):
        #~ puts code for box initialization here
        pass

    def onUnload(self):
        #~ puts code for box cleanup here
        pass

    def onInput_onStart(self):
        #~ self.onStopped() #~ activate output of the box
        pass

    def onInput_onStop(self):
        self.onStopped()]]>
</content>
                                                                    </script>
                                                                    <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                                                                    <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this Input." id="2" />
                                                                    <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this Input." id="3" />
                                                                    <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when Box behavior is finished." id="4" />
                                                                    <Parameter name="Number of Naos" inherits_from_parent="1" content_type="1" value="2000" default_value="0" min="0" max="1000000" tooltip="" id="5" />
                                                                    <Timeline enable="1" fps="25" start_frame="0" end_frame="215" size="300">
                                                                        <BehaviorLayer name="speech">
                                                                            <BehaviorKeyframe name="speech" index="10">
                                                                                <Diagram>
                                                                                    <Box name="LocalizedText" id="3" tooltip="Enter tooltip here" plugin="localizationbox_plugin" x="117" y="30">
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
	def __init__(self):
		try: # disable autoBind
			GeneratedClass.__init__(self, False)
		except TypeError: # if NAOqi < 1.14
			GeneratedClass.__init__( self )

		self.tts = ALProxy("ALTextToSpeech")
		self.sentences = {
			"Chinese" : " 我有两千多个兄弟分布在全球各地的高校和实验室中。 ",
			"English" : " and by raising themselves off of the ground using the bridge pull-up bar.  ",
			"French" : " Il y a plus de {nbRobots} Nao en utilisation, tout autour du monde, dans les universités et laboratoires. ",
			"German" : "  ",
			"Italian" : "  ",
			"Japanese" : "  ",
			"Korean" : "  ",
			"Portuguese" : "  ",
			"Brazilian" : "  ",
			"Spanish" : " Hay más de {nbRobots} robots ? Nao en utilización en todo el mundo, en universidades y laboratorios de investigación. ",
			"Arabic" : "  ",
			"Polish" : "  ",
			"Czech" : "  ",
			"Dutch" : "  ",
			"Danish" : "  ",
			"Finnish" : " Minulla on yli {nbRobots} sisarusta ympäri maailmaa yliopistoissa ja tutkimuslaitoksissa. ",
			"Swedish" : "  ",
			"Russian" : "  ",
			"Turkish" : "  "
		}

	def onInput_onStart(self):
		sDefaultLang = self.tts.getLanguage()
		self.onStopped(self.sentences[sDefaultLang])]]>
</content>
                                                                                        </script>
                                                                                        <pluginContent>
                                                                                            <chinese>我有两千多个兄弟分布在全球各地的高校和实验室中。</chinese>
                                                                                            <english>and by raising themselves off of the ground using the bridge pull-up bar. </english>
                                                                                            <french>Il y a plus de {nbRobots} Nao en utilisation, tout autour du monde, dans les universités et laboratoires.</french>
                                                                                            <german></german>
                                                                                            <italian></italian>
                                                                                            <japanese></japanese>
                                                                                            <korean></korean>
                                                                                            <portuguese></portuguese>
                                                                                            <brazilian></brazilian>
                                                                                            <spanish>Hay más de {nbRobots} robots ? Nao en utilización en todo el mundo, en universidades y laboratorios de investigación.</spanish>
                                                                                            <arabic></arabic>
                                                                                            <polish></polish>
                                                                                            <czech></czech>
                                                                                            <dutch></dutch>
                                                                                            <danish></danish>
                                                                                            <finnish>Minulla on yli {nbRobots} sisarusta ympäri maailmaa yliopistoissa ja tutkimuslaitoksissa.</finnish>
                                                                                            <swedish></swedish>
                                                                                            <russian></russian>
                                                                                            <turkish></turkish>
                                                                                            <language>1</language>
                                                                                        </pluginContent>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                                                        <Output name="onStopped" type="3" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                                                                    </Box>
                                                                                    <Box name="Say Text" id="4" tooltip="Say the sentence asked. See box parameters for fine tuning of the voice." x="589" y="29">
                                                                                        <bitmap>media/images/box/interaction/say.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)
        self.tts = ALProxy('ALTextToSpeech')
        self.ttsStop = ALProxy('ALTextToSpeech', True) #Create another proxy as wait is blocking if audioout is remote
        
    def onLoad(self):
        #puts code for box cleanup here
        self.ids = []
        
    def onUnload(self):
        #puts code for box cleanup here    
        for id in self.ids:
            try:
                self.ttsStop.stop(id)
            except:
                pass
        
    def onInput_onStart(self, p):
        sentence = "\RSPD="+ str( self.getParameter("speed") )+ "\ "
        sentence += "\VCT="+ str( self.getParameter("Voice Shaping") ) + "\ " 
        sentence += str(p)
        sentence +=  "\RST\ "
        id = self.tts.post.say(sentence)
        self.ids.append(id)
        self.tts.wait(id, 0)
        self.ids.remove(id)
        self.onStopped() # activate output of the box

    def onInput_onStop(self):
        self.onUnload()]]>
</content>
                                                                                        </script>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="3" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this Input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this Input." id="3" />
                                                                                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when Box behavior is finished." id="4" />
                                                                                        <Parameter name="Voice Shaping" inherits_from_parent="0" content_type="1" value="100" default_value="100" min="50" max="150" tooltip='This tag is used to modify at runtime the voice feature (tone, speed) in way slightly different of what pitch and speed modification does, giving a kind of &quot;gender or age modification &quot; effect.&#x0A;&#x0A;To better tune the effect, one should compensate the speed modification due to the value parameter. For exemple to keep an average constant speed, one should add 20% to speed parameter when decreasing 20% to the Voice Shaping (VCT) parameter :&#x0A;&#x0A;A quite good male derivation of female voice for example could be obtained using the following parameters: VCT=78.' id="5" />
                                                                                        <Parameter name="speed" inherits_from_parent="0" content_type="1" value="85" default_value="100" min="50" max="200" tooltip="change the speed of the voice" id="6" />
                                                                                        <Resource name="TTS" type="Lock" timeout="0" />
                                                                                    </Box>
                                                                                    <Link inputowner="3" indexofinput="2" outputowner="0" indexofoutput="1" />
                                                                                    <Link inputowner="4" indexofinput="2" outputowner="3" indexofoutput="4" />
                                                                                </Diagram>
                                                                            </BehaviorKeyframe>
                                                                        </BehaviorLayer>
                                                                        <BehaviorLayer name="LED">
                                                                            <BehaviorKeyframe name="blink" index="7">
                                                                                <Diagram>
                                                                                    <Box name="blink" id="1" tooltip="blink" x="130" y="41">
                                                                                        <bitmap>media/images/box/box-diagram.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)

    def onLoad(self):
        #~ puts code for box initialization here
        pass

    def onUnload(self):
        #~ puts code for box cleanup here
        pass

    def onInput_onStart(self):
        rDuration = 0.05;
        ALLeds.post.fadeRGB( "FaceLed0", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed1", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed2", 0xffffff, rDuration );
        ALLeds.post.fadeRGB( "FaceLed3", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed4", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed5", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed6", 0xffffff, rDuration );
        ALLeds.fadeRGB( "FaceLed7", 0x000000, rDuration );

        time.sleep( 0.1 );
        
        rDuration = 0.05;
        ALLeds.fadeRGB( "FaceLeds", 0xffffff, rDuration );
        
        return;
        

    def onInput_onStop(self):
        self.onUnload() #~ it is usually a good idea to call onUnload of this box in a onStop method, as the code written in onUnload is used to finish the working of the box as well
        pass]]>
</content>
                                                                                        </script>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                                                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                                                                    </Box>
                                                                                    <Link inputowner="1" indexofinput="2" outputowner="0" indexofoutput="1" />
                                                                                </Diagram>
                                                                            </BehaviorKeyframe>
                                                                            <BehaviorKeyframe name="blink_copy" index="83">
                                                                                <Diagram>
                                                                                    <Box name="blink" id="1" tooltip="blink" x="130" y="41">
                                                                                        <bitmap>media/images/box/box-diagram.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)

    def onLoad(self):
        #~ puts code for box initialization here
        pass

    def onUnload(self):
        #~ puts code for box cleanup here
        pass

    def onInput_onStart(self):
        rDuration = 0.05;
        ALLeds.post.fadeRGB( "FaceLed0", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed1", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed2", 0xffffff, rDuration );
        ALLeds.post.fadeRGB( "FaceLed3", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed4", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed5", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed6", 0xffffff, rDuration );
        ALLeds.fadeRGB( "FaceLed7", 0x000000, rDuration );

        time.sleep( 0.1 );
        
        rDuration = 0.05;
        ALLeds.fadeRGB( "FaceLeds", 0xffffff, rDuration );
        
        return;
        

    def onInput_onStop(self):
        self.onUnload() #~ it is usually a good idea to call onUnload of this box in a onStop method, as the code written in onUnload is used to finish the working of the box as well
        pass]]>
</content>
                                                                                        </script>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                                                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                                                                    </Box>
                                                                                    <Link inputowner="1" indexofinput="2" outputowner="0" indexofoutput="1" />
                                                                                </Diagram>
                                                                            </BehaviorKeyframe>
                                                                            <BehaviorKeyframe name="blink_copy_copy" index="124">
                                                                                <Diagram>
                                                                                    <Box name="blink" id="1" tooltip="blink" x="130" y="41">
                                                                                        <bitmap>media/images/box/box-diagram.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)

    def onLoad(self):
        #~ puts code for box initialization here
        pass

    def onUnload(self):
        #~ puts code for box cleanup here
        pass

    def onInput_onStart(self):
        rDuration = 0.05;
        ALLeds.post.fadeRGB( "FaceLed0", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed1", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed2", 0xffffff, rDuration );
        ALLeds.post.fadeRGB( "FaceLed3", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed4", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed5", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed6", 0xffffff, rDuration );
        ALLeds.fadeRGB( "FaceLed7", 0x000000, rDuration );

        time.sleep( 0.1 );
        
        rDuration = 0.05;
        ALLeds.fadeRGB( "FaceLeds", 0xffffff, rDuration );
        
        return;
        

    def onInput_onStop(self):
        self.onUnload() #~ it is usually a good idea to call onUnload of this box in a onStop method, as the code written in onUnload is used to finish the working of the box as well
        pass]]>
</content>
                                                                                        </script>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                                                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                                                                    </Box>
                                                                                    <Link inputowner="1" indexofinput="2" outputowner="0" indexofoutput="1" />
                                                                                </Diagram>
                                                                            </BehaviorKeyframe>
                                                                            <BehaviorKeyframe name="blink_copy_copy_copy" index="194">
                                                                                <Diagram>
                                                                                    <Box name="blink" id="1" tooltip="blink" x="130" y="41">
                                                                                        <bitmap>media/images/box/box-diagram.png</bitmap>
                                                                                        <script language="4">
                                                                                            <content>
                                                                                                <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)

    def onLoad(self):
        #~ puts code for box initialization here
        pass

    def onUnload(self):
        #~ puts code for box cleanup here
        pass

    def onInput_onStart(self):
        rDuration = 0.05;
        ALLeds.post.fadeRGB( "FaceLed0", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed1", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed2", 0xffffff, rDuration );
        ALLeds.post.fadeRGB( "FaceLed3", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed4", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed5", 0x000000, rDuration );
        ALLeds.post.fadeRGB( "FaceLed6", 0xffffff, rDuration );
        ALLeds.fadeRGB( "FaceLed7", 0x000000, rDuration );

        time.sleep( 0.1 );
        
        rDuration = 0.05;
        ALLeds.fadeRGB( "FaceLeds", 0xffffff, rDuration );
        
        return;
        

    def onInput_onStop(self):
        self.onUnload() #~ it is usually a good idea to call onUnload of this box in a onStop method, as the code written in onUnload is used to finish the working of the box as well
        pass]]>
</content>
                                                                                        </script>
                                                                                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                                                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                                                                    </Box>
                                                                                    <Link inputowner="1" indexofinput="2" outputowner="0" indexofoutput="1" />
                                                                                </Diagram>
                                                                            </BehaviorKeyframe>
                                                                        </BehaviorLayer>
                                                                        <ActuatorList model="Nao">
                                                                            <ActuatorCurve name="value" actuator="HeadYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="23" value="-1.84813" />
                                                                                <Key frame="38" value="-2.81494" />
                                                                                <Key frame="52" value="-4.13332" />
                                                                                <Key frame="66" value="-7.91266" />
                                                                                <Key frame="82" value="13.445" />
                                                                                <Key frame="115" value="-25.0515" />
                                                                                <Key frame="134" value="-10.11" />
                                                                                <Key frame="152" value="-2.37548" />
                                                                                <Key frame="169" value="-3.07861" />
                                                                                <Key frame="184" value="-2.90283" />
                                                                                <Key frame="208" value="-2.28759" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="HeadPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="23" value="-22.3269" />
                                                                                <Key frame="38" value="-18.987" />
                                                                                <Key frame="52" value="-13.6256" />
                                                                                <Key frame="66" value="-22.4148" />
                                                                                <Key frame="82" value="5.97423" />
                                                                                <Key frame="115" value="-22.3269" />
                                                                                <Key frame="134" value="12.7419" />
                                                                                <Key frame="152" value="-21.9753" />
                                                                                <Key frame="169" value="-20.2175" />
                                                                                <Key frame="184" value="-18.0202" />
                                                                                <Key frame="208" value="-7.56109" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LShoulderPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="20" value="82.6158" />
                                                                                <Key frame="35" value="96.1511" />
                                                                                <Key frame="49" value="86.6588" />
                                                                                <Key frame="63" value="90.614" />
                                                                                <Key frame="79" value="77.606" />
                                                                                <Key frame="112" value="67.2348" />
                                                                                <Key frame="131" value="72.0688" />
                                                                                <Key frame="149" value="60.6429" />
                                                                                <Key frame="166" value="49.4806" />
                                                                                <Key frame="181" value="89.2077" />
                                                                                <Key frame="205" value="82.6158" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LShoulderRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="20" value="1.40386" />
                                                                                <Key frame="35" value="1.14019" />
                                                                                <Key frame="49" value="1.0523" />
                                                                                <Key frame="63" value="8.78677" />
                                                                                <Key frame="79" value="1.31597" />
                                                                                <Key frame="112" value="27.244" />
                                                                                <Key frame="131" value="2.107" />
                                                                                <Key frame="149" value="2.28278" />
                                                                                <Key frame="166" value="12.5661" />
                                                                                <Key frame="181" value="14.5876" />
                                                                                <Key frame="205" value="5.62267" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LElbowYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="20" value="-51.507" />
                                                                                <Key frame="35" value="-103.539" />
                                                                                <Key frame="49" value="-65.4817" />
                                                                                <Key frame="63" value="-104.506" />
                                                                                <Key frame="79" value="-42.4541" />
                                                                                <Key frame="99" value="-62" />
                                                                                <Key frame="112" value="-101.869" />
                                                                                <Key frame="131" value="-43.1572" />
                                                                                <Key frame="149" value="-59.9446" />
                                                                                <Key frame="166" value="-100.99" />
                                                                                <Key frame="181" value="-101.078" />
                                                                                <Key frame="205" value="-55.4621" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LElbowRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="20" value="-52.8205" />
                                                                                <Key frame="35" value="-45.965" />
                                                                                <Key frame="49" value="-40.4278" />
                                                                                <Key frame="63" value="-43.6798" />
                                                                                <Key frame="79" value="-57.0393" />
                                                                                <Key frame="99" value="-72" />
                                                                                <Key frame="112" value="-37.2637" />
                                                                                <Key frame="131" value="-55.6331" />
                                                                                <Key frame="149" value="-75.7603" />
                                                                                <Key frame="166" value="-64.9496" />
                                                                                <Key frame="181" value="-23.201" />
                                                                                <Key frame="205" value="-33.5722" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LWristYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="35" value="29" />
                                                                                <Key frame="49" value="-5" />
                                                                                <Key frame="79" value="-5.18802" />
                                                                                <Key frame="112" value="-35" />
                                                                                <Key frame="149" value="-67" />
                                                                                <Key frame="181" value="-66.3607" />
                                                                                <Key frame="205" value="-10" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LHand" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="35" value="0.0727535" />
                                                                                <Key frame="79" value="0.0752989" />
                                                                                <Key frame="112" value="0.729091" />
                                                                                <Key frame="149" value="0.181818" />
                                                                                <Key frame="181" value="0.175662" />
                                                                                <Key frame="205" value="0.103636" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RShoulderPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="16" value="6.68218" />
                                                                                <Key frame="31" value="33.6649" />
                                                                                <Key frame="45" value="51.1554" />
                                                                                <Key frame="59" value="63.2844" />
                                                                                <Key frame="75" value="18.4597" />
                                                                                <Key frame="108" value="3.78175" />
                                                                                <Key frame="127" value="9.67049" />
                                                                                <Key frame="145" value="28.8309" />
                                                                                <Key frame="162" value="34.7196" />
                                                                                <Key frame="177" value="88.6852" />
                                                                                <Key frame="201" value="80.5991" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RShoulderRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="16" value="-3.78175" />
                                                                                <Key frame="31" value="-4.3091" />
                                                                                <Key frame="45" value="-0.498473" />
                                                                                <Key frame="59" value="-1.49656" />
                                                                                <Key frame="75" value="-0.79343" />
                                                                                <Key frame="108" value="-87.982" />
                                                                                <Key frame="127" value="-27.3367" />
                                                                                <Key frame="145" value="-6.50639" />
                                                                                <Key frame="162" value="-1.67235" />
                                                                                <Key frame="177" value="-16.8776" />
                                                                                <Key frame="201" value="-1.0571" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RElbowYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="16" value="8.4352" />
                                                                                <Key frame="31" value="84.4615" />
                                                                                <Key frame="45" value="44.3829" />
                                                                                <Key frame="59" value="38.9336" />
                                                                                <Key frame="75" value="45.3497" />
                                                                                <Key frame="95" value="30" />
                                                                                <Key frame="108" value="57.7425" />
                                                                                <Key frame="127" value="66.9711" />
                                                                                <Key frame="145" value="36.7363" />
                                                                                <Key frame="162" value="91.2292" />
                                                                                <Key frame="177" value="98.2605" />
                                                                                <Key frame="201" value="43.3282" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RElbowRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="16" value="82.6206" />
                                                                                <Key frame="31" value="60.6477" />
                                                                                <Key frame="45" value="66.7122" />
                                                                                <Key frame="59" value="60.1203" />
                                                                                <Key frame="75" value="88.8609" />
                                                                                <Key frame="95" value="63" />
                                                                                <Key frame="108" value="24.1726" />
                                                                                <Key frame="127" value="64.2513" />
                                                                                <Key frame="145" value="82.4448" />
                                                                                <Key frame="162" value="67.5033" />
                                                                                <Key frame="177" value="38.0595" />
                                                                                <Key frame="201" value="38.1474" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RWristYaw" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="31" value="28" />
                                                                                <Key frame="45" value="74" />
                                                                                <Key frame="75" value="73.563" />
                                                                                <Key frame="108" value="43" />
                                                                                <Key frame="145" value="97" />
                                                                                <Key frame="177" value="95.7996" />
                                                                                <Key frame="201" value="0" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RHand" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="31" value="0.181844" />
                                                                                <Key frame="75" value="0.181844" />
                                                                                <Key frame="108" value="0.703636" />
                                                                                <Key frame="145" value="0.378182" />
                                                                                <Key frame="177" value="0.36548" />
                                                                                <Key frame="201" value="0.221818" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LHipYawPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="33" value="-17.7517" />
                                                                                <Key frame="77" value="-20.4764" />
                                                                                <Key frame="110" value="-18.9822" />
                                                                                <Key frame="147" value="-18.6306" />
                                                                                <Key frame="179" value="-18.367" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LHipRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="33" value="1.93602" />
                                                                                <Key frame="77" value="-0.876513" />
                                                                                <Key frame="110" value="11.692" />
                                                                                <Key frame="147" value="8.35212" />
                                                                                <Key frame="179" value="12.8346" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LHipPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="33" value="15.5592" />
                                                                                <Key frame="77" value="4.48488" />
                                                                                <Key frame="110" value="18.196" />
                                                                                <Key frame="147" value="18.6355" />
                                                                                <Key frame="179" value="18.0202" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LKneePitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="33" value="-0.090296" />
                                                                                <Key frame="77" value="-0.178188" />
                                                                                <Key frame="110" value="1.84332" />
                                                                                <Key frame="147" value="3.1617" />
                                                                                <Key frame="179" value="4.74375" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LAnklePitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="33" value="-0.441863" />
                                                                                <Key frame="77" value="6.67737" />
                                                                                <Key frame="110" value="-2.72705" />
                                                                                <Key frame="147" value="-3.95753" />
                                                                                <Key frame="179" value="-4.04542" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="LAnkleRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="33" value="-1.57965" />
                                                                                <Key frame="77" value="-0.788621" />
                                                                                <Key frame="110" value="-8.61098" />
                                                                                <Key frame="147" value="-6.06212" />
                                                                                <Key frame="179" value="-9.05044" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RHipRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="33" value="-7.29261" />
                                                                                <Key frame="77" value="-4.48007" />
                                                                                <Key frame="110" value="-1.66754" />
                                                                                <Key frame="147" value="-6.06212" />
                                                                                <Key frame="179" value="-1.93121" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RHipPitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="33" value="13.7966" />
                                                                                <Key frame="77" value="1.75543" />
                                                                                <Key frame="110" value="18.4549" />
                                                                                <Key frame="147" value="18.1912" />
                                                                                <Key frame="179" value="20.4764" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RKneePitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="33" value="-4.48007" />
                                                                                <Key frame="77" value="-4.56797" />
                                                                                <Key frame="110" value="-4.30429" />
                                                                                <Key frame="147" value="-4.56797" />
                                                                                <Key frame="179" value="-4.56797" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RAnklePitch" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="33" value="5.71537" />
                                                                                <Key frame="77" value="12.8346" />
                                                                                <Key frame="110" value="3.69386" />
                                                                                <Key frame="147" value="3.78175" />
                                                                                <Key frame="179" value="3.2544" />
                                                                            </ActuatorCurve>
                                                                            <ActuatorCurve name="value" actuator="RAnkleRoll" recordable="1" mute="0" unit="-1">
                                                                                <Key frame="33" value="5.18802" />
                                                                                <Key frame="77" value="2.99072" />
                                                                                <Key frame="110" value="1.0571" />
                                                                                <Key frame="147" value="4.39699" />
                                                                                <Key frame="179" value="1.32078" />
                                                                            </ActuatorCurve>
                                                                        </ActuatorList>
                                                                    </Timeline>
                                                                    <Resource name="Standing" type="Lock" timeout="2" />
                                                                    <Resource name="HeadYaw" type="Lock" timeout="2" />
                                                                    <Resource name="HeadPitch" type="Lock" timeout="2" />
                                                                    <Resource name="LShoulderPitch" type="Lock" timeout="2" />
                                                                    <Resource name="LShoulderRoll" type="Lock" timeout="2" />
                                                                    <Resource name="LElbowRoll" type="Lock" timeout="2" />
                                                                    <Resource name="LElbowYaw" type="Lock" timeout="2" />
                                                                    <Resource name="LWristYaw" type="Lock" timeout="2" />
                                                                    <Resource name="LHand" type="Lock" timeout="2" />
                                                                    <Resource name="RShoulderPitch" type="Lock" timeout="2" />
                                                                    <Resource name="RShoulderRoll" type="Lock" timeout="2" />
                                                                    <Resource name="RElbowRoll" type="Lock" timeout="2" />
                                                                    <Resource name="RElbowYaw" type="Lock" timeout="2" />
                                                                    <Resource name="RWristYaw" type="Lock" timeout="2" />
                                                                    <Resource name="RHand" type="Lock" timeout="2" />
                                                                    <Resource name="LHipYawPitch" type="Lock" timeout="2" />
                                                                    <Resource name="LHipPitch" type="Lock" timeout="2" />
                                                                    <Resource name="LHipRoll" type="Lock" timeout="2" />
                                                                    <Resource name="LKneePitch" type="Lock" timeout="2" />
                                                                    <Resource name="LAnklePitch" type="Lock" timeout="2" />
                                                                    <Resource name="LAnkleRoll" type="Lock" timeout="2" />
                                                                    <Resource name="RHipPitch" type="Lock" timeout="2" />
                                                                    <Resource name="RHipRoll" type="Lock" timeout="2" />
                                                                    <Resource name="RKneePitch" type="Lock" timeout="2" />
                                                                    <Resource name="RAnklePitch" type="Lock" timeout="2" />
                                                                    <Resource name="RAnkleRoll" type="Lock" timeout="2" />
                                                                    <Resource name="Speakers" type="Lock" timeout="2" />
                                                                </Box>
                                                                <Link inputowner="2" indexofinput="2" outputowner="0" indexofoutput="2" />
                                                                <Link inputowner="0" indexofinput="4" outputowner="2" indexofoutput="5" />
                                                                <Link inputowner="3" indexofinput="2" outputowner="1" indexofoutput="4" />
                                                                <Link inputowner="4" indexofinput="2" outputowner="2" indexofoutput="4" />
                                                                <Link inputowner="1" indexofinput="2" outputowner="4" indexofoutput="4" />
                                                                <Link inputowner="0" indexofinput="4" outputowner="5" indexofoutput="4" />
                                                                <Link inputowner="6" indexofinput="2" outputowner="3" indexofoutput="4" />
                                                                <Link inputowner="5" indexofinput="2" outputowner="13" indexofoutput="4" />
                                                                <Link inputowner="9" indexofinput="2" outputowner="8" indexofoutput="4" />
                                                                <Link inputowner="8" indexofinput="2" outputowner="6" indexofoutput="4" />
                                                                <Link inputowner="12" indexofinput="2" outputowner="9" indexofoutput="4" />
                                                                <Link inputowner="10" indexofinput="2" outputowner="7" indexofoutput="4" />
                                                                <Link inputowner="14" indexofinput="2" outputowner="11" indexofoutput="4" />
                                                                <Link inputowner="11" indexofinput="2" outputowner="10" indexofoutput="4" />
                                                                <Link inputowner="15" indexofinput="2" outputowner="14" indexofoutput="4" />
                                                                <Link inputowner="7" indexofinput="2" outputowner="12" indexofoutput="4" />
                                                                <Link inputowner="17" indexofinput="2" outputowner="16" indexofoutput="4" />
                                                                <Link inputowner="19" indexofinput="2" outputowner="18" indexofoutput="4" />
                                                                <Link inputowner="20" indexofinput="2" outputowner="19" indexofoutput="4" />
                                                                <Link inputowner="18" indexofinput="2" outputowner="17" indexofoutput="4" />
                                                                <Link inputowner="16" indexofinput="2" outputowner="15" indexofoutput="4" />
                                                                <Link inputowner="13" indexofinput="2" outputowner="21" indexofoutput="4" />
                                                                <Link inputowner="22" indexofinput="3" outputowner="20" indexofoutput="4" />
                                                                <Link inputowner="21" indexofinput="2" outputowner="22" indexofoutput="4" />
                                                            </Diagram>
                                                        </BehaviorKeyframe>
                                                    </BehaviorLayer>
                                                </Timeline>
                                            </Box>
                                            <Box name="Say" id="26" tooltip="Say some text. Note that you must open the box to enter the text." x="272" y="345">
                                                <bitmap>media/images/box/interaction/say.png</bitmap>
                                                <script language="4">
                                                    <content>
                                                        <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        try: # disable autoBind
          GeneratedClass.__init__(self, False)
        except TypeError: # if NAOqi < 1.14
          GeneratedClass.__init__( self )

    def onLoad(self):
        self.bIsRunning = False

    def onUnload(self):
        self.bIsRunning = False

    def onInput_onStart(self):
        self.bIsRunning = True

    def onInput_onStop(self):
        if( self.bIsRunning ):
            self.onUnload()
            self.onStopped()]]>
</content>
                                                </script>
                                                <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                                                <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this Input." id="2" />
                                                <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this Input." id="3" />
                                                <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished or stopped." id="4" />
                                                <Parameter name="Voice shaping (%)" inherits_from_parent="0" content_type="1" value="100" default_value="100" min="50" max="150" tooltip='Used to modify at runtime the voice feature (tone, speed). In a slighty&#x0A;different way than pitch and speed, it gives a kind of &quot;gender or age&#x0A;modification&quot; effect.&#x0A;&#x0A;For instance, a quite good male derivation of female voice can be&#x0A;obtained setting this parameter to 78%.&#x0A;&#x0A;Note: For a better effect, you can compensate this parameter with the&#x0A;speed parameter. For example, if you want to decrease by 20% the voice&#x0A;shaping, you will have to increase by 20% the speed to keep a constant&#x0A;average speed.&#x0A;&#x0A;!Warning! This feature is not available yet in Japanese, Chinese and Korean.' id="5" />
                                                <Parameter name="Speed (%)" inherits_from_parent="0" content_type="1" value="100" default_value="100" min="50" max="200" tooltip="Changes the speed of the voice.&#x0A;&#x0A;Note: For a better effect, you can compensate this parameter with the voice&#x0A;shaping parameter. For example, if you want to increase by 20% the speed, you&#x0A;will have to decrease by 20% the voice shaping to keep a constant average&#x0A;speed.&#x0A;&#x0A;!Warning! This feature is not available yet in Japanese, Chinese and Korean." id="6" />
                                                <Timeline enable="0">
                                                    <BehaviorLayer name="behavior_layer1">
                                                        <BehaviorKeyframe name="keyframe1" index="1">
                                                            <Diagram>
                                                                <Box name="Say Text" id="2" tooltip="Say the text received on its input." x="422" y="65">
                                                                    <bitmap>media/images/box/interaction/say.png</bitmap>
                                                                    <script language="4">
                                                                        <content>
                                                                            <![CDATA[import time

class MyClass(GeneratedClass):
    def __init__(self):
        try: # disable autoBind
          GeneratedClass.__init__(self, False)
        except TypeError: # if NAOqi < 1.14
          GeneratedClass.__init__( self )
        self.tts = ALProxy('ALTextToSpeech')
        self.ttsStop = ALProxy('ALTextToSpeech', True) #Create another proxy as wait is blocking if audioout is remote

    def onLoad(self):
        self.bIsRunning = False
        self.ids = []
        
    def onUnload(self):
        for id in self.ids:
            try:
                self.ttsStop.stop(id)
            except:
                pass
        while( self.bIsRunning ):
            time.sleep( 0.2 )

    def onInput_onStart(self, p):
        self.bIsRunning = True
        try:
            sentence = "\RSPD="+ str( self.getParameter("Speed (%)") ) + "\ "
            sentence += "\VCT="+ str( self.getParameter("Voice shaping (%)") ) + "\ "
            sentence += str(p)
            sentence +=  "\RST\ "
            id = self.tts.post.say(str(sentence))
            self.ids.append(id)
            self.tts.wait(id, 0)
        finally:
            try:
                self.ids.remove(id)
            except:
                pass
            if( self.ids == [] ):
                self.onStopped() # activate output of the box
                self.bIsRunning = False

    def onInput_onStop(self):
        self.onUnload()]]>
</content>
                                                                    </script>
                                                                    <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                                                                    <Input name="onStart" type="3" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this Input." id="2" />
                                                                    <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this Input." id="3" />
                                                                    <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when Box behavior is finished." id="4" />
                                                                    <Parameter name="Voice shaping (%)" inherits_from_parent="1" content_type="1" value="100" default_value="100" min="50" max="150" tooltip='Used to modify at runtime the voice feature (tone, speed). In a slighty&#x0A;different way than pitch and speed, it gives a kind of &quot;gender or age&#x0A;modification&quot; effect.&#x0A;&#x0A;For instance, a quite good male derivation of female voice can be&#x0A;obtained setting this parameter to 78%.&#x0A;&#x0A;Note: For a better effect, you can compensate this parameter with the&#x0A;speed parameter. For example, if you want to decrease by 20% the voice&#x0A;shaping, you will have to increase by 20% the speed to keep a constant&#x0A;average speed.' id="5" />
                                                                    <Parameter name="Speed (%)" inherits_from_parent="1" content_type="1" value="100" default_value="100" min="50" max="200" tooltip="Changes the speed of the voice.&#x0A;&#x0A;Note: For a better effect, you can compensate this parameter with the voice&#x0A;shaping parameter. For example, if you want to increase by 20% the speed, you&#x0A;will have to decrease by 20% the voice shaping to keep a constant average&#x0A;speed." id="6" />
                                                                </Box>
                                                                <Box name="Localized Text" id="5" tooltip="Send on the output the text associated with the robot&apos;s current voice language.&#x0A;You can display and edit the text associated with any language by&#x0A;selecting the language in the combobox.&#x0A;&#x0A;!!Warning!! The text sent on the output is NOT the displayed one but the one&#x0A;associated with the robot&apos;s current voice language." plugin="localizationbox_plugin" x="114" y="68">
                                                                    <bitmap>media/images/box/interaction/vocabulary.png</bitmap>
                                                                    <script language="4">
                                                                        <content>
                                                                            <![CDATA[class MyClass(GeneratedClass):
	def __init__(self):
		try: # disable autoBind
			GeneratedClass.__init__(self, False)
		except TypeError: # if NAOqi < 1.14
			GeneratedClass.__init__( self )

		self.tts = ALProxy("ALTextToSpeech")
		self.sentences = {
			"Chinese" : " 你好 ",
			"English" : " Thats hurts. ",
			"French" : " Bonjour ",
			"German" : " Hallo ",
			"Italian" : " Ciao ",
			"Japanese" : " こんにちは ",
			"Korean" : " 안녕하세요 ",
			"Portuguese" : " Olá ",
			"Brazilian" : " Olá ",
			"Spanish" : " Hola ",
			"Arabic" : " مرحبا ",
			"Polish" : " Cześć ",
			"Czech" : " Ahoj ",
			"Dutch" : " Hallo ",
			"Danish" : " Hej ",
			"Finnish" : " Hei ",
			"Swedish" : " Hallå ",
			"Russian" : " Привет ",
			"Turkish" : " Merhaba "
		}

	def onInput_onStart(self):
		sDefaultLang = self.tts.getLanguage()
		self.onStopped(self.sentences[sDefaultLang])]]>
</content>
                                                                    </script>
                                                                    <pluginContent>
                                                                        <chinese>你好</chinese>
                                                                        <english>Thats hurts.</english>
                                                                        <french>Bonjour</french>
                                                                        <german>Hallo</german>
                                                                        <italian>Ciao</italian>
                                                                        <japanese>こんにちは</japanese>
                                                                        <korean>안녕하세요</korean>
                                                                        <portuguese>Olá</portuguese>
                                                                        <brazilian>Olá</brazilian>
                                                                        <spanish>Hola</spanish>
                                                                        <arabic>مرحبا</arabic>
                                                                        <polish>Cześć</polish>
                                                                        <czech>Ahoj</czech>
                                                                        <dutch>Hallo</dutch>
                                                                        <danish>Hej</danish>
                                                                        <finnish>Hei</finnish>
                                                                        <swedish>Hallå</swedish>
                                                                        <russian>Привет</russian>
                                                                        <turkish>Merhaba</turkish>
                                                                        <language>1</language>
                                                                    </pluginContent>
                                                                    <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                    <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Data is sent on the output when this input is stimulated." id="2" />
                                                                    <Output name="onStopped" type="3" type_size="1" nature="1" inner="0" tooltip="Data sent when asked." id="3" />
                                                                </Box>
                                                                <Link inputowner="0" indexofinput="4" outputowner="2" indexofoutput="4" />
                                                                <Link inputowner="5" indexofinput="2" outputowner="0" indexofoutput="2" />
                                                                <Link inputowner="2" indexofinput="2" outputowner="5" indexofoutput="3" />
                                                            </Diagram>
                                                        </BehaviorKeyframe>
                                                    </BehaviorLayer>
                                                </Timeline>
                                            </Box>
                                            <Box name="Random Eyes" id="24" tooltip="The color of the eyes changes randomly.&#x0A;&#x0A;Note: It is a never ending box. You have to call the onStop input to stop it." x="1180" y="100">
                                                <bitmap>media/images/box/interaction/LED.png</bitmap>
                                                <script language="4">
                                                    <content>
                                                        <![CDATA[import random

class MyClass(GeneratedClass):
    def __init__(self):
        try: # disable autoBind
          GeneratedClass.__init__(self, False)
        except TypeError: # if NAOqi < 1.14
          GeneratedClass.__init__( self )
        
    def onLoad(self):
        self.bIsRunning = False
        self.leds = ALProxy("ALLeds")

    def onUnload(self):
        #puts code for box cleanup here
        self.bMustStop = True

    def onInput_onStart(self):
        #self.onStopped() # activate output of the box
        if( self.bIsRunning ):
            return
        self.bIsRunning = True
        self.bMustStop = False
        while( not self.bMustStop ):
            rRandTime = random.uniform(0.0,2.0)
            self.leds.fadeRGB("FaceLeds", 256*random.randint(0,255) + 256*256*random.randint(0,255) + random.randint(0,255), rRandTime)
            time.sleep(random.uniform(0.0,3.0))
        self.bIsRunning = False
        self.onStopped()

    def onInput_onStop(self):
        self.onUnload()]]>
</content>
                                                </script>
                                                <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is stopped." id="4" />
                                            </Box>
                                            <Box name="Timer" id="25" tooltip="Send a signal with a predefined period." x="415" y="894">
                                                <bitmap>media/images/box/wait.png</bitmap>
                                                <script language="4">
                                                    <content>
                                                        <![CDATA[import threading

class MyClass(GeneratedClass):
    def __init__(self):
        try: # disable autoBind
          GeneratedClass.__init__(self, False)
        except TypeError: # if NAOqi < 1.14
          GeneratedClass.__init__( self )

    def onLoad(self):
        self.tb = False

    def onUnload(self):
        if( self.tb ):
            self.tb.cancel()
            self.tb = False

    def startTimer(self, period = 1):
        if( self.tb ):
            self.tb.cancel()
        self.tb = threading.Timer(period, self.startTimer, [period])
        self.tb.start()
        self.timerOutput()

    def onInput_onStart(self):
        self.startTimer( self.getParameter("Period (s)") )

    def onInput_onStop(self):
        bRunning = self.tb
        self.onUnload()
        if( bRunning ):
            self.onStopped()]]>
</content>
                                                </script>
                                                <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Start the timer using the configured period value." id="2" />
                                                <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Stop the timer." id="3" />
                                                <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is stopped." id="4" />
                                                <Output name="timerOutput" type="1" type_size="1" nature="2" inner="0" tooltip="Send a bang periodically." id="5" />
                                                <Parameter name="Period (s)" inherits_from_parent="0" content_type="2" value="300" default_value="1" min="0" max="5000" tooltip="Defines the period of the timer box (in seconds).&#x0A;&#x0A;For example, if this parameter is equal to 1s, the timerOutput will be stimulated&#x0A;every second until the onStop input is stimulated." id="6" />
                                            </Box>
                                            <Box name="Wait" id="27" tooltip="Wait a moment before sending a signal on the output. The wait can be stopped any&#x0A;time. You may restart it any time, and it will start again." x="273" y="893">
                                                <bitmap>media/images/box/wait.png</bitmap>
                                                <script language="4">
                                                    <content>
                                                        <![CDATA[import threading

class MyClass(GeneratedClass):
    def __init__(self):
        try: # disable autoBind
          GeneratedClass.__init__(self, False)
        except TypeError: # if NAOqi < 1.14
          GeneratedClass.__init__( self )

    def onLoad(self):
        self.tb = False

    def onUnload(self):
        if( self.tb ):
            self.tb.cancel()
            self.tb = False

    def triggerOutput( self, rPeriod = 1 ):
        self.onUnload() # to clean everything
        self.timerOutput()

    def startTimer( self, rPeriod = 1 ):
        if( self.tb ):
            self.tb.cancel()
        self.tb = threading.Timer( rPeriod, self.triggerOutput, [rPeriod] )
        self.tb.start()

    def onInput_onStart(self):
        self.startTimer( self.getParameter("Timeout (s)") )

    def onInput_onStop(self):
        bRunning = self.tb
        self.onUnload()
        if( bRunning and self.getParameter("Trigger timerOutput if cancelled")):
            self.timerOutput()]]>
</content>
                                                </script>
                                                <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Start the Wait box with the configured timeout value." id="2" />
                                                <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Stop the wait and stimulate the output." id="3" />
                                                <Output name="timerOutput" type="1" type_size="1" nature="1" inner="0" tooltip="Send a bang once time set in parameters is ellapsed, or if the box is stopped." id="4" />
                                                <Parameter name="Timeout (s)" inherits_from_parent="0" content_type="2" value="300" default_value="1" min="0" max="5000" tooltip="Duration the box waits before stimulating the output." id="5" />
                                                <Parameter name="Trigger timerOutput if cancelled" inherits_from_parent="0" content_type="0" value="0" default_value="1" tooltip="" id="6" />
                                            </Box>
                                            <Box name="Motor Heat" id="28" tooltip="Watch the temperature of a motor or a group of motors and notify when it gets hot or cold." x="781" y="403">
                                                <bitmap>media/images/box/sensors/motorsHot.png</bitmap>
                                                <script language="4">
                                                    <content>
                                                        <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        try: # disable autoBind
          GeneratedClass.__init__(self, False)
        except TypeError: # if NAOqi < 1.14
          GeneratedClass.__init__( self )

    def onLoad(self):
        self.bIsRunning = False
        sTemplate = "Device/SubDeviceList/%s/Temperature/Sensor/Value"
        self.memory = ALProxy("ALMemory")
        self.motion = ALProxy("ALMotion")
        self.aJointNames = [name for name in self.motion.getBodyNames("Body") if name != "RHipYawPitch"]
        self.aDataNames = [sTemplate % name for name in self.aJointNames]
        self.bCold = False
        self.bHot = False

    def onUnload(self):
        self.bMustStop = True

    def onInput_onStart(self):
        if( self.bIsRunning ):
            return
        self.bIsRunning = True
        self.bMustStop = False
        while( not self.bMustStop ):
            aTemperatures = self.getTemperatures()
            self.areTheyHotOrCold(aTemperatures)
            time.sleep( self.getParameter("Frequency of updates (s)") )
        self.bIsRunning = False
        self.bCold = False
        self.bHot = False
        self.onStopped()
        
    def getTemperatures(self):
        aDataValues = self.memory.getListData(self.aDataNames)
        aTemperatures = zip(self.aJointNames, aDataValues)
        sMotorName = self.getParameter("Motor name")
        if( sMotorName != "Whole body" ):
            if( sMotorName == "" ):
                aTemperatures = []
            else:
                aTags = [sMotorName]
                if( sMotorName == "Arms" ):
                    aTags.extend( self.motion.getBodyNames("LArm") )
                    aTags.extend( self.motion.getBodyNames("RArm") )
                elif( sMotorName == "Legs" ):
                    aTags.extend( self.motion.getBodyNames("LLeg") )
                    aTags.extend( self.motion.getBodyNames("RLeg") )
                else:
                    try:
                        aTags.extend( [name for name in self.motion.getBodyNames(sMotorName) if not name in aTags] )
                    except:
                        pass
                aTemp = []
                for tag in aTags:
                    aTemp.extend( [item for item in aTemperatures if tag in item[0]] )
                aTemperatures = aTemp
        return aTemperatures
        
    def areTheyHotOrCold(self, aTemperatures):
        bHot = False
        bCold = True
        for index in range(len(aTemperatures)):
            if( aTemperatures[index][1] >= self.getParameter("Hot temperature limit (°C)") ):
                bHot = True
                break
            elif( aTemperatures[index][1] > self.getParameter("Cold temperature limit (°C)") ):
                bCold = False
        if( bHot ):
            if( not self.bHot ):
                self.bHot = True
                self.onHot()
        elif( bCold ):
            if( not self.bCold ):
                self.bCold = True
                self.bHot = False
                self.onCold()
        else:
            self.bCold = False
            self.bHot = False

    def onInput_onStop(self):
        self.onUnload() #~ it is recommanded to call onUnload of this box in a onStop method, as the code written in onUnload is used to stop the box as well
        pass]]>
</content>
                                                </script>
                                                <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is stopped." id="4" />
                                                <Output name="onHot" type="1" type_size="1" nature="2" inner="0" tooltip="Signal sent when the motor temperature is above the hot temperature limit set in&#x0A;parameters." id="5" />
                                                <Output name="onCold" type="1" type_size="1" nature="2" inner="0" tooltip="Signal sent when the motor temperature is below the cold temperature limit set in parameters." id="6" />
                                                <Parameter name="Motor name" inherits_from_parent="0" content_type="3" value="Whole body" default_value="Whole body" custom_choice="0" tooltip="Name of the motor you want to watch." id="7">
                                                    <Choice value="Arms" />
                                                    <Choice value="Head" />
                                                    <Choice value="HeadPitch" />
                                                    <Choice value="HeadYaw" />
                                                    <Choice value="LAnklePitch" />
                                                    <Choice value="LAnkleRoll" />
                                                    <Choice value="LArm" />
                                                    <Choice value="Legs" />
                                                    <Choice value="LElbowRoll" />
                                                    <Choice value="LElbowYaw" />
                                                    <Choice value="LHand" />
                                                    <Choice value="LHipPitch" />
                                                    <Choice value="LHipRoll" />
                                                    <Choice value="LHipYawPitch" />
                                                    <Choice value="LKneePitch" />
                                                    <Choice value="LLeg" />
                                                    <Choice value="LShoulderPitch" />
                                                    <Choice value="LShoulderRoll" />
                                                    <Choice value="LWristYaw" />
                                                    <Choice value="RAnklePitch" />
                                                    <Choice value="RAnkleRoll" />
                                                    <Choice value="RArm" />
                                                    <Choice value="RElbowRoll" />
                                                    <Choice value="RElbowYaw" />
                                                    <Choice value="RHand" />
                                                    <Choice value="RHipPitch" />
                                                    <Choice value="RHipRoll" />
                                                    <Choice value="RKneePitch" />
                                                    <Choice value="RLeg" />
                                                    <Choice value="RShoulderPitch" />
                                                    <Choice value="RShoulderRoll" />
                                                    <Choice value="RWristYaw" />
                                                    <Choice value="Whole body" />
                                                </Parameter>
                                                <Parameter name="Cold temperature limit (°C)" inherits_from_parent="0" content_type="1" value="60" default_value="60" min="0" max="100" tooltip="If the motor temperature is below this threshold it is considered as cold." id="8" />
                                                <Parameter name="Hot temperature limit (°C)" inherits_from_parent="0" content_type="1" value="75" default_value="75" min="0" max="100" tooltip="If the motor temperature is above this threshold it is considered as hot." id="9" />
                                                <Parameter name="Frequency of updates (s)" inherits_from_parent="0" content_type="2" value="1" default_value="1" min="0.1" max="60" tooltip="This value in seconds is the time ellapsed between two updates of temperature&#x0A;values." id="10" />
                                            </Box>
                                            <Box name="Tactile Head" id="29" tooltip="Detect touch on head tactile sensor." x="785" y="517">
                                                <bitmap>media/images/box/sensors/tactileHead.png</bitmap>
                                                <script language="4">
                                                    <content>
                                                        <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        try: # disable autoBind
          GeneratedClass.__init__(self, False)
        except TypeError: # if NAOqi < 1.14
          GeneratedClass.__init__( self )

    def onLoad(self):
        self.bIsRunning = False

    def onUnload(self):
        self.bIsRunning = False

    def onInput_onStart(self):
        self.bIsRunning = True

    def onInput_onStop(self):
        if( self.bIsRunning ):
            self.onUnload() #~ it is usually a good idea to call onUnload of this box in a onStop method, as the code written in onUnload is used to finish the working of the box as well
            self.onStopped() #~ activate output of the box
        pass]]>
</content>
                                                </script>
                                                <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                <Input name="FrontTactilTouched" type="0" type_size="1" nature="4" stm_value_name="FrontTactilTouched" inner="1" tooltip="Connected to ALMemory. Will be stimulated every time the value subscribed to changes, respecting the refresh period." id="4" />
                                                <Input name="MiddleTactilTouched" type="0" type_size="1" nature="4" stm_value_name="MiddleTactilTouched" inner="1" tooltip="Connected to ALMemory. Will be stimulated every time the value subscribed to changes, respecting the refresh period." id="5" />
                                                <Input name="RearTactilTouched" type="0" type_size="1" nature="4" stm_value_name="RearTactilTouched" inner="1" tooltip="Connected to ALMemory. Will be stimulated every time the value subscribed to changes, respecting the refresh period." id="6" />
                                                <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is stopped." id="7" />
                                                <Output name="frontTouched" type="1" type_size="1" nature="2" inner="0" tooltip="The front tactile head sensor was touched." id="8" />
                                                <Output name="middleTouched" type="1" type_size="1" nature="2" inner="0" tooltip="The middle tactile head sensor was touched." id="9" />
                                                <Output name="rearTouched" type="1" type_size="1" nature="2" inner="0" tooltip="The rear tactile head sensor was touched." id="10" />
                                                <Timeline enable="0">
                                                    <BehaviorLayer name="behavior_layer1">
                                                        <BehaviorKeyframe name="keyframe1" index="1">
                                                            <Diagram>
                                                                <Box name="If &gt; 0" id="1" tooltip="Transmit only if value is &gt; 0." x="260" y="17">
                                                                    <bitmap>media/images/box/box-diagram.png</bitmap>
                                                                    <script language="4">
                                                                        <content>
                                                                            <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        try: # disable autoBind
          GeneratedClass.__init__(self, False)
        except TypeError: # if NAOqi < 1.14
          GeneratedClass.__init__( self )

    def onLoad(self):
        #~ puts code for box initialization here
        pass

    def onUnload(self):
        #~ puts code for box cleanup here
        pass

    def onInput_onStart(self, p):
        if(p > 0):
            self.onStopped() #~ activate output of the box
        pass

    def onInput_onStop(self):
        self.onUnload() #~ it is usually a good idea to call onUnload of this box in a onStop method, as the code written in onUnload is used to finish the working of the box as well
        pass]]>
</content>
                                                                    </script>
                                                                    <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                    <Input name="onStart" type="0" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                    <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                                    <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                                                </Box>
                                                                <Box name="If &gt; 0" id="2" tooltip="Transmit only if value is &gt; 0." x="256" y="119">
                                                                    <bitmap>media/images/box/box-diagram.png</bitmap>
                                                                    <script language="4">
                                                                        <content>
                                                                            <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        try: # disable autoBind
          GeneratedClass.__init__(self, False)
        except TypeError: # if NAOqi < 1.14
          GeneratedClass.__init__( self )

    def onLoad(self):
        #~ puts code for box initialization here
        pass

    def onUnload(self):
        #~ puts code for box cleanup here
        pass

    def onInput_onStart(self, p):
        if(p > 0):
            self.onStopped() #~ activate output of the box
        pass

    def onInput_onStop(self):
        self.onUnload() #~ it is usually a good idea to call onUnload of this box in a onStop method, as the code written in onUnload is used to finish the working of the box as well
        pass]]>
</content>
                                                                    </script>
                                                                    <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                    <Input name="onStart" type="0" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                    <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                                    <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                                                </Box>
                                                                <Box name="If &gt; 0" id="3" tooltip="Transmit only if value is &gt; 0." x="261" y="223">
                                                                    <bitmap>media/images/box/box-diagram.png</bitmap>
                                                                    <script language="4">
                                                                        <content>
                                                                            <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        try: # disable autoBind
          GeneratedClass.__init__(self, False)
        except TypeError: # if NAOqi < 1.14
          GeneratedClass.__init__( self )

    def onLoad(self):
        #~ puts code for box initialization here
        pass

    def onUnload(self):
        #~ puts code for box cleanup here
        pass

    def onInput_onStart(self, p):
        if(p > 0):
            self.onStopped() #~ activate output of the box
        pass

    def onInput_onStop(self):
        self.onUnload() #~ it is usually a good idea to call onUnload of this box in a onStop method, as the code written in onUnload is used to finish the working of the box as well
        pass]]>
</content>
                                                                    </script>
                                                                    <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                                    <Input name="onStart" type="0" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                                    <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                                    <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                                                </Box>
                                                                <Link inputowner="1" indexofinput="2" outputowner="0" indexofoutput="4" />
                                                                <Link inputowner="0" indexofinput="8" outputowner="1" indexofoutput="4" />
                                                                <Link inputowner="2" indexofinput="2" outputowner="0" indexofoutput="5" />
                                                                <Link inputowner="0" indexofinput="9" outputowner="2" indexofoutput="4" />
                                                                <Link inputowner="3" indexofinput="2" outputowner="0" indexofoutput="6" />
                                                                <Link inputowner="0" indexofinput="10" outputowner="3" indexofoutput="4" />
                                                            </Diagram>
                                                        </BehaviorKeyframe>
                                                    </BehaviorLayer>
                                                </Timeline>
                                            </Box>
                                            <Box name="Connector" id="30" tooltip="Just a connector.&#x0A;" x="976" y="543">
                                                <bitmap>media/images/box/box-diagram.png</bitmap>
                                                <script language="4">
                                                    <content>
                                                        <![CDATA[]]>
</content>
                                                </script>
                                                <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                                <Timeline enable="0">
                                                    <BehaviorLayer name="behavior_layer1">
                                                        <BehaviorKeyframe name="keyframe1" index="1">
                                                            <Diagram>
                                                                <Link inputowner="0" indexofinput="4" outputowner="0" indexofoutput="2" />
                                                            </Diagram>
                                                        </BehaviorKeyframe>
                                                    </BehaviorLayer>
                                                </Timeline>
                                            </Box>
                                            <Box name="Popup" id="31" tooltip="Play the sound, but NOW!&#x0A;v0.6&#x0A;&#x0A;- use preloading of sound, but sadly, it&apos;s notloaded at init but at onload (so at the loading of a timeline, argghhhh)" x="965" y="353">
                                                <bitmap>media/images/box/interaction/play_music.png</bitmap>
                                                <script language="4">
                                                    <content>
                                                        <![CDATA[# PlaySoundWithPreloading
# v0.6
import time

class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)
        self.player = ALProxy('ALAudioPlayer')
        self.playerStop = ALProxy('ALAudioPlayer', True) #Create another proxy as wait is blocking if audioout is remote

    def onLoad(self):
        self.bIsRunning = False
        self.ids = []
        self.loadedSoundID = self.player.loadFile( ALFrameManager.getBehaviorPath(self.behaviorId) + self.getParameter("Sound File") );
        

    def onUnload(self):
        try:
            self.player.unloadFile(self.loadedSoundID)
        except:
            #self.log("Could not unload the sound")
            pass
        for id in self.ids:
            try:
                self.playerStop.stop(id)
            except:
                pass
        while( self.bIsRunning ):
            time.sleep( 0.2 )

    def onInput_onStart(self):
        self.bIsRunning = True
        try:
            id = self.player.post.play(self.loadedSoundID,self.getParameter("Volume (%)")/100.,self.getParameter("Panorama"))
            self.ids.append(id)
            self.player.wait(id, 0)
        finally:
            try:
                self.ids.remove(id)
            except:
                pass
            if( self.ids == [] ):
                self.onStopped() # activate output of the box
                self.bIsRunning = False

    def onInput_onStop(self):
        self.onUnload()
# PlaySoundWithPreloading - end
pass]]>
</content>
                                                </script>
                                                <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                                                <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this Input." id="2" />
                                                <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this Input." id="3" />
                                                <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when Box behavior is finished." id="4" />
                                                <Parameter name="Volume (%)" inherits_from_parent="1" content_type="1" value="100" default_value="100" min="0" max="100" tooltip="Volume the file is played with." id="5" />
                                                <Parameter name="Panorama" inherits_from_parent="1" content_type="2" value="0" default_value="0" min="-1" max="1" tooltip="Value which determines if the sound is played more on NAO&apos;s left or right.&#x0A;You can particularly set it to:&#x0A;- -1 to play only on the left loudspeaker.&#x0A;- 0 to play on both loudspeakers.&#x0A;- 1 to play only on the right loudspeaker." id="6" />
                                                <Parameter name="Play in loop" inherits_from_parent="1" content_type="0" value="0" default_value="0" tooltip="This parameter allows to play the file in loop. The playing will start each time at&#x0A;the beginning of the file." id="7" />
                                                <Parameter name="Sound File" inherits_from_parent="0" content_type="4" value="/sounds/popup.wav" default_value="" tooltip="select your sound file from project ressource" id="8" />
                                            </Box>
                                            <Link inputowner="14" indexofinput="3" outputowner="14" indexofoutput="6" />
                                            <Link inputowner="13" indexofinput="2" outputowner="0" indexofoutput="2" />
                                            <Link inputowner="1" indexofinput="2" outputowner="16" indexofoutput="5" />
                                            <Link inputowner="9" indexofinput="2" outputowner="17" indexofoutput="4" />
                                            <Link inputowner="8" indexofinput="2" outputowner="14" indexofoutput="6" />
                                            <Link inputowner="7" indexofinput="2" outputowner="8" indexofoutput="4" />
                                            <Link inputowner="17" indexofinput="2" outputowner="14" indexofoutput="5" />
                                            <Link inputowner="2" indexofinput="2" outputowner="5" indexofoutput="4" />
                                            <Link inputowner="15" indexofinput="2" outputowner="0" indexofoutput="2" />
                                            <Link inputowner="6" indexofinput="2" outputowner="15" indexofoutput="4" />
                                            <Link inputowner="14" indexofinput="2" outputowner="15" indexofoutput="4" />
                                            <Link inputowner="11" indexofinput="2" outputowner="14" indexofoutput="7" />
                                            <Link inputowner="4" indexofinput="2" outputowner="11" indexofoutput="4" />
                                            <Link inputowner="14" indexofinput="3" outputowner="14" indexofoutput="7" />
                                            <Link inputowner="14" indexofinput="3" outputowner="14" indexofoutput="5" />
                                            <Link inputowner="10" indexofinput="2" outputowner="4" indexofoutput="4" />
                                            <Link inputowner="5" indexofinput="2" outputowner="10" indexofoutput="4" />
                                            <Link inputowner="19" indexofinput="2" outputowner="9" indexofoutput="4" />
                                            <Link inputowner="5" indexofinput="2" outputowner="19" indexofoutput="4" />
                                            <Link inputowner="20" indexofinput="2" outputowner="15" indexofoutput="4" />
                                            <Link inputowner="21" indexofinput="2" outputowner="20" indexofoutput="5" />
                                            <Link inputowner="22" indexofinput="2" outputowner="15" indexofoutput="4" />
                                            <Link inputowner="23" indexofinput="2" outputowner="14" indexofoutput="5" />
                                            <Link inputowner="23" indexofinput="2" outputowner="14" indexofoutput="6" />
                                            <Link inputowner="23" indexofinput="2" outputowner="14" indexofoutput="7" />
                                            <Link inputowner="6" indexofinput="3" outputowner="23" indexofoutput="4" />
                                            <Link inputowner="20" indexofinput="3" outputowner="23" indexofoutput="4" />
                                            <Link inputowner="12" indexofinput="3" outputowner="23" indexofoutput="4" />
                                            <Link inputowner="16" indexofinput="2" outputowner="0" indexofoutput="2" />
                                            <Link inputowner="3" indexofinput="2" outputowner="7" indexofoutput="4" />
                                            <Link inputowner="5" indexofinput="2" outputowner="3" indexofoutput="4" />
                                            <Link inputowner="26" indexofinput="2" outputowner="22" indexofoutput="6" />
                                            <Link inputowner="15" indexofinput="2" outputowner="26" indexofoutput="4" />
                                            <Link inputowner="25" indexofinput="2" outputowner="27" indexofoutput="4" />
                                            <Link inputowner="11" indexofinput="2" outputowner="25" indexofoutput="4" />
                                            <Link inputowner="27" indexofinput="2" outputowner="15" indexofoutput="4" />
                                            <Link inputowner="15" indexofinput="2" outputowner="2" indexofoutput="4" />
                                            <Link inputowner="29" indexofinput="2" outputowner="23" indexofoutput="4" />
                                            <Link inputowner="29" indexofinput="3" outputowner="29" indexofoutput="8" />
                                            <Link inputowner="29" indexofinput="3" outputowner="29" indexofoutput="9" />
                                            <Link inputowner="29" indexofinput="3" outputowner="29" indexofoutput="10" />
                                            <Link inputowner="30" indexofinput="2" outputowner="29" indexofoutput="8" />
                                            <Link inputowner="30" indexofinput="2" outputowner="29" indexofoutput="9" />
                                            <Link inputowner="30" indexofinput="2" outputowner="29" indexofoutput="10" />
                                            <Link inputowner="2" indexofinput="2" outputowner="30" indexofoutput="4" />
                                            <Link inputowner="28" indexofinput="2" outputowner="23" indexofoutput="4" />
                                            <Link inputowner="12" indexofinput="2" outputowner="15" indexofoutput="4" />
                                            <Link inputowner="9" indexofinput="3" outputowner="30" indexofoutput="4" />
                                            <Link inputowner="4" indexofinput="3" outputowner="30" indexofoutput="4" />
                                            <Link inputowner="30" indexofinput="2" outputowner="28" indexofoutput="5" />
                                            <Link inputowner="30" indexofinput="2" outputowner="26" indexofoutput="4" />
                                            <Link inputowner="3" indexofinput="3" outputowner="30" indexofoutput="4" />
                                            <Link inputowner="18" indexofinput="2" outputowner="12" indexofoutput="6" />
                                            <Link inputowner="24" indexofinput="3" outputowner="18" indexofoutput="4" />
                                            <Link inputowner="24" indexofinput="3" outputowner="21" indexofoutput="4" />
                                            <Link inputowner="24" indexofinput="2" outputowner="20" indexofoutput="5" />
                                            <Link inputowner="24" indexofinput="2" outputowner="12" indexofoutput="6" />
                                            <Link inputowner="31" indexofinput="2" outputowner="28" indexofoutput="5" />
                                            <Link inputowner="14" indexofinput="3" outputowner="25" indexofoutput="4" />
                                        </Diagram>
                                    </BehaviorKeyframe>
                                </BehaviorLayer>
                            </Timeline>
                        </Box>
                        <Link inputowner="1" indexofinput="2" outputowner="0" indexofoutput="2" />
                        <Link inputowner="0" indexofinput="4" outputowner="1" indexofoutput="4" />
                    </Diagram>
                </BehaviorKeyframe>
            </BehaviorLayer>
        </Timeline>
    </Box>
</ChoregrapheProject>
